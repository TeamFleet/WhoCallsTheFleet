!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(d,e){var t=[],l=t.slice,v=t.concat,s=t.push,i=t.indexOf,n={},r=n.toString,y=n.hasOwnProperty,m={},g=d.document,o="2.1.3",S=function(e,t){return new S.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,c=/-([\da-z])/gi,f=function(e,t){return t.toUpperCase()};function p(e){var t=e.length,n=S.type(e);return"function"!==n&&!S.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}S.fn=S.prototype={jquery:o,constructor:S,selector:"",length:0,toArray:function(){return l.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:l.call(this)},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return S.each(this,e,t)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||S.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(S.isPlainObject(r)||(i=S.isArray(r)))?(i?(i=!1,o=n&&S.isArray(n)?n:[]):o=n&&S.isPlainObject(n)?n:{},a[t]=S.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===S.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!S.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===S.type(e)&&!e.nodeType&&!S.isWindow(e)&&!(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[r.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=S.trim(e))&&(1===e.indexOf("use strict")?((t=g.createElement("script")).text=e,g.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(u,"ms-").replace(c,f)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=p(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(p(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return v.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),S.isFunction(e)?(r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i):void 0},now:Date.now,support:m}),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,d,w,o,r,v,f,y,x,c,l,m,_,i,g,b,a,s,S,k="sizzle"+1*new Date,C=n.document,A=0,p=0,u=oe(),h=oe(),D=oe(),E=function(e,t){return e===t&&(l=!0),0},I={}.hasOwnProperty,t=[],T=t.pop,N=t.push,R=t.push,j=t.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=P.replace("w","w#"),M="\\["+B+"*("+P+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+B+"*\\]",F=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",$=new RegExp(B+"+","g"),H=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),z=new RegExp("^"+B+"*,"+B+"*"),K=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),U=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),W=new RegExp(F),V=new RegExp("^"+L+"$"),Y={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P.replace("w","w*")+")"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){m()};try{R.apply(t=j.call(C.childNodes),C.childNodes),t[C.childNodes.length].nodeType}catch(e){R={apply:t.length?function(e,t){N.apply(e,j.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,n,r){var i,o,a,s,u,c,l,f,p,h;if((t?t.ownerDocument||t:C)!==_&&m(t),n=n||[],s=(t=t||_).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&g){if(11!==s&&(i=Q.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&S(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return R.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&d.getElementsByClassName)return R.apply(n,t.getElementsByClassName(a)),n}if(d.qsa&&(!b||!b.test(e))){if(f=l=k,p=t,h=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=v(e),(l=t.getAttribute("id"))?f=l.replace(ee,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+ve(c[u]);p=Z.test(e)&&he(t.parentNode)||t,h=c.join(",")}if(h)try{return R.apply(n,p.querySelectorAll(h)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return y(e.replace(H,"$1"),t,n,r)}function oe(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ae(e){return e[k]=!0,e}function se(e){var t=_.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function pe(a){return ae(function(o){return o=+o,ae(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=ie.support={},r=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},m=ie.setDocument=function(e){var t,n,u=e?e.ownerDocument||e:C;return u!==_&&9===u.nodeType&&u.documentElement?(i=(_=u).documentElement,(n=u.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),g=!r(u),d.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=se(function(e){return e.appendChild(u.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=J.test(u.getElementsByClassName),d.getById=se(function(e){return i.appendChild(e).id=k,!u.getElementsByName||!u.getElementsByName(k).length}),d.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=d.getElementsByClassName&&function(e,t){return g?t.getElementsByClassName(e):void 0},a=[],b=[],(d.qsa=J.test(u.querySelectorAll))&&(se(function(e){i.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+B+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+k+"-]").length||b.push("~="),e.querySelectorAll(":checked").length||b.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||b.push(".#.+[+~]")}),se(function(e){var t=u.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(d.matchesSelector=J.test(s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&se(function(e){d.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",F)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=J.test(i.compareDocumentPosition),S=t||J.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===C&&S(C,e)?-1:t===u||t.ownerDocument===C&&S(C,t)?1:c?O(c,e)-O(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===u?-1:t===u?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===C?-1:s[r]===C?1:0},u):_},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==_&&m(e),t=t.replace(U,"='$1']"),!(!d.matchesSelector||!g||a&&a.test(t)||b&&b.test(t)))try{var n=s.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,_,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==_&&m(e),S(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==_&&m(e);var n=w.attrHandle[t.toLowerCase()],r=n&&I.call(w.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==r?r:d.attributes||!g?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,c=!d.sortStable&&e.slice(0),e.sort(E),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return c=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(w=ie.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=v(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=u[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&u(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ie.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,d,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),g="of-type"===e;return 1===d&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,c=y!==m?"nextSibling":"previousSibling",l=e.parentNode,f=g&&e.nodeName.toLowerCase(),p=!n&&!g;if(l){if(y){for(;c;){for(o=e;o=o[c];)if(g?o.nodeName.toLowerCase()===f:1===o.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?l.firstChild:l.lastChild],m&&p){for(s=(r=(i=l[k]||(l[k]={}))[h]||[])[0]===A&&r[1],a=r[0]===A&&r[2],o=s&&l.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||u.pop();)if(1===o.nodeType&&++a&&o===e){i[h]=[A,s,a];break}}else if(p&&(r=(e[k]||(e[k]={}))[h])&&r[0]===A)a=r[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||u.pop())&&((g?o.nodeName.toLowerCase()!==f:1!==o.nodeType)||!++a||(p&&((o[k]||(o[k]={}))[h]=[A,a]),o!==e)););return(a-=v)===d||a%d==0&&0<=a/d}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=O(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ae(function(e){var r=[],i=[],s=f(e.replace(H,"$1"));return s[k]?ae(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ae(function(t){return function(e){return 0<ie(t,e).length}}),contains:ae(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:ae(function(n){return V.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=le(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=fe(e);function de(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(a,e,t){var s=e.dir,u=t&&"parentNode"===s,c=p++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var r,i,o=[A,c];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((r=(i=e[k]||(e[k]={}))[s])&&r[0]===A&&r[1]===c)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}}}function me(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function ge(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function be(h,d,v,y,m,e){return y&&!y[k]&&(y=be(y)),m&&!m[k]&&(m=be(m,e)),ae(function(e,t,n,r){var i,o,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(d||"*",n.nodeType?[n]:n,[]),f=!h||!e&&d?l:ge(l,s,h,n,r),p=v?m||(e?h:c||y)?[]:t:f;if(v&&v(f,p,n,r),y)for(i=ge(p,u),y(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(m||h){if(m){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);m(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=m?O(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=ge(p===t?p.splice(c,p.length):p),m?m(null,t,p,r):R.apply(t,p)})}function we(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=ye(function(e){return e===i},a,!0),c=ye(function(e){return-1<O(i,e)},a,!0),l=[function(e,t,n){var r=!o&&(n||t!==x)||((i=t).nodeType?u(e,t,n):c(e,t,n));return i=null,r}];s<r;s++)if(t=w.relative[e[s].type])l=[ye(me(l),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return be(1<s&&me(l),1<s&&ve(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(H,"$1"),t,s<n&&we(e.slice(s,n)),n<r&&we(e=e.slice(n)),n<r&&ve(e))}l.push(t)}return me(l)}return de.prototype=w.filters=w.pseudos,w.setFilters=new de,v=ie.tokenize=function(e,t){var n,r,i,o,a,s,u,c=h[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=w.preFilter;a;){for(o in(!n||(r=z.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=K.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),w.filter)!(r=Y[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):h(e,s).slice(0)},f=ie.compile=function(e,t){var n,y,m,g,b,r,i=[],o=[],a=D[e+" "];if(!a){for(t||(t=v(e)),n=t.length;n--;)(a=we(t[n]))[k]?i.push(a):o.push(a);(a=D(e,(y=o,g=0<(m=i).length,b=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,c="0",l=e&&[],f=[],p=x,h=e||b&&w.find.TAG("*",i),d=A+=null==p?1:Math.random()||.1,v=h.length;for(i&&(x=t!==_&&t);c!==v&&null!=(o=h[c]);c++){if(b&&o){for(a=0;s=y[a++];)if(s(o,t,n)){r.push(o);break}i&&(A=d)}g&&((o=!s&&o)&&u--,e&&l.push(o))}if(u+=c,g&&c!==u){for(a=0;s=m[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=T.call(r));f=ge(f)}R.apply(r,f),i&&!e&&0<f.length&&1<u+m.length&&ie.uniqueSort(r)}return i&&(A=d,x=p),l},g?ae(r):r))).selector=e}return a},y=ie.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&v(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&d.getById&&9===t.nodeType&&g&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Y.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(te,ne),Z.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ve(o)))return R.apply(n,r),n;break}}return(c||f(e,l))(r,t,!g,n,Z.test(e)&&he(t.parentNode)||t),n},d.sortStable=k.split("").sort(E).join("")===k,d.detectDuplicates=!!l,m(),d.sortDetached=se(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ue(q,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(d);S.find=h,S.expr=h.selectors,S.expr[":"]=S.expr.pseudos,S.unique=h.uniqueSort,S.text=h.getText,S.isXMLDoc=h.isXML,S.contains=h.contains;var b=S.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function _(e,n,r){if(S.isFunction(n))return S.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return S.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(x.test(n))return S.filter(n,e,r);n=S.filter(n,e)}return S.grep(e,function(e){return 0<=i.call(n,e)!==r})}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(i[t],this))return!0}));for(t=0;t<n;t++)S.find(e,i[t],r);return(r=this.pushStack(1<n?S.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&b.test(e)?S(e):e||[],!1).length}});var k,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:C.exec(e))||!n[1]&&t)return!t||t.jquery?(t||k).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),w.test(n[1])&&S.isPlainObject(t))for(n in t)S.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=g.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=g,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):S.isFunction(e)?void 0!==k.ready?k.ready(e):e(S):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),S.makeArray(e,this))}).prototype=S.fn,k=S(g);var A=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function E(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=b.test(e)||"string"!=typeof e?S(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.unique(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.unique(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S.dir(e,"parentNode")},parentsUntil:function(e,t,n){return S.dir(e,"parentNode",n)},next:function(e){return E(e,"nextSibling")},prev:function(e){return E(e,"previousSibling")},nextAll:function(e){return S.dir(e,"nextSibling")},prevAll:function(e){return S.dir(e,"previousSibling")},nextUntil:function(e,t,n){return S.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return S.dir(e,"previousSibling",n)},siblings:function(e){return S.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return S.sibling(e.firstChild)},contents:function(e){return e.contentDocument||S.merge([],e.childNodes)}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(D[r]||S.unique(n),A.test(r)&&n.reverse()),this.pushStack(n)}});var I,T=/\S+/g,N={};function R(){g.removeEventListener("DOMContentLoaded",R,!1),d.removeEventListener("load",R,!1),S.ready()}S.Callbacks=function(i){var e,n;i="string"==typeof i?N[i]||(n=N[e=i]={},S.each(e.match(T)||[],function(e,t){n[t]=!0}),n):S.extend({},i);var t,r,o,a,s,u,c=[],l=!i.once&&[],f=function(e){for(t=i.memory&&e,r=!0,u=a||0,a=0,s=c.length,o=!0;c&&u<s;u++)if(!1===c[u].apply(e[0],e[1])&&i.stopOnFalse){t=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):t?c=[]:p.disable())},p={add:function(){if(c){var e=c.length;!function r(e){S.each(e,function(e,t){var n=S.type(t);"function"===n?i.unique&&p.has(t)||c.push(t):t&&t.length&&"string"!==n&&r(t)})}(arguments),o?s=c.length:t&&(a=e,f(t))}return this},remove:function(){return c&&S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,c,n));)c.splice(n,1),o&&(n<=s&&s--,n<=u&&u--)}),this},has:function(e){return e?-1<S.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=t=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,t||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||r&&!l||(t=[e,(t=t||[]).slice?t.slice():t],o?l.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},S.extend({Deferred:function(e){var o=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=S.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&S.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return a.pipe=a.then,S.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=l.call(arguments),a=o.length,s=1!==a||e&&S.isFunction(e.promise)?a:0,u=1===s?e:S.Deferred(),c=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?l.call(arguments):e,r===i?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&S.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(u.reject).progress(c(r,t,i)):--s;return s||u.resolveWith(n,o),u.promise()}}),S.fn.ready=function(e){return S.ready.promise().done(e),this},S.extend({isReady:!1,readyWait:1,holdReady:function(e){e?S.readyWait++:S.ready(!0)},ready:function(e){(!0===e?--S.readyWait:S.isReady)||((S.isReady=!0)!==e&&0<--S.readyWait||(I.resolveWith(g,[S]),S.fn.triggerHandler&&(S(g).triggerHandler("ready"),S(g).off("ready"))))}}),S.ready.promise=function(e){return I||(I=S.Deferred(),"complete"===g.readyState?setTimeout(S.ready):(g.addEventListener("DOMContentLoaded",R,!1),d.addEventListener("load",R,!1))),I.promise(e)},S.ready.promise();var j=S.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===S.type(n))for(s in i=!0,n)S.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,S.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=S.expando+O.uid++}S.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},O.uid=1,O.accepts=S.acceptData,O.prototype={key:function(t){if(!O.accepts(t))return 0;var n={},r=t[this.expando];if(!r){r=O.uid++;try{n[this.expando]={value:r},Object.defineProperties(t,n)}catch(e){n[this.expando]=r,S.extend(t,n)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(S.isEmptyObject(o))S.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,S.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{S.isArray(t)?r=t.concat(t.map(S.camelCase)):(i=S.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(T)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!S.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var q=new O,B=new O,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function M(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(L,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:P.test(n)?S.parseJSON(n):n)}catch(e){}B.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return B.hasData(e)||q.hasData(e)},data:function(e,t,n){return B.access(e,t,n)},removeData:function(e,t){B.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),S.fn.extend({data:function(r,e){var t,n,i,o=this[0],a=o&&o.attributes;if(void 0===r){if(this.length&&(i=B.get(o),1===o.nodeType&&!q.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),M(o,n,i[n])));q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof r?this.each(function(){B.set(this,r)}):j(this,function(t){var e,n=S.camelCase(r);if(o&&void 0===t){if(void 0!==(e=B.get(o,r)))return e;if(void 0!==(e=B.get(o,n)))return e;if(void 0!==(e=M(o,n,void 0)))return e}else this.each(function(){var e=B.get(this,n);B.set(this,n,t),-1!==r.indexOf("-")&&void 0!==e&&B.set(this,r,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){B.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||S.isArray(n)?r=q.access(e,t,S.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:S.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var F,$,H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],K=function(e,t){return e=t||e,"none"===S.css(e,"display")||!S.contains(e.ownerDocument,e)},U=/^(?:checkbox|radio)$/i;F=g.createDocumentFragment().appendChild(g.createElement("div")),($=g.createElement("input")).setAttribute("type","radio"),$.setAttribute("checked","checked"),$.setAttribute("name","t"),F.appendChild($),m.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked,F.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!F.cloneNode(!0).lastChild.defaultValue;var W="undefined";m.focusinBubbles="onfocusin"in d;var V=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,G=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function J(){return!0}function Q(){return!1}function Z(){try{return g.activeElement}catch(e){}}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,p,h,d,v,y=q.get(t);if(y)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=S.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof S!==W&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(T)||[""]).length;c--;)h=v=(s=X.exec(e[c])||[])[1],d=(s[2]||"").split(".").sort(),h&&(f=S.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=S.event.special[h]||{},l=S.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||((p=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(h,a,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),S.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,h,d,v,y=q.hasData(e)&&q.get(e);if(y&&(u=y.events)){for(c=(t=(t||"").match(T)||[""]).length;c--;)if(h=v=(s=X.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),h){for(f=S.event.special[h]||{},p=u[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,d,y.handle)||S.removeEvent(e,h,y.handle),delete u[h])}else for(h in u)S.event.remove(e,h+t[c],n,r,!0);S.isEmptyObject(u)&&(delete y.handle,q.remove(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,u,c,l,f=[n||g],p=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!G.test(p+S.event.triggered)&&(0<=p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),l=S.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!S.isWindow(n)){for(s=l.delegateType||p,G.test(s+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||g)&&f.push(a.defaultView||a.parentWindow||d)}for(i=0;(o=f[i++])&&!e.isPropagationStopped();)e.type=1<i?s:l.bindType||p,(c=(q.get(o,"events")||{})[e.type]&&q.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&S.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!S.acceptData(n)||u&&S.isFunction(n[p])&&!S.isWindow(n)&&((a=n[u])&&(n[u]=null),n[S.event.triggered=p](),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(e){e=S.event.fix(e);var t,n,r,i,o,a=[],s=l.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],c=S.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=S.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?0<=S(i,this).index(u):S.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||g).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[S.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Y.test(i)?this.mouseHooks:V.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new S.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=g),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==Z()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===Z()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&S.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return S.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=S.extend(new S.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?S.event.trigger(i,null,t):S.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},S.Event=function(e,t){return this instanceof S.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?J:Q):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||S.now(),void(this[S.expando]=!0)):new S.Event(e,t)},S.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=J,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return(!n||n!==this&&!S.contains(this,n))&&(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),m.focusinBubbles||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e),!0)};S.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=q.access(e,r);t||e.addEventListener(n,i,!0),q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=q.access(e,r)-1;t?q.access(e,r,t):(e.removeEventListener(n,i,!0),q.remove(e,r))}}}),S.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Q;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return S().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=S.guid++)),this.each(function(){S.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){S.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?S.event.trigger(e,t,n,!0):void 0}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,re=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return S.nodeName(e,"table")&&S.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function pe(e,t){for(var n=0,r=e.length;n<r;n++)q.set(e[n],"globalEval",!t||q.get(t[n],"globalEval"))}function he(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),a=q.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)S.event.add(t,i,c[i][n]);B.hasData(e)&&(s=B.access(e),u=S.extend({},s),B.set(t,u))}}function de(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&S.nodeName(e,t)?S.merge([e],n):n}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,S.extend({clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),f=S.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=de(l),r=0,i=(o=de(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&U.test(s.type)?u.checked=s.checked:("input"===c||"textarea"===c)&&(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||de(e),a=a||de(l),r=0,i=o.length;r<i;r++)he(o[r],a[r]);else he(e,l);return 0<(a=de(l,"script")).length&&pe(a,!f&&de(e,"script")),l},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===S.type(i))S.merge(f,i.nodeType?[i]:i);else if(ne.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(te.exec(i)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,o.innerHTML=s[1]+i.replace(ee,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;S.merge(f,o.childNodes),(o=l.firstChild).textContent=""}else f.push(t.createTextNode(i));for(l.textContent="",p=0;i=f[p++];)if((!r||-1===S.inArray(i,r))&&(u=S.contains(i.ownerDocument,i),o=de(l.appendChild(i),"script"),u&&pe(o),n))for(c=0;i=o[c++];)oe.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=S.event.special,a=0;void 0!==(n=e[a]);a++){if(S.acceptData(n)&&((i=n[q.expando])&&(t=q.cache[i]))){if(t.events)for(r in t.events)o[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);q.cache[i]&&delete q.cache[i]}delete B.cache[n[B.expando]]}}}),S.fn.extend({text:function(e){return j(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?S.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||S.cleanData(de(n)),n.parentNode&&(t&&S.contains(n.ownerDocument,n)&&pe(de(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return j(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!re.test(e)&&!ue[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,S.cleanData(de(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=v.apply([],n);var e,t,i,o,a,s,u=0,c=this.length,l=this,f=c-1,p=n[0],h=S.isFunction(p);if(h||1<c&&"string"==typeof p&&!m.checkClone&&ie.test(p))return this.each(function(e){var t=l.eq(e);h&&(n[0]=p.call(this,e,t.html())),t.domManip(n,r)});if(c&&(t=(e=S.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(i=S.map(de(e,"script"),le)).length;u<c;u++)a=e,u!==f&&(a=S.clone(a,!0,!0),o&&S.merge(i,de(a,"script"))),r.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,S.map(i,fe),u=0;u<o;u++)a=i[u],oe.test(a.type||"")&&!q.access(a,"globalEval")&&S.contains(s,a)&&(a.src?S._evalUrl&&S._evalUrl(a.src):S.globalEval(a.textContent.replace(se,"")))}return this}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var ve,ye={};function me(e,t){var n,r=S(t.createElement(e)).appendTo(t.body),i=d.getDefaultComputedStyle&&(n=d.getDefaultComputedStyle(r[0]))?n.display:S.css(r[0],"display");return r.detach(),i}function ge(e){var t=g,n=ye[e];return n||("none"!==(n=me(e,t))&&n||((t=(ve=(ve||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=me(e,t),ve.detach()),ye[e]=n),n}var be=/^margin/,we=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),xe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):d.getComputedStyle(e,null)};function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||xe(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||S.contains(e.ownerDocument,e)||(a=S.style(e,t)),we.test(a)&&be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Se(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r=g.documentElement,i=g.createElement("div"),o=g.createElement("div");if(o.style){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var e=d.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),d.getComputedStyle&&S.extend(m,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(g.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",r.appendChild(i),e=!parseFloat(d.getComputedStyle(t,null).marginRight),r.removeChild(i),o.removeChild(t),e}})}}(),S.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var ke=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+H+")(.*)$","i"),Ae=new RegExp("^([+-])=("+H+")","i"),De={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:"0",fontWeight:"400"},Ie=["Webkit","O","Moz","ms"];function Te(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ie.length;i--;)if((t=Ie[i]+n)in e)return t;return r}function Ne(e,t,n){var r=Ce.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Re(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=S.css(e,n+z[o],!0,i)),r?("content"===n&&(a-=S.css(e,"padding"+z[o],!0,i)),"margin"!==n&&(a-=S.css(e,"border"+z[o]+"Width",!0,i))):(a+=S.css(e,"padding"+z[o],!0,i),"padding"!==n&&(a+=S.css(e,"border"+z[o]+"Width",!0,i)));return a}function je(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=xe(e),a="border-box"===S.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=_e(e,t,o))<0||null==i)&&(i=e.style[t]),we.test(i))return i;r=a&&(m.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Re(e,t,n||(a?"border":"content"),r,o)+"px"}function Oe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=q.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&K(r)&&(o[a]=q.access(r,"olddisplay",ge(r.nodeName)))):(i=K(r),"none"===n&&i||q.set(r,"olddisplay",i?n:S.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function qe(e,t,n,r,i){return new qe.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=S.camelCase(t),u=e.style;return t=S.cssProps[s]||(S.cssProps[s]=Te(u,s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:("string"===(o=typeof n)&&(i=Ae.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(S.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||S.cssNumber[s]||(n+="px"),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=S.camelCase(t);return t=S.cssProps[s]||(S.cssProps[s]=Te(e.style,s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ee&&(i=Ee[t]),""===n||n?(o=parseFloat(i),!0===n||S.isNumeric(o)?o||0:i):i}}),S.each(["height","width"],function(e,i){S.cssHooks[i]={get:function(e,t,n){return t?ke.test(S.css(e,"display"))&&0===e.offsetWidth?S.swap(e,De,function(){return je(e,i,n)}):je(e,i,n):void 0},set:function(e,t,n){var r=n&&xe(e);return Ne(0,t,n?Re(e,i,n,"border-box"===S.css(e,"boxSizing",!1,r),r):0)}}}),S.cssHooks.marginRight=Se(m.reliableMarginRight,function(e,t){return t?S.swap(e,{display:"inline-block"},_e,[e,"marginRight"]):void 0}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+z[t]+o]=r[t]||r[t-2]||r[0];return n}},be.test(i)||(S.cssHooks[i+o].set=Ne)}),S.fn.extend({css:function(e,t){return j(this,function(e,t,n){var r,i,o={},a=0;if(S.isArray(t)){for(r=xe(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)},show:function(){return Oe(this,!0)},hide:function(){return Oe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){K(this)?S(this).show():S(this).hide()})}}),((S.Tween=qe).prototype={constructor:qe,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=qe.propHooks[this.prop];return e&&e.get?e.get(this):qe.propHooks._default.get(this)},run:function(e){var t,n=qe.propHooks[this.prop];return this.pos=t=this.options.duration?S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):qe.propHooks._default.set(this),this}}).init.prototype=qe.prototype,(qe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[S.cssProps[e.prop]]||S.cssHooks[e.prop])?S.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=qe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},S.fx=qe.prototype.init,S.fx.step={};var Be,Pe,Le,Me,Fe,$e=/^(?:toggle|show|hide)$/,He=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),ze=/queueHooks$/,Ke=[function(t,e,n){var r,i,o,a,s,u,c,l=this,f={},p=t.style,h=t.nodeType&&K(t),d=q.get(t,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=S.css(t,"display"),"inline"===("none"===c?q.get(t,"olddisplay")||ge(t.nodeName):c)&&"none"===S.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),e)if(i=e[r],$e.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;h=!0}f[r]=d&&d[r]||S.style(t,r)}else c=void 0;if(S.isEmptyObject(f))"inline"===("none"===c?ge(t.nodeName):c)&&(p.display=c);else for(r in d?"hidden"in d&&(h=d.hidden):d=q.access(t,"fxshow",{}),o&&(d.hidden=!h),h?S(t).show():l.done(function(){S(t).hide()}),l.done(function(){var e;for(e in q.remove(t,"fxshow"),f)S.style(t,e,f[e])}),f)a=Ye(h?d[r]:0,r,l),r in d||(d[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],Ue={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=He.exec(t),o=i&&i[3]||(S.cssNumber[e]?"":"px"),a=(S.cssNumber[e]||"px"!==o&&+r)&&He.exec(S.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o)for(o=o||a[3],i=i||[],a=+r||1;a/=s=s||".5",S.style(n.elem,e,a+o),s!==(s=n.cur()/r)&&1!==s&&--u;);return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function We(){return setTimeout(function(){Be=void 0}),Be=S.now()}function Ve(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=z[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ye(e,t,n){for(var r,i=(Ue[t]||[]).concat(Ue["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Ge(o,e,t){var n,a,r=0,i=Ke.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Be||We(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(o,[c,n,t]),n<1&&i?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Be||We(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=S.camelCase(n)],o=e[n],S.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);r<i;r++)if(n=Ke[r].call(c,o,l,c.opts))return n;return S.map(l,Ye,c),S.isFunction(c.opts.start)&&c.opts.start.call(o,c),S.fx.timer(S.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}S.Animation=S.extend(Ge,{tweener:function(e,t){S.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ue[n]=Ue[n]||[],Ue[n].unshift(t)},prefilter:function(e,t){t?Ke.unshift(e):Ke.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||S.isFunction(e)&&e,duration:e,easing:n&&t||t&&!S.isFunction(t)&&t};return r.duration=S.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in S.fx.speeds?S.fx.speeds[r.duration]:S.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){S.isFunction(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(K).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=Ge(this,S.extend({},t),o);(i||q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ze.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));(e||!o)&&S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Ve(r,!0),e,t,n)}}),S.each({slideDown:Ve("show"),slideUp:Ve("hide"),slideToggle:Ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Be=S.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Be=void 0},S.fx.timer=function(e){S.timers.push(e),e()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){Pe||(Pe=setInterval(S.fx.tick,S.fx.interval))},S.fx.stop=function(){clearInterval(Pe),Pe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,r);t.stop=function(){clearTimeout(n)}})},Le=g.createElement("input"),Me=g.createElement("select"),Fe=Me.appendChild(g.createElement("option")),Le.type="checkbox",m.checkOn=""!==Le.value,m.optSelected=Fe.selected,Me.disabled=!0,m.optDisabled=!Fe.disabled,(Le=g.createElement("input")).value="t",Le.type="radio",m.radioValue="t"===Le.value;var Xe,Je=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return j(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===W?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(t=t.toLowerCase(),r=S.attrHooks[t]||(S.expr.match.bool.test(t)?Xe:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=S.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void S.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)for(;n=o[i++];)r=S.propFix[n]||n,S.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&S.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Xe={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Je[t]||S.find.attr;Je[t]=function(e,t,n){var r,i;return n||(i=Je[t],Je[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,Je[t]=i),r}});var Qe=/^(?:input|select|textarea|button)$/i;S.fn.extend({prop:function(e,t){return j(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!S.isXMLDoc(e))&&(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),m.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var Ze=/[\t\r\n\f]/g;S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(T)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=S.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(T)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):"")){for(o=0;i=e[o++];)for(;0<=r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a=t?S.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(i,t){var o=typeof i;return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):this.each(S.isFunction(i)?function(e){S(this).toggleClass(i.call(this,e,this.className,t),t)}:function(){if("string"===o)for(var e,t=0,n=S(this),r=i.match(T)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else(o===W||"boolean"===o)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||!1===i?"":q.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ze," ").indexOf(t))return!0;return!1}});var et=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=S.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":S.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:S.trim(S.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(!(!(n=r[u]).selected&&u!==i||(m.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&S.nodeName(n.parentNode,"optgroup"))){if(t=S(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),a=i.length;a--;)((r=i[a]).selected=0<=S.inArray(r.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){return S.isArray(t)?e.checked=0<=S.inArray(S(e).val(),t):void 0}},m.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=S.now(),nt=/\?/;S.parseJSON=function(e){return JSON.parse(e+"")},S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&S.error("Invalid XML: "+e),t};var rt=/#.*$/,it=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,st=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},lt={},ft="*/".concat("*"),pt=d.location.href,ht=ut.exec(pt.toLowerCase())||[];function dt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(T)||[];if(S.isFunction(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function vt(t,i,o,a){var s={},u=t===lt;function c(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!s["*"]&&c("*")}function yt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?yt(yt(e,S.ajaxSettings),t):yt(S.ajaxSettings,e)},ajaxPrefilter:dt(ct),ajaxTransport:dt(lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,f,p,n,h,r,d,i,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,g=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},o={},a={},x=0,s="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!n)for(n={};t=ot.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?p:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)w[t]=[w[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||s;return l&&l.abort(t),u(0,t),this}};if(g.promise(_).complete=b.add,_.success=_.done,_.error=_.fail,v.url=((e||v.url||pt)+"").replace(rt,"").replace(st,ht[1]+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=S.trim(v.dataType||"*").toLowerCase().match(T)||[""],null==v.crossDomain&&(r=ut.exec(v.url.toLowerCase()),v.crossDomain=!(!r||r[1]===ht[1]&&r[2]===ht[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),vt(ct,v,t,_),2===x)return _;for(i in(d=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!at.test(v.type),f=v.url,v.hasContent||(v.data&&(f=v.url+=(nt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(v.url=it.test(f)?f.replace(it,"$1_="+tt++):f+(nt.test(f)?"&":"?")+"_="+tt++)),v.ifModified&&(S.lastModified[f]&&_.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&_.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&_.setRequestHeader("Content-Type",v.contentType),_.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+ft+"; q=0.01":""):v.accepts["*"]),v.headers)_.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,_,v)||2===x))return _.abort();for(i in s="abort",{success:1,error:1,complete:1})_[i](v[i]);if(l=vt(lt,v,t,_)){_.readyState=1,d&&m.trigger("ajaxSend",[_,v]),v.async&&0<v.timeout&&(h=setTimeout(function(){_.abort("timeout")},v.timeout));try{x=1,l.send(o,u)}catch(e){if(!(x<2))throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,n,r){var i,o,a,s,u,c=t;2!==x&&(x=2,h&&clearTimeout(h),l=void 0,p=r||"",_.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(v,_,n)),s=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,_,i),i?(v.ifModified&&((u=_.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=_.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,i=!(a=s.error))):(a=c,(e||!c)&&(c="error",e<0&&(e=0))),_.status=e,_.statusText=(t||c)+"",i?g.resolveWith(y,[o,c,_]):g.rejectWith(y,[_,c,a]),_.statusCode(w),w=void 0,d&&m.trigger(i?"ajaxSuccess":"ajaxError",[_,v,i?o:a]),b.fireWith(y,[_,c]),d&&(m.trigger("ajaxComplete",[_,v]),--S.active||S.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return S.isFunction(t)&&(r=r||n,n=t,t=void 0),S.ajax({url:e,type:i,dataType:r,data:t,success:n})}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return S.isFunction(t)?this.each(function(e){S(this).wrapAll(t.call(this,e))}):(this[0]&&(e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return this.each(S.isFunction(n)?function(e){S(this).wrapInner(n.call(this,e))}:function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=S.isFunction(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},S.expr.filters.visible=function(e){return!S.expr.filters.hidden(e)};var mt=/%20/g,gt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function _t(n,e,r,i){var t;if(S.isArray(e))S.each(e,function(e,t){r||gt.test(n)?i(n,t):_t(n+"["+("object"==typeof t?e:"")+"]",t,r,i)});else if(r||"object"!==S.type(e))i(n,e);else for(t in e)_t(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){t=S.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(mt,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&xt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,kt={},Ct={0:200,1223:204},At=S.ajaxSettings.xhr();d.attachEvent&&d.attachEvent("onunload",function(){for(var e in kt)kt[e]()}),m.cors=!!At&&"withCredentials"in At,m.ajax=At=!!At,S.ajaxTransport(function(o){var a;return m.cors||At&&!o.crossDomain?{send:function(e,t){var n,r=o.xhr(),i=++St;if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete kt[i],a=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?t(r.status,r.statusText):t(Ct[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=a(),r.onerror=a("error"),a=kt[i]=a("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}:void 0}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=S("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),g.head.appendChild(r[0])},abort:function(){i&&i()}}});var Dt=[],Et=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||S.expando+"_"+tt++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Et.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Et.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=S.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Et,"$1"+r):!1!==e.jsonp&&(e.url+=(nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=d[r],d[r]=function(){o=arguments},n.always(function(){d[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(r)),o&&S.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),S.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||g;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=S.buildFragment([e],t,i),i&&i.length&&S(i).remove(),S.merge([],r.childNodes))};var It=S.fn.load;S.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return 0<=s&&(r=S.trim(e.slice(s)),e=e.slice(0,s)),S.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.filters.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length};var Tt=d.document.documentElement;function Nt(e){return S.isWindow(e)?e:9===e.nodeType&&e.defaultView}S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=S.css(e,"position"),l=S(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),S.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,S.contains(e,r)?(typeof r.getBoundingClientRect!==W&&(i=r.getBoundingClientRect()),n=Nt(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===S.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),S.nodeName(e[0],"html")||(r=e.offset()),r.top+=S.css(e[0],"borderTopWidth",!0),r.left+=S.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-S.css(n,"marginTop",!0),left:t.left-r.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Tt;e&&!S.nodeName(e,"html")&&"static"===S.css(e,"position");)e=e.offsetParent;return e||Tt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return j(this,function(e,t,n){var r=Nt(e);return void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?d.pageXOffset:n,o?n:d.pageYOffset):e[t]=n)},t,e,arguments.length,null)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Se(m.pixelPosition,function(e,t){return t?(t=_e(e,n),we.test(t)?S(e).position()[n]+"px":t):void 0})}),S.each({Height:"height",Width:"width"},function(o,a){S.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){S.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return j(this,function(e,t,n){var r;return S.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},a,n?e:void 0,n,null)}})}),S.fn.size=function(){return this.length},S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Rt=d.jQuery,jt=d.$;return S.noConflict=function(e){return d.$===S&&(d.$=jt),e&&d.jQuery===S&&(d.jQuery=Rt),S},typeof e===W&&(d.jQuery=d.$=S),S}),function(e){"use strict";var t=function(e){return null!=e},i=window.Visibility={onVisible:function(n){if(!i.isSupported()||!i.hidden())return n(),i.isSupported();var r=i.change(function(e,t){i.hidden()||(i.unbind(r),n())});return r},change:function(e){if(!i.isSupported())return!1;i._lastCallback+=1;var t=i._lastCallback;return i._callbacks[t]=e,i._setListener(),t},unbind:function(e){delete i._callbacks[e]},afterPrerendering:function(n){if(!i.isSupported()||"prerender"!=i.state())return n(),i.isSupported();var r=i.change(function(e,t){"prerender"!=t&&(i.unbind(r),n())});return r},hidden:function(){return i._prop("hidden",!1)},state:function(){return i._prop("visibilityState","visible")},isSupported:function(){return t(i._prefix())},_doc:window.document,_chechedPrefix:null,_listening:!1,_lastCallback:-1,_callbacks:{},_hiddenBefore:!1,_init:function(){i._hiddenBefore=i.hidden()},_prefix:function(){return null!==i._chechedPrefix?i._chechedPrefix:t(i._doc.visibilityState)?i._chechedPrefix="":t(i._doc.webkitVisibilityState)?i._chechedPrefix="webkit":void 0},_name:function(e){var t=i._prefix();return""==t?e:t+e.substr(0,1).toUpperCase()+e.substr(1)},_prop:function(e,t){return i.isSupported()?i._doc[i._name(e)]:t},_onChange:function(e){var t=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,e,t);i._hiddenBefore=i.hidden()},_setListener:function(){if(!i._listening){var e=i._prefix()+"visibilitychange",t=function(){i._onChange.apply(Visibility,arguments)};i._doc.addEventListener?i._doc.addEventListener(e,t,!1):i._doc.attachEvent(e,t),i._listening=!0,i._hiddenBefore=i.hidden()}}};i._init()}(),function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}}(function(){"use strict";var s=!1;try{throw new Error}catch(e){s=!!e.stack}var i,o=x(),t=function(){},l=function(){var n={task:void 0,next:null},t=n,r=!1,i=void 0,o=!1,a=[];function s(){for(var e,t;n.next;)e=(n=n.next).task,n.task=void 0,(t=n.domain)&&(n.domain=void 0,t.enter()),u(e,t);for(;a.length;)u(e=a.pop());r=!1}function u(e,t){try{e()}catch(e){if(o)throw t&&t.exit(),setTimeout(s,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(l=function(e){t=t.next={task:e,domain:o&&process.domain,next:null},r||(r=!0,i())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)o=!0,i=function(){process.nextTick(s)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,s):function(){setImmediate(s)};else if("undefined"!=typeof MessageChannel){var e=new MessageChannel;e.port1.onmessage=function(){i=c,(e.port1.onmessage=s)()};var c=function(){e.port2.postMessage(0)};i=function(){setTimeout(s,0),c()}}else i=function(){setTimeout(s,0)};return l.runAfter=function(e){a.push(e),r||(r=!0,i())},l}(),n=Function.call;function e(e){return function(){return n.apply(e,arguments)}}var u,c=e(Array.prototype.slice),f=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),a=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),r=e(Array.prototype.map||function(r,i){var o=this,a=[];return f(o,function(e,t,n){a.push(r.call(i,t,n,o))},void 0),a}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},h=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},d=e(Object.prototype.hasOwnProperty),v=Object.keys||function(e){var t=[];for(var n in e)d(e,n)&&t.push(n);return t},y=e(Object.prototype.toString);u="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var m="From previous event:";function g(e,t){if(s&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],r=t;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(h(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var i=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];!w(i)&&(-1===(o=i).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&i&&n.push(i)}var o;return n.join("\n")}(n.join("\n"+m+"\n"));h(e,"stack",{value:i,configurable:!0})}}function b(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function w(e){var t=b(e);if(!t)return!1;var n=t[0],r=t[1];return n===i&&o<=r&&r<=V}function x(){if(s)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=b(0<t[0].indexOf("@")?t[1]:t[2]);if(!n)return;return i=n[0],n[1]}}function _(e){return e instanceof D?e:N(e)?(t=e,n=k(),_.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise):$(e);var t,n}(_.resolve=_).nextTick=l,_.longStackSupport=!1;var S=1;function k(){var i,o=[],a=[],e=p(k.prototype),t=p(D.prototype);if(t.promiseDispatch=function(e,t,n){var r=c(arguments);o?(o.push(r),"when"===t&&n[1]&&a.push(n[1])):_.nextTick(function(){i.promiseDispatch.apply(i,r)})},t.valueOf=function(){if(o)return t;var e=I(i);return T(e)&&(i=e),e},t.inspect=function(){return i?i.inspect():{state:"pending"}},_.longStackSupport&&s)try{throw new Error}catch(e){t.stack=e.stack.substring(e.stack.indexOf("\n")+1),t.stackCounter=S++}function n(n){i=n,_.longStackSupport&&s&&(t.source=n),f(o,function(e,t){_.nextTick(function(){n.promiseDispatch.apply(n,t)})},void 0),a=o=void 0}return e.promise=t,e.resolve=function(e){i||n(_(e))},e.fulfill=function(e){i||n($(e))},e.reject=function(e){i||n(F(e))},e.notify=function(n){i||f(a,function(e,t){_.nextTick(function(){t(n)})},void 0)},e}function C(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=k();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function A(i){return C(function(e,t){for(var n=0,r=i.length;n<r;n++)_(i[n]).then(e,t)})}function D(i,o,t){void 0===o&&(o=function(e){return F(new Error("Promise does not support operation: "+e))}),void 0===t&&(t=function(){return{state:"unknown"}});var a=p(D.prototype);if(a.promiseDispatch=function(e,t,n){var r;try{r=i[t]?i[t].apply(a,n):o.call(a,t,n)}catch(e){r=F(e)}e&&e(r)},a.inspect=t){var e=t();"rejected"===e.state&&(a.exception=e.reason),a.valueOf=function(){var e=t();return"pending"===e.state||"rejected"===e.state?a:e.value}}return a}function E(e,t,n,r){return _(e).then(t,n,r)}function I(e){if(T(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function T(e){return e instanceof D}function N(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(_.longStackSupport=!0),(_.defer=k).prototype.makeNodeResolver=function(){var n=this;return function(e,t){e?n.reject(e):2<arguments.length?n.resolve(c(arguments,1)):n.resolve(t)}},_.Promise=C,(_.promise=C).race=A,C.all=K,C.reject=F,(C.resolve=_).passByCopy=function(e){return e},D.prototype.passByCopy=function(){return this},_.join=function(e,t){return _(e).join(t)},D.prototype.join=function(e){return _([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},_.race=A,D.prototype.race=function(){return this.then(_.race)},(_.makePromise=D).prototype.toString=function(){return"[object Promise]"},D.prototype.then=function(t,n,i){var r=this,o=k(),a=!1;return _.nextTick(function(){r.promiseDispatch(function(e){a||(a=!0,o.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(e){return F(e)}}(e)))},"when",[function(e){a||(a=!0,o.resolve(function(e){if("function"==typeof n){g(e,r);try{return n(e)}catch(e){return F(e)}}return F(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,n,r=!1;try{n=e,t="function"==typeof i?i(n):n}catch(e){if(r=!0,!_.onerror)throw e;_.onerror(e)}r||o.notify(t)}]),o.promise},_.tap=function(e,t){return _(e).tap(t)},D.prototype.tap=function(t){return t=_(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},_.when=E,D.prototype.thenResolve=function(e){return this.then(function(){return e})},_.thenResolve=function(e,t){return _(e).thenResolve(t)},D.prototype.thenReject=function(e){return this.then(function(){throw e})},_.thenReject=function(e,t){return _(e).thenReject(t)},_.nearer=I,_.isPromise=T,_.isPromiseAlike=N,_.isPending=function(e){return T(e)&&"pending"===e.inspect().state},D.prototype.isPending=function(){return"pending"===this.inspect().state},_.isFulfilled=function(e){return!T(e)||"fulfilled"===e.inspect().state},D.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},_.isRejected=function(e){return T(e)&&"rejected"===e.inspect().state},D.prototype.isRejected=function(){return"rejected"===this.inspect().state};var R,j,O,q=[],B=[],P=[],L=!0;function M(){q.length=0,B.length=0,L||(L=!0)}function F(t){var e,n,r=D({when:function(e){return e&&function(t){if(L){var n=a(B,t);-1!==n&&("object"==typeof process&&"function"==typeof process.emit&&_.nextTick.runAfter(function(){var e=a(P,t);-1!==e&&(process.emit("rejectionHandled",q[n],t),P.splice(e,1))}),B.splice(n,1),q.splice(n,1))}}(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return e=r,n=t,L&&("object"==typeof process&&"function"==typeof process.emit&&_.nextTick.runAfter(function(){-1!==a(B,e)&&(process.emit("unhandledRejection",n,e),P.push(e))}),B.push(e),n&&void 0!==n.stack?q.push(n.stack):q.push("(no stack) "+n)),r}function $(n){return D({when:function(){return n},get:function(e){return n[e]},set:function(e,t){n[e]=t},delete:function(e){delete n[e]},post:function(e,t){return null==e?n.apply(void 0,t):n[e].apply(n,t)},apply:function(e,t){return n.apply(e,t)},keys:function(){return v(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function H(e,t,n){return _(e).spread(t,n)}function z(e,t,n){return _(e).dispatch(t,n)}function K(e){return E(e,function(i){var o=0,a=k();return f(i,function(e,t,n){var r;T(t)&&"fulfilled"===(r=t.inspect()).state?i[n]=r.value:(++o,E(t,function(e){i[n]=e,0==--o&&a.resolve(i)},a.reject,function(e){a.notify({index:n,value:e})}))},void 0),0===o&&a.resolve(i),a.promise})}function U(i){if(0===i.length)return _.resolve();var o=_.defer(),a=0;return f(i,function(e,t,n){var r=i[n];a++,E(r,function(e){o.resolve(e)},function(e){if(0==--a){var t=e||new Error(""+e);t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,o.reject(t)}},function(e){o.notify({index:n,value:e})})},void 0),o.promise}function W(e){return E(e,function(e){return e=r(e,_),E(K(r(e,function(e){return E(e,t,t)})),function(){return e})})}_.resetUnhandledRejections=M,_.getUnhandledReasons=function(){return q.slice()},_.stopUnhandledRejectionTracking=function(){M(),L=!1},M(),_.reject=F,_.fulfill=$,_.master=function(n){return D({isDef:function(){}},function(e,t){return z(n,e,t)},function(){return _(n).inspect()})},_.spread=H,D.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},_.async=function(t){return function(){function e(e,t){var n,r;if("undefined"==typeof StopIteration){try{n=i[e](t)}catch(e){return F(e)}return n.done?_(n.value):E(n.value,o,a)}try{n=i[e](t)}catch(e){return"[object StopIteration]"===y(r=e)||r instanceof u?_(e.value):F(e)}return E(n,o,a)}var i=t.apply(this,arguments),o=e.bind(e,"next"),a=e.bind(e,"throw");return o()}},_.spawn=function(e){_.done(_.async(e)())},_.return=function(e){throw new u(e)},_.promised=function(n){return function(){return H([this,K(arguments)],function(e,t){return n.apply(e,t)})}},_.dispatch=z,D.prototype.dispatch=function(e,t){var n=this,r=k();return _.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},_.get=function(e,t){return _(e).dispatch("get",[t])},D.prototype.get=function(e){return this.dispatch("get",[e])},_.set=function(e,t,n){return _(e).dispatch("set",[t,n])},D.prototype.set=function(e,t){return this.dispatch("set",[e,t])},_.del=_.delete=function(e,t){return _(e).dispatch("delete",[t])},D.prototype.del=D.prototype.delete=function(e){return this.dispatch("delete",[e])},_.mapply=_.post=function(e,t,n){return _(e).dispatch("post",[t,n])},D.prototype.mapply=D.prototype.post=function(e,t){return this.dispatch("post",[e,t])},_.send=_.mcall=_.invoke=function(e,t){return _(e).dispatch("post",[t,c(arguments,2)])},D.prototype.send=D.prototype.mcall=D.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])},_.fapply=function(e,t){return _(e).dispatch("apply",[void 0,t])},D.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},_.try=_.fcall=function(e){return _(e).dispatch("apply",[void 0,c(arguments,1)])},D.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},_.fbind=function(e){var t=_(e),n=c(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(c(arguments))])}},D.prototype.fbind=function(){var e=this,t=c(arguments);return function(){return e.dispatch("apply",[this,t.concat(c(arguments))])}},_.keys=function(e){return _(e).dispatch("keys",[])},D.prototype.keys=function(){return this.dispatch("keys",[])},_.all=K,D.prototype.all=function(){return K(this)},_.any=U,D.prototype.any=function(){return U(this)},_.allResolved=(R=W,j="allResolved",O="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(j+" is deprecated, use "+O+" instead.",new Error("").stack),R.apply(R,arguments)}),D.prototype.allResolved=function(){return W(this)},_.allSettled=function(e){return _(e).allSettled()},D.prototype.allSettled=function(){return this.then(function(e){return K(r(e,function(e){function t(){return e.inspect()}return(e=_(e)).then(t,t)}))})},_.fail=_.catch=function(e,t){return _(e).then(void 0,t)},D.prototype.fail=D.prototype.catch=function(e){return this.then(void 0,e)},_.progress=function(e,t){return _(e).then(void 0,void 0,t)},D.prototype.progress=function(e){return this.then(void 0,void 0,e)},_.fin=_.finally=function(e,t){return _(e).finally(t)},D.prototype.fin=D.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=_(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},_.done=function(e,t,n,r){return _(e).done(t,n,r)},D.prototype.done=function(e,t,n){var r=function(e){_.nextTick(function(){if(g(e,i),!_.onerror)throw e;_.onerror(e)})},i=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),i.then(void 0,r)},_.timeout=function(e,t,n){return _(e).timeout(t,n)},D.prototype.timeout=function(e,t){var n=k(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},_.delay=function(e,t){return void 0===t&&(t=e,e=void 0),_(e).delay(t)},D.prototype.delay=function(n){return this.then(function(e){var t=k();return setTimeout(function(){t.resolve(e)},n),t.promise})},_.nfapply=function(e,t){return _(e).nfapply(t)},D.prototype.nfapply=function(e){var t=k(),n=c(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},_.nfcall=function(e){var t=c(arguments,1);return _(e).nfapply(t)},D.prototype.nfcall=function(){var e=c(arguments),t=k();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},_.nfbind=_.denodeify=function(n){if(void 0===n)throw new Error("Q can't wrap an undefined function");var r=c(arguments,1);return function(){var e=r.concat(c(arguments)),t=k();return e.push(t.makeNodeResolver()),_(n).fapply(e).fail(t.reject),t.promise}},D.prototype.nfbind=D.prototype.denodeify=function(){var e=c(arguments);return e.unshift(this),_.denodeify.apply(void 0,e)},_.nbind=function(n,r){var i=c(arguments,2);return function(){var e=i.concat(c(arguments)),t=k();return e.push(t.makeNodeResolver()),_(function(){return n.apply(r,arguments)}).fapply(e).fail(t.reject),t.promise}},D.prototype.nbind=function(){var e=c(arguments,0);return e.unshift(this),_.nbind.apply(void 0,e)},_.nmapply=_.npost=function(e,t,n){return _(e).npost(t,n)},D.prototype.nmapply=D.prototype.npost=function(e,t){var n=c(t||[]),r=k();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},_.nsend=_.nmcall=_.ninvoke=function(e,t){var n=c(arguments,2),r=k();return n.push(r.makeNodeResolver()),_(e).dispatch("post",[t,n]).fail(r.reject),r.promise},D.prototype.nsend=D.prototype.nmcall=D.prototype.ninvoke=function(e){var t=c(arguments,1),n=k();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},_.nodeify=function(e,t){return _(e).nodeify(t)},D.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){_.nextTick(function(){t(null,e)})},function(e){_.nextTick(function(){t(e)})})},_.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var V=x();return _}),function(e){if("function"==typeof bootstrap)bootstrap("nedb",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeNedb=e}else"undefined"!=typeof window?window.Nedb=e():global.Nedb=e()}(function(){return function(i,o,e){function a(n,e){if(!o[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(s)return s(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=o[n]={exports:{}};i[n][0].call(r.exports,function(e){var t=i[n][1][e];return a(t||e)},r,r.exports)}return o[n].exports}for(var s="function"==typeof require&&require,t=0;t<e.length;t++)a(e[t]);return a}({1:[function(e,t,n){var r=e("__browserify_process");r.EventEmitter||(r.EventEmitter=function(){});var i=n.EventEmitter=r.EventEmitter,a="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},i.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||a(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(a(t)){n=Array.prototype.slice.call(arguments,1);for(var r=t.slice(),i=0,o=r.length;i<o;i++)r[i].apply(this,n);return!0}return!1},i.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(a(this._events[e])){var n;if(!this._events[e].warned)(n=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace());this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,n){var r=this;return r.on(t,function e(){r.removeListener(t,e),n.apply(this,arguments)}),this},i.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(a(n)){var r=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}(n,t);if(r<0)return this;n.splice(r,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},i.prototype.removeAllListeners=function(e){return 0===arguments.length?this._events={}:e&&this._events&&this._events[e]&&(this._events[e]=null),this},i.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.listenerCount=function(e,t){return e._events&&e._events[t]?"function"==typeof e._events[t]?1:e._events[t].length:0}},{__browserify_process:4}],2:[function(e,t,c){function i(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function o(e,t){for(var n=0,r=e.length;0<=r;r--){var i=e[r];"."==i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=e("__browserify_process"),r=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){for(var e="",t=!1,n=arguments.length;-1<=n&&!t;n--){var r=0<=n?arguments[n]:a.cwd();"string"==typeof r&&r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(i(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},c.normalize=function(e){var t="/"===e.charAt(0),n="/"===e.slice(-1);return(e=o(i(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},c.join=function(){var e=Array.prototype.slice.call(arguments,0);return c.normalize(i(e,function(e){return e&&"string"==typeof e}).join("/"))},c.dirname=function(e){var t=r.exec(e)[1]||"";return t?1===t.length?t:t.substring(0,t.length-1):"."},c.basename=function(e,t){var n=r.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},c.extname=function(e){return r.exec(e)[3]||""},c.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=c.resolve(e).substr(1),t=c.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},c.sep="/"},{__browserify_process:4}],3:[function(e,t,v){function y(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)}function m(e){"object"==typeof e&&Object.prototype.toString.call(e)}function g(e){return"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}e("events"),v.isArray=y,v.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},v.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},v.print=function(){},v.puts=function(){},v.debug=function(){},v.inspect=function(e,p,t,n){var h=[],d=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return n||(d=function(e){return e}),function r(i,o){if(i&&"function"==typeof i.inspect&&i!==v&&(!i.constructor||i.constructor.prototype!==i))return i.inspect(o);switch(typeof i){case"undefined":return d("undefined","undefined");case"string":var e="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d(e,"string");case"number":return d(""+i,"number");case"boolean":return d(""+i,"boolean")}if(null===i)return d("null","null");var t,a,n,s=b(i),u=p?w(i):s;if("function"==typeof i&&0===u.length){if(m(i))return d(""+i,"regexp");var c=i.name?": "+i.name:"";return d("[Function"+c+"]","special")}if(g(i)&&0===u.length)return d(i.toUTCString(),"date");if(y(i)?(a="Array",n=["[","]"]):(a="Object",n=["{","}"]),"function"==typeof i){var l=i.name?": "+i.name:"";t=m(i)?" "+i:" [Function"+l+"]"}else t="";if(g(i)&&(t=" "+i.toUTCString()),0===u.length)return n[0]+t+n[1];if(o<0)return m(i)?d(""+i,"regexp"):d("[Object]","special");h.push(i);var f=u.map(function(e){var t,n;if(i.__lookupGetter__&&(i.__lookupGetter__(e)?n=i.__lookupSetter__(e)?d("[Getter/Setter]","special"):d("[Getter]","special"):i.__lookupSetter__(e)&&(n=d("[Setter]","special"))),s.indexOf(e)<0&&(t="["+e+"]"),n||(h.indexOf(i[e])<0?-1<(n=null===o?r(i[e]):r(i[e],o-1)).indexOf("\n")&&(n=y(i)?n.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+n.split("\n").map(function(e){return"   "+e}).join("\n")):n=d("[Circular]","special")),void 0===t){if("Array"===a&&e.match(/^\d+$/))return n;(t=JSON.stringify(""+e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(t=t.substr(1,t.length-2),t=d(t,"name")):(t=t.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t=d(t,"string"))}return t+": "+n});h.pop();return 50<f.reduce(function(e,t){return t.indexOf("\n"),e+t.length+1},0)?n[0]+(""===t?"":t+"\n ")+" "+f.join(",\n  ")+" "+n[1]:n[0]+t+" "+f.join(", ")+" "+n[1]}(e,void 0===t?2:t)},v.log=function(){},v.pump=null;var b=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},w=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},n=Object.create||function(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,(n=new r).__proto__=e}return void 0!==t&&Object.defineProperties&&Object.defineProperties(n,t),n};v.inherits=function(e,t){e.super_=t,e.prototype=n(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var s=/%[sdj%]/g;v.format=function(e){if("string"!=typeof e){for(var t=[],n=0;n<arguments.length;n++)t.push(v.inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":return JSON.stringify(r[n++]);default:return e}}),a=r[n];n<i;a=r[++n])o+=null===a||"object"!=typeof a?" "+a:" "+v.inspect(a);return o}},{events:1}],4:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;(t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),0<n.length)&&n.shift()()},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(e,t){function n(e,t,n){this.db=e,this.query=t||{},n&&(this.execFn=n)}var h=e("./model"),a=e("underscore");n.prototype.limit=function(e){return this._limit=e,this},n.prototype.skip=function(e){return this._skip=e,this},n.prototype.sort=function(e){return this._sort=e,this},n.prototype.projection=function(e){return this._projection=e,this},n.prototype.project=function(e){var n,r,i,o=[],t=this;return void 0===this._projection||0===Object.keys(this._projection).length?e:(n=0!==this._projection._id,this._projection=a.omit(this._projection,"_id"),(i=Object.keys(this._projection)).forEach(function(e){if(void 0!==r&&t._projection[e]!==r)throw new Error("Can't both keep and omit fields except for _id");r=t._projection[e]}),e.forEach(function(e){var t=1===r?a.pick(e,i):a.omit(e,i);n?t._id=e._id:delete t._id,o.push(t)}),o)},n.prototype._exec=function(t){var e,n,r,i=this.db.getCandidates(this.query),o=[],a=0,s=0,u=this,c=null;try{for(e=0;e<i.length;e+=1)if(h.match(i[e],this.query))if(this._sort)o.push(i[e]);else if(this._skip&&this._skip>s)s+=1;else if(o.push(i[e]),a+=1,this._limit&&this._limit<=a)break}catch(e){return t(e)}if(this._sort){n=Object.keys(this._sort);var l=[];for(e=0;e<n.length;e++)r=n[e],l.push({key:r,direction:u._sort[r]});o.sort(function(e,t){var n,r,i;for(i=0;i<l.length;i++)if(0!==(r=(n=l[i]).direction*h.compareThings(h.getDotValue(e,n.key),h.getDotValue(t,n.key),u.db.compareStrings)))return r;return 0});var f=this._limit||o.length,p=this._skip||0;o=o.slice(p,p+f)}try{o=this.project(o)}catch(e){c=e,o=void 0}return this.execFn?this.execFn(c,o,t):t(c,o)},n.prototype.exec=function(){this.db.executor.push({this:this,fn:this._exec,arguments:arguments})},t.exports=n},{"./model":10,underscore:19}],6:[function(e,t){t.exports.uid=function(e){return function(e){var t,n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length%3,s="";for(r=0,n=e.length-a;r<n;r+=3)t=(e[r]<<16)+(e[r+1]<<8)+e[r+2],s+=o[63&(i=t)>>18]+o[63&i>>12]+o[63&i>>6]+o[63&i];switch(a){case 1:t=e[e.length-1],s+=o[t>>2],s+=o[63&t<<4],s+="==";break;case 2:t=(e[e.length-2]<<8)+e[e.length-1],s+=o[t>>10],s+=o[63&t>>4],s+=o[63&t<<2],s+="="}return s}(function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=255&t>>>((3&r)<<3);return n}(Math.ceil(Math.max(8,2*e)))).replace(/[+\/]/g,"").slice(0,e)}},{}],7:[function(e,t){function n(e){var t;"string"==typeof e?(t=e,this.inMemoryOnly=!1):(t=(e=e||{}).filename,this.inMemoryOnly=e.inMemoryOnly||!1,this.autoload=e.autoload||!1,this.timestampData=e.timestampData||!1),t&&"string"==typeof t&&0!==t.length?this.filename=t:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=e.compareStrings,this.persistence=new s({db:this,nodeWebkitAppName:e.nodeWebkitAppName,afterSerialization:e.afterSerialization,beforeDeserialization:e.beforeDeserialization,corruptAlertThreshold:e.corruptAlertThreshold}),this.executor=new i,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new o({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(e.onload||function(e){if(e)throw e})}var r=e("./customUtils"),p=e("./model"),h=e("async"),i=e("./executor"),o=e("./indexes"),a=e("util"),d=e("underscore"),s=e("./persistence"),v=e("./cursor");a.inherits(n,e("events").EventEmitter),n.prototype.loadDatabase=function(){this.executor.push({this:this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},n.prototype.getAllData=function(){return this.indexes._id.getAll()},n.prototype.resetIndexes=function(t){var n=this;Object.keys(this.indexes).forEach(function(e){n.indexes[e].reset(t)})},n.prototype.ensureIndex=function(t,e){var n,r=e||function(){};if(!(t=t||{}).fieldName)return(n=new Error("Cannot create an index without a fieldName")).missingFieldName=!0,r(n);if(this.indexes[t.fieldName])return r(null);this.indexes[t.fieldName]=new o(t);try{this.indexes[t.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[t.fieldName],r(e)}this.persistence.persistNewState([{$$indexCreated:t}],function(e){return r(e||null)})},n.prototype.removeIndex=function(e,t){var n=t||function(){};delete this.indexes[e],this.persistence.persistNewState([{$$indexRemoved:e}],function(e){return n(e||null)})},n.prototype.addToIndexes=function(e){var t,n,r,i=Object.keys(this.indexes);for(t=0;t<i.length;t+=1)try{this.indexes[i[t]].insert(e)}catch(e){n=t,r=e;break}if(r){for(t=0;t<n;t+=1)this.indexes[i[t]].remove(e);throw r}},n.prototype.removeFromIndexes=function(t){var n=this;Object.keys(this.indexes).forEach(function(e){n.indexes[e].remove(t)})},n.prototype.updateIndexes=function(e,t){var n,r,i,o=Object.keys(this.indexes);for(n=0;n<o.length;n+=1)try{this.indexes[o[n]].update(e,t)}catch(e){r=n,i=e;break}if(i){for(n=0;n<r;n+=1)this.indexes[o[n]].revertUpdate(e,t);throw i}},n.prototype.getCandidates=function(t){var n,e=Object.keys(this.indexes);return n=[],Object.keys(t).forEach(function(e){("string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e]||a.isDate(t[e])||null===t[e])&&n.push(e)}),0<(n=d.intersection(n,e)).length?this.indexes[n[0]].getMatching(t[n[0]]):(n=[],Object.keys(t).forEach(function(e){t[e]&&t[e].hasOwnProperty("$in")&&n.push(e)}),0<(n=d.intersection(n,e)).length?this.indexes[n[0]].getMatching(t[n[0]].$in):(n=[],Object.keys(t).forEach(function(e){t[e]&&(t[e].hasOwnProperty("$lt")||t[e].hasOwnProperty("$lte")||t[e].hasOwnProperty("$gt")||t[e].hasOwnProperty("$gte"))&&n.push(e)}),0<(n=d.intersection(n,e)).length?this.indexes[n[0]].getBetweenBounds(t[n[0]]):this.getAllData()))},n.prototype._insert=function(e,t){var n,r=t||function(){};try{n=this.prepareDocumentForInsertion(e),this._insertInCache(n)}catch(e){return r(e)}this.persistence.persistNewState(a.isArray(n)?n:[n],function(e){return e?r(e):r(null,p.deepCopy(n))})},n.prototype.createNewId=function(){var e=r.uid(16);return 0<this.indexes._id.getMatching(e).length&&(e=this.createNewId()),e},n.prototype.prepareDocumentForInsertion=function(e){var t,n=this;if(a.isArray(e))t=[],e.forEach(function(e){t.push(n.prepareDocumentForInsertion(e))});else{void 0===(t=p.deepCopy(e))._id&&(t._id=this.createNewId());var r=new Date;this.timestampData&&void 0===t.createdAt&&(t.createdAt=r),this.timestampData&&void 0===t.updatedAt&&(t.updatedAt=r),p.checkObject(t)}return t},n.prototype._insertInCache=function(e){a.isArray(e)?this._insertMultipleDocsInCache(e):this.addToIndexes(e)},n.prototype._insertMultipleDocsInCache=function(e){var t,n,r;for(t=0;t<e.length;t+=1)try{this.addToIndexes(e[t])}catch(e){r=e,n=t;break}if(r){for(t=0;t<n;t+=1)this.removeFromIndexes(e[t]);throw r}},n.prototype.insert=function(){this.executor.push({this:this,fn:this._insert,arguments:arguments})},n.prototype.count=function(e,t){var n=new v(this,e,function(e,t,n){return e?n(e):n(null,t.length)});return"function"!=typeof t?n:void n.exec(t)},n.prototype.find=function(e,t,n){switch(arguments.length){case 1:t={};break;case 2:"function"==typeof t&&(n=t,t={})}var r=new v(this,e,function(e,t,n){var r,i=[];if(e)return n(e);for(r=0;r<t.length;r+=1)i.push(p.deepCopy(t[r]));return n(null,i)});return r.projection(t),"function"!=typeof n?r:void r.exec(n)},n.prototype.findOne=function(e,t,n){switch(arguments.length){case 1:t={};break;case 2:"function"==typeof t&&(n=t,t={})}var r=new v(this,e,function(e,t,n){return e?n(e):1===t.length?n(null,p.deepCopy(t[0])):n(null,null)});return r.projection(t).limit(1),"function"!=typeof n?r:void r.exec(n)},n.prototype._update=function(i,o,a,e){var s,u,t,c,l=this,f=0;"function"==typeof a&&(e=a,a={}),s=e||function(){},u=void 0!==a.multi&&a.multi,t=void 0!==a.upsert&&a.upsert,h.waterfall([function(r){if(!t)return r();new v(l,i).limit(1)._exec(function(t,e){if(t)return s(t);if(1===e.length)return r();var n;try{p.checkObject(o),n=o}catch(e){try{n=p.modify(p.deepCopy(i,!0),o)}catch(t){return s(t)}}return l._insert(n,function(e,t){return e?s(e):s(null,1,t)})})},function(){var e,t=l.getCandidates(i),n=[];try{for(c=0;c<t.length;c+=1)p.match(t[c],i)&&(u||0===f)&&(f+=1,e=p.modify(t[c],o),l.timestampData&&(e.updatedAt=new Date),n.push({oldDoc:t[c],newDoc:e}))}catch(e){return s(e)}try{l.updateIndexes(n)}catch(e){return s(e)}var r=d.pluck(n,"newDoc");l.persistence.persistNewState(r,function(e){if(e)return s(e);if(a.returnUpdatedDocs){var t=[];return r.forEach(function(e){t.push(p.deepCopy(e))}),s(null,f,t)}return s(null,f)})}])},n.prototype.update=function(){this.executor.push({this:this,fn:this._update,arguments:arguments})},n.prototype._remove=function(t,e,n){var r,i,o=this,a=0,s=[],u=this.getCandidates(t);"function"==typeof e&&(n=e,e={}),r=n||function(){},i=void 0!==e.multi&&e.multi;try{u.forEach(function(e){p.match(e,t)&&(i||0===a)&&(a+=1,s.push({$$deleted:!0,_id:e._id}),o.removeFromIndexes(e))})}catch(e){return r(e)}o.persistence.persistNewState(s,function(e){return e?r(e):r(null,a)})},n.prototype.remove=function(){this.executor.push({this:this,fn:this._remove,arguments:arguments})},t.exports=n},{"./cursor":5,"./customUtils":6,"./executor":8,"./indexes":9,"./model":10,"./persistence":11,async:13,events:1,underscore:19,util:3}],8:[function(e,t){function n(){this.buffer=[],this.ready=!1,this.queue=r.queue(function(e,t){var n,r,i=e.arguments[e.arguments.length-1],o=[];for(r=0;r<e.arguments.length;r+=1)o.push(e.arguments[r]);"function"==typeof i?(n=function(){"function"==typeof setImmediate?setImmediate(t):a.nextTick(t),i.apply(null,arguments)},o[o.length-1]=n):(n=function(){t()},o.push(n)),e.fn.apply(e.this,o)},1)}var a=e("__browserify_process"),r=e("async");n.prototype.push=function(e,t){this.ready||t?this.queue.push(e):this.buffer.push(e)},n.prototype.processBuffer=function(){var e;for(this.ready=!0,e=0;e<this.buffer.length;e+=1)this.queue.push(this.buffer[e]);this.buffer=[]},t.exports=n},{__browserify_process:4,async:13}],9:[function(e,t){function n(e,t){return e===t}function a(e){return null===e?"$null":"string"==typeof e?"$string"+e:"boolean"==typeof e?"$boolean"+e:"number"==typeof e?"$number"+e:c.isArray(e)?"$date"+e.getTime():e}function r(e){this.fieldName=e.fieldName,this.unique=e.unique||!1,this.sparse=e.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:s.compareThings,checkValueEquality:n},this.reset()}var i=e("binary-search-tree").AVLTree,s=e("./model"),u=e("underscore"),c=e("util");r.prototype.reset=function(e){this.tree=new i(this.treeOptions),e&&this.insert(e)},r.prototype.insert=function(e){var t,n,r,i,o;if(c.isArray(e))this.insertMultipleDocs(e);else if(void 0!==(t=s.getDotValue(e,this.fieldName))||!this.sparse)if(c.isArray(t)){for(n=u.uniq(t,a),r=0;r<n.length;r+=1)try{this.tree.insert(n[r],e)}catch(e){o=e,i=r;break}if(o){for(r=0;r<i;r+=1)this.tree.delete(n[r],e);throw o}}else this.tree.insert(t,e)},r.prototype.insertMultipleDocs=function(e){var t,n,r;for(t=0;t<e.length;t+=1)try{this.insert(e[t])}catch(e){n=e,r=t;break}if(n){for(t=0;t<r;t+=1)this.remove(e[t]);throw n}},r.prototype.remove=function(t){var e,n=this;return c.isArray(t)?void t.forEach(function(e){n.remove(e)}):void(void 0===(e=s.getDotValue(t,this.fieldName))&&this.sparse||(c.isArray(e)?u.uniq(e,a).forEach(function(e){n.tree.delete(e,t)}):this.tree.delete(e,t)))},r.prototype.update=function(t,e){if(c.isArray(t))this.updateMultipleDocs(t);else{this.remove(t);try{this.insert(e)}catch(e){throw this.insert(t),e}}},r.prototype.updateMultipleDocs=function(e){var t,n,r;for(t=0;t<e.length;t+=1)this.remove(e[t].oldDoc);for(t=0;t<e.length;t+=1)try{this.insert(e[t].newDoc)}catch(e){r=e,n=t;break}if(r){for(t=0;t<n;t+=1)this.remove(e[t].newDoc);for(t=0;t<e.length;t+=1)this.insert(e[t].oldDoc);throw r}},r.prototype.revertUpdate=function(e,t){var n=[];c.isArray(e)?(e.forEach(function(e){n.push({oldDoc:e.newDoc,newDoc:e.oldDoc})}),this.update(n)):this.update(t,e)},r.prototype.getMatching=function(e){var t=this;if(c.isArray(e)){var n={},r=[];return e.forEach(function(e){t.getMatching(e).forEach(function(e){n[e._id]=e})}),Object.keys(n).forEach(function(e){r.push(n[e])}),r}return t.tree.search(e)},r.prototype.getBetweenBounds=function(e){return this.tree.betweenBounds(e)},r.prototype.getAll=function(){var n=[];return this.tree.executeOnEveryNode(function(e){var t;for(t=0;t<e.data.length;t+=1)n.push(e.data[t])}),n},t.exports=r},{"./model":10,"binary-search-tree":14,underscore:19,util:3}],10:[function(e,t){function n(e,t){if("number"==typeof e&&(e=e.toString()),!("$"!==e[0]||"$$date"===e&&"number"==typeof t||"$$deleted"===e&&!0===t||"$$indexCreated"===e||"$$indexRemoved"===e))throw new Error("Field names cannot begin with the $ character");if(-1!==e.indexOf("."))throw new Error("Field names cannot contain a .")}function s(t){v.isArray(t)&&t.forEach(function(e){s(e)}),"object"==typeof t&&null!==t&&Object.keys(t).forEach(function(e){n(e,t[e]),s(t[e])})}function u(t,n){var r;return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||v.isDate(t)?t:v.isArray(t)?(r=[],t.forEach(function(e){r.push(u(e,n))}),r):"object"==typeof t?(r={},Object.keys(t).forEach(function(e){(!n||"$"!==e[0]&&-1===e.indexOf("."))&&(r[e]=u(t[e],n))}),r):void 0}function a(e){return"boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||v.isDate(e)||v.isArray(e)}function c(e,t){return e<t?-1:t<e?1:0}function l(e,t){var n,r;for(n=0;n<Math.min(e.length,t.length);n+=1)if(0!==(r=f(e[n],t[n])))return r;return c(e.length,t.length)}function f(e,t,n){var r,i,o,a,s=n||c;if(void 0===e)return void 0===t?0:-1;if(void 0===t)return void 0===e?0:1;if(null===e)return null===t?0:-1;if(null===t)return null===e?0:1;if("number"==typeof e)return"number"==typeof t?c(e,t):-1;if("number"==typeof t)return"number"==typeof e?c(e,t):1;if("string"==typeof e)return"string"==typeof t?s(e,t):-1;if("string"==typeof t)return"string"==typeof e?s(e,t):1;if("boolean"==typeof e)return"boolean"==typeof t?c(e,t):-1;if("boolean"==typeof t)return"boolean"==typeof e?c(e,t):1;if(v.isDate(e))return v.isDate(t)?c(e.getTime(),t.getTime()):-1;if(v.isDate(t))return v.isDate(e)?c(e.getTime(),t.getTime()):1;if(v.isArray(e))return v.isArray(t)?l(e,t):-1;if(v.isArray(t))return v.isArray(e)?l(e,t):1;for(r=Object.keys(e).sort(),i=Object.keys(t).sort(),a=0;a<Math.min(r.length,i.length);a+=1)if(0!==(o=f(e[r[a]],t[i[a]])))return o;return c(r.length,i.length)}function p(e,t){var n,r,i="string"==typeof t?t.split("."):t;if(e){if(0===i.length)return e;if(1===i.length)return e[i[0]];if(v.isArray(e[i[0]])){if("number"==typeof(n=parseInt(i[1],10))&&!isNaN(n))return p(e[i[0]][n],i.slice(2));for(r=new Array,n=0;n<e[i[0]].length;n+=1)r.push(p(e[i[0]][n],i.slice(1)));return r}return p(e[i[0]],i.slice(1))}}function h(e,t){var n,r,i;if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t)return e===t;if(v.isDate(e)||v.isDate(t))return v.isDate(e)&&v.isDate(t)&&e.getTime()===t.getTime();if((!v.isArray(e)||!v.isArray(t))&&(v.isArray(e)||v.isArray(t))||void 0===e||void 0===t)return!1;try{n=Object.keys(e),r=Object.keys(t)}catch(e){return!1}if(n.length!==r.length)return!1;for(i=0;i<n.length;i+=1){if(-1===r.indexOf(n[i]))return!1;if(!h(e[n[i]],t[n[i]]))return!1}return!0}function r(e,t){return!("string"!=typeof e&&"number"!=typeof e&&!v.isDate(e)&&"string"!=typeof t&&"number"!=typeof t&&!v.isDate(t))&&typeof e==typeof t}function o(e,t){var n,r,i,o;if(a(e)||a(t))return d({needAKey:e},"needAKey",t);for(n=Object.keys(t),o=0;o<n.length;o+=1)if(i=t[r=n[o]],"$"===r[0]){if(!w[r])throw new Error("Unknown logical operator "+r);if(!w[r](e,i))return!1}else if(!d(e,r,i))return!1;return!0}function d(e,t,n,r){var i,o,a,s,u=p(e,t);if(v.isArray(u)&&!r){if(v.isArray(n))return d(e,t,n,!0);if(null!==n&&"object"==typeof n&&!v.isRegExp(n))for(o=Object.keys(n),i=0;i<o.length;i+=1)if(x[o[i]])return d(e,t,n,!0);for(i=0;i<u.length;i+=1)if(d({k:u[i]},"k",n))return!0;return!1}if(null!==n&&"object"==typeof n&&!v.isRegExp(n)&&!v.isArray(n)){if(o=Object.keys(n),a=y.map(o,function(e){return e[0]}),0!==(s=y.filter(a,function(e){return"$"===e})).length&&s.length!==a.length)throw new Error("You cannot mix operators and normal fields");if(0<s.length){for(i=0;i<o.length;i+=1){if(!b[o[i]])throw new Error("Unknown comparison function "+o[i]);if(!b[o[i]](u,n[o[i]]))return!1}return!0}}return v.isRegExp(n)?b.$regex(u,n):!!h(u,n)}var v=e("util"),y=e("underscore"),m={},g={},b={},w={},x={};g.$set=function(e,t,n){e[t]=n},g.$unset=function(e,t){delete e[t]},g.$push=function(t,n,e){if(t.hasOwnProperty(n)||(t[n]=[]),!v.isArray(t[n]))throw new Error("Can't $push an element on non-array values");if(null!==e&&"object"==typeof e&&e.$each){if(1<Object.keys(e).length)throw new Error("Can't use another field in conjunction with $each");if(!v.isArray(e.$each))throw new Error("$each requires an array value");e.$each.forEach(function(e){t[n].push(e)})}else t[n].push(e)},g.$addToSet=function(t,n,r){var i=!0;if(t.hasOwnProperty(n)||(t[n]=[]),!v.isArray(t[n]))throw new Error("Can't $addToSet an element on non-array values");if(null!==r&&"object"==typeof r&&r.$each){if(1<Object.keys(r).length)throw new Error("Can't use another field in conjunction with $each");if(!v.isArray(r.$each))throw new Error("$each requires an array value");r.$each.forEach(function(e){g.$addToSet(t,n,e)})}else t[n].forEach(function(e){0===f(e,r)&&(i=!1)}),i&&t[n].push(r)},g.$pop=function(e,t,n){if(!v.isArray(e[t]))throw new Error("Can't $pop an element from non-array values");if("number"!=typeof n)throw new Error(n+" isn't an integer, can't use it with $pop");0!==n&&(e[t]=0<n?e[t].slice(0,e[t].length-1):e[t].slice(1))},g.$pull=function(e,t,n){var r,i;if(!v.isArray(e[t]))throw new Error("Can't $pull an element from non-array values");for(i=(r=e[t]).length-1;0<=i;i-=1)o(r[i],n)&&r.splice(i,1)},g.$inc=function(e,t,n){if("number"!=typeof n)throw new Error(n+" must be a number");if("number"!=typeof e[t]){if(y.has(e,t))throw new Error("Don't use the $inc modifier on non-number fields");e[t]=n}else e[t]+=n},Object.keys(g).forEach(function(e){var i;m[e]=(i=e,function(e,t,n){var r="string"==typeof t?t.split("."):t;1===r.length?g[i](e,t,n):(e[r[0]]=e[r[0]]||{},m[i](e[r[0]],r.slice(1),n))})}),b.$lt=function(e,t){return r(e,t)&&e<t},b.$lte=function(e,t){return r(e,t)&&e<=t},b.$gt=function(e,t){return r(e,t)&&t<e},b.$gte=function(e,t){return r(e,t)&&t<=e},b.$ne=function(e,t){return void 0===e||!h(e,t)},b.$in=function(e,t){var n;if(!v.isArray(t))throw new Error("$in operator called with a non-array");for(n=0;n<t.length;n+=1)if(h(e,t[n]))return!0;return!1},b.$nin=function(e,t){if(!v.isArray(t))throw new Error("$nin operator called with a non-array");return!b.$in(e,t)},b.$regex=function(e,t){if(!v.isRegExp(t))throw new Error("$regex operator called with non regular expression");return"string"==typeof e&&t.test(e)},b.$exists=function(e,t){return t=!(!t&&""!==t),void 0===e?!t:t},b.$size=function(e,t){if(!v.isArray(e))return!1;if(0!=t%1)throw new Error("$size operator called without an integer");return e.length==t},x.$size=!0,w.$or=function(e,t){var n;if(!v.isArray(t))throw new Error("$or operator used without an array");for(n=0;n<t.length;n+=1)if(o(e,t[n]))return!0;return!1},w.$and=function(e,t){var n;if(!v.isArray(t))throw new Error("$and operator used without an array");for(n=0;n<t.length;n+=1)if(!o(e,t[n]))return!1;return!0},w.$not=function(e,t){return!o(e,t)},w.$where=function(e,t){var n;if(!y.isFunction(t))throw new Error("$where operator used without a function");if(n=t.call(e),!y.isBoolean(n))throw new Error("$where function must return boolean");return n},t.exports.serialize=function(e){return JSON.stringify(e,function(e,t){return n(e,t),void 0===t?void 0:null===t?null:"function"==typeof this[e].getTime?{$$date:this[e].getTime()}:t})},t.exports.deserialize=function(e){return JSON.parse(e,function(e,t){return"$$date"===e?new Date(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t?t:t&&t.$$date?t.$$date:t})},t.exports.deepCopy=u,t.exports.checkObject=s,t.exports.isPrimitiveType=a,t.exports.modify=function(e,n){var r,t,i=Object.keys(n),o=y.map(i,function(e){return e[0]}),a=y.filter(o,function(e){return"$"===e});if(-1!==i.indexOf("_id")&&n._id!==e._id)throw new Error("You cannot change a document's _id");if(0!==a.length&&a.length!==o.length)throw new Error("You cannot mix modifiers and normal fields");if(0===a.length?(r=u(n))._id=e._id:(t=y.uniq(i),r=u(e),t.forEach(function(t){if(!m[t])throw new Error("Unknown modifier "+t);if("object"!=typeof n[t])throw new Error("Modifier "+t+"'s argument must be an object");Object.keys(n[t]).forEach(function(e){m[t](r,e,n[t][e])})})),s(r),e._id!==r._id)throw new Error("You can't change a document's _id");return r},t.exports.getDotValue=p,t.exports.match=o,t.exports.areThingsEqual=h,t.exports.compareThings=f},{underscore:19,util:3}],11:[function(e,t){function o(e){var t,n,r;if(this.db=e.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==e.corruptAlertThreshold?e.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(e.afterSerialization&&!e.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!e.afterSerialization&&e.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");for(this.afterSerialization=e.afterSerialization||function(e){return e},this.beforeDeserialization=e.beforeDeserialization||function(e){return e},t=1;t<30;t+=1)for(n=0;n<10;n+=1)if(r=i.uid(t),this.beforeDeserialization(this.afterSerialization(r))!==r)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss");this.filename&&e.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=o.getNWAppFilename(e.nodeWebkitAppName,this.filename))}var r=e("__browserify_process"),a=e("./storage"),s=e("path"),u=e("./model"),n=e("async"),i=e("./customUtils"),c=e("./indexes");o.ensureDirectoryExists=function(e,t){var n=t||function(){};a.mkdirp(e,function(e){return n(e)})},o.getNWAppFilename=function(e,t){var n;switch(r.platform){case"win32":case"win64":if(!(n=r.env.LOCALAPPDATA||r.env.APPDATA))throw new Error("Couldn't find the base application data folder");n=s.join(n,e);break;case"darwin":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=s.join(n,"Library","Application Support",e);break;case"linux":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=s.join(n,".config",e);break;default:throw new Error("Can't use the Node Webkit relative path for platform "+r.platform)}return s.join(n,"nedb-data",t)},o.prototype.persistCachedDatabase=function(e){var t=e||function(){},n="",r=this;return this.inMemoryOnly?t(null):(this.db.getAllData().forEach(function(e){n+=r.afterSerialization(u.serialize(e))+"\n"}),Object.keys(this.db.indexes).forEach(function(e){"_id"!=e&&(n+=r.afterSerialization(u.serialize({$$indexCreated:{fieldName:e,unique:r.db.indexes[e].unique,sparse:r.db.indexes[e].sparse}}))+"\n")}),void a.crashSafeWriteFile(this.filename,n,function(e){return e?t(e):(r.db.emit("compaction.done"),t(null))}))},o.prototype.compactDatafile=function(){this.db.executor.push({this:this,fn:this.persistCachedDatabase,arguments:[]})},o.prototype.setAutocompactionInterval=function(e){var t=this,n=Math.max(e||0,5e3);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){t.compactDatafile()},n)},o.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},o.prototype.persistNewState=function(e,t){var n=this,r="",i=t||function(){};return n.inMemoryOnly?i(null):(e.forEach(function(e){r+=n.afterSerialization(u.serialize(e))+"\n"}),0===r.length?i(null):void a.appendFile(n.filename,r,"utf8",function(e){return i(e)}))},o.prototype.treatRawData=function(e){var t,n=e.split("\n"),r={},i=[],o={},a=-1;for(t=0;t<n.length;t+=1){var s;try{(s=u.deserialize(this.beforeDeserialization(n[t])))._id?!0===s.$$deleted?delete r[s._id]:r[s._id]=s:s.$$indexCreated&&null!=s.$$indexCreated.fieldName?o[s.$$indexCreated.fieldName]=s.$$indexCreated:"string"==typeof s.$$indexRemoved&&delete o[s.$$indexRemoved]}catch(e){a+=1}}if(0<n.length&&a/n.length>this.corruptAlertThreshold)throw new Error("More than "+Math.floor(100*this.corruptAlertThreshold)+"% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss");return Object.keys(r).forEach(function(e){i.push(r[e])}),{data:i,indexes:o}},o.prototype.loadDatabase=function(e){var t=e||function(){},i=this;return i.db.resetIndexes(),i.inMemoryOnly?t(null):void n.waterfall([function(r){o.ensureDirectoryExists(s.dirname(i.filename),function(){a.ensureDatafileIntegrity(i.filename,function(){a.readFile(i.filename,"utf8",function(e,t){if(e)return r(e);try{var n=i.treatRawData(t)}catch(e){return r(e)}Object.keys(n.indexes).forEach(function(e){i.db.indexes[e]=new c(n.indexes[e])});try{i.db.resetIndexes(n.data)}catch(e){return i.db.resetIndexes(),r(e)}i.db.persistence.persistCachedDatabase(r)})})})}],function(e){return e?t(e):(i.db.executor.processBuffer(),t(null))})},t.exports=o},{"./customUtils":6,"./indexes":9,"./model":10,"./storage":12,__browserify_process:4,async:13,path:2}],12:[function(e,t){function n(e,t,n,r){"function"==typeof n&&(r=n),o.setItem(e,t,function(){return r()})}var o=e("localforage");o.config({name:"NeDB",storeName:"nedbdata"}),t.exports.exists=function(e,n){o.getItem(e,function(e,t){return n(null!==t)})},t.exports.rename=function(n,r,i){o.getItem(n,function(e,t){null===t?o.removeItem(r,function(){return i()}):o.setItem(r,t,function(){o.removeItem(n,function(){return i()})})})},t.exports.writeFile=n,t.exports.crashSafeWriteFile=n,t.exports.appendFile=function(n,r,e,i){"function"==typeof e&&(i=e),o.getItem(n,function(e,t){t=t||"",t+=r,o.setItem(n,t,function(){return i()})})},t.exports.readFile=function(e,t,n){"function"==typeof t&&(n=t),o.getItem(e,function(e,t){return n(null,t||"")})},t.exports.unlink=function(e,t){o.removeItem(e,function(){return t()})},t.exports.mkdirp=function(e,t){return t()},t.exports.ensureDatafileIntegrity=function(e,t){return t(null)}},{localforage:18}],13:[function(e,b){var w=e("__browserify_process");!function(){function s(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(n,arguments)}}var n,e,p={};null!=(n=this)&&(e=n.async),p.noConflict=function(){return n.async=e,p};var h=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},u=function(e,r){if(e.map)return e.map(r);var i=[];return h(e,function(e,t,n){i.push(r(e,t,n))}),i},d=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==w&&w.nextTick?(p.nextTick=w.nextTick,p.setImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:p.nextTick):("function"==typeof setImmediate?p.nextTick=function(e){setImmediate(e)}:p.nextTick=function(e){setTimeout(e,0)},p.setImmediate=p.nextTick),p.each=function(t,n,r){if(r=r||function(){},!t.length)return r();var i=0;h(t,function(e){n(e,s(function(e){e?(r(e),r=function(){}):(i+=1)>=t.length&&r(null)}))})},p.forEach=p.each,p.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1)>=t.length?n(null):i()})};i()},p.forEachSeries=p.eachSeries,p.eachLimit=function(e,t,n,r){i(t).apply(null,[e,n,r])},p.forEachLimit=p.eachLimit;var i=function(s){return function(n,e,r){if(r=r||function(){},!n.length||s<=0)return r();var i=0,o=0,a=0;!function t(){if(i>=n.length)return r();for(;a<s&&o<n.length;)a+=1,e(n[(o+=1)-1],function(e){e?(r(e),r=function(){}):(a-=1,(i+=1)>=n.length?r():t())})}()}},t=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[p.each].concat(e))}},r=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[p.eachSeries].concat(e))}},o=function(e,t,i,n){var o=[];e(t=u(t,function(e,t){return{index:t,value:e}}),function(n,r){i(n.value,function(e,t){o[n.index]=t,r(e)})},function(e){n(e,o)})};p.map=t(o),p.mapSeries=r(o),p.mapLimit=function(e,t,n,r){return a(t)(e,n,r)};var a=function(e){return t=e,n=o,function(){var e=Array.prototype.slice.call(arguments);return n.apply(null,[i(t)].concat(e))};var t,n};p.reduce=function(e,r,t,n){p.eachSeries(e,function(e,n){t(r,e,function(e,t){r=t,n(e)})},function(e){n(e,r)})},p.inject=p.reduce,p.foldl=p.reduce,p.reduceRight=function(e,t,n,r){var i=u(e,function(e){return e}).reverse();p.reduce(i,t,n,r)},p.foldr=p.reduceRight;var c=function(e,t,r,n){var i=[];e(t=u(t,function(e,t){return{index:t,value:e}}),function(t,n){r(t.value,function(e){e&&i.push(t),n()})},function(){n(u(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};p.filter=t(c),p.filterSeries=r(c),p.select=p.filter,p.selectSeries=p.filterSeries;var l=function(e,t,r,n){var i=[];e(t=u(t,function(e,t){return{index:t,value:e}}),function(t,n){r(t.value,function(e){e||i.push(t),n()})},function(){n(u(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};p.reject=t(l),p.rejectSeries=r(l);var f=function(e,t,r,i){e(t,function(t,n){r(t,function(e){e?(i(t),i=function(){}):n()})},function(){i()})};p.detect=t(f),p.detectSeries=r(f),p.some=function(e,n,r){p.each(e,function(e,t){n(e,function(e){e&&(r(!0),r=function(){}),t()})},function(){r(!1)})},p.any=p.some,p.every=function(e,n,r){p.each(e,function(e,t){n(e,function(e){e||(r(!1),r=function(){}),t()})},function(){r(!0)})},p.all=p.every,p.sortBy=function(e,t,n){p.map(e,function(n,r){t(n,function(e,t){e?r(e):r(null,{value:n,criteria:t})})},function(e,t){if(e)return n(e);n(null,u(t.sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:r<n?1:0}),function(e){return e.value}))})},p.auto=function(a,s){s=s||function(){};var e=d(a);if(!e.length)return s(null);var u={},c=[],l=function(e){c.unshift(e)},f=function(){h(c.slice(0),function(e){e()})};l(function(){d(u).length===e.length&&(s(null,u),s=function(){})}),h(e,function(o){var e=a[o]instanceof Function?[a[o]]:a[o],t=function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length<=1&&(t=t[0]),e){var n={};h(d(u),function(e){n[e]=u[e]}),n[o]=t,s(e,n),s=function(){}}else u[o]=t,p.setImmediate(f)},n=e.slice(0,Math.abs(e.length-1))||[],r=function(){return r=function(e,t){return e&&u.hasOwnProperty(t)},i=!0,((e=n).reduce?e.reduce(r,i):(h(e,function(e,t,n){i=r(i,e,t,n)}),i))&&!u.hasOwnProperty(o);var e,r,i};if(r())e[e.length-1](t,u);else{var i=function(){r()&&(function(e){for(var t=0;t<c.length;t+=1)if(c[t]===e)return c.splice(t,1)}(i),e[e.length-1](t,u))};l(i)}})},p.waterfall=function(e,i){if(i=i||function(){},e.constructor!==Array){var t=new Error("First argument to waterfall must be an array of functions");return i(t)}if(!e.length)return i();var o=function(r){return function(e){if(e)i.apply(null,arguments),i=function(){};else{var t=Array.prototype.slice.call(arguments,1),n=r.next();n?t.push(o(n)):t.push(i),p.setImmediate(function(){r.apply(null,t)})}}};o(p.iterator(e))()};var v=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},n);else{var i={};e.each(d(t),function(n,r){t[n](function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),i[n]=t,r(e)})},function(e){n(e,i)})}};p.parallel=function(e,t){v({map:p.map,each:p.each},e,t)},p.parallelLimit=function(e,t,n){v({map:a(t),each:i(t)},e,n)},p.series=function(e,t){if(t=t||function(){},e.constructor===Array)p.mapSeries(e,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},t);else{var i={};p.eachSeries(d(e),function(n,r){e[n](function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),i[n]=t,r(e)})},function(e){t(e,i)})}},p.iterator=function(n){var r=function(e){var t=function(){return n.length&&n[e].apply(null,arguments),t.next()};return t.next=function(){return e<n.length-1?r(e+1):null},t};return r(0)},p.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var y=function(e,t,r,n){var i=[];e(t,function(e,n){r(e,function(e,t){i=i.concat(t||[]),n(e)})},function(e){n(e,i)})};p.concat=t(y),p.concatSeries=r(y),p.whilst=function(t,n,r){t()?n(function(e){return e?r(e):void p.whilst(t,n,r)}):r()},p.doWhilst=function(t,n,r){t(function(e){return e?r(e):void(n()?p.doWhilst(t,n,r):r())})},p.until=function(t,n,r){t()?r():n(function(e){return e?r(e):void p.until(t,n,r)})},p.doUntil=function(t,n,r){t(function(e){return e?r(e):void(n()?r():p.doUntil(t,n,r))})},p.queue=function(n,o){function r(n,e,r,i){e.constructor!==Array&&(e=[e]),h(e,function(e){var t={data:e,callback:"function"==typeof i?i:null};r?n.tasks.unshift(t):n.tasks.push(t),n.saturated&&n.tasks.length===o&&n.saturated(),p.setImmediate(n.process)})}void 0===o&&(o=1);var i=0,a={tasks:[],concurrency:o,saturated:null,empty:null,drain:null,push:function(e,t){r(a,e,!1,t)},unshift:function(e,t){r(a,e,!0,t)},process:function(){if(i<a.concurrency&&a.tasks.length){var e=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),i+=1;var t=s(function(){i-=1,e.callback&&e.callback.apply(e,arguments),a.drain&&0===a.tasks.length+i&&a.drain(),a.process()});n(e.data,t)}},length:function(){return a.tasks.length},running:function(){return i}};return a},p.cargo=function(r,i){var o=!1,a=[],s={tasks:a,payload:i,saturated:null,empty:null,drain:null,push:function(e,t){e.constructor!==Array&&(e=[e]),h(e,function(e){a.push({data:e,callback:"function"==typeof t?t:null}),s.saturated&&a.length===i&&s.saturated()}),p.setImmediate(s.process)},process:function e(){if(!o){if(0===a.length)return void(s.drain&&s.drain());var n="number"==typeof i?a.splice(0,i):a.splice(0),t=u(n,function(e){return e.data});s.empty&&s.empty(),o=!0,r(t,function(){o=!1;var t=arguments;h(n,function(e){e.callback&&e.callback.apply(null,t)}),e()})}},length:function(){return a.length},running:function(){return o}};return s};var m=function(n){return function(e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t.concat([function(e){var t=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[n]&&h(t,function(e){console[n](e)}))}]))}};p.log=m("log"),p.dir=m("dir"),p.memoize=function(n,i){var o={},a={};i=i||function(e){return e};var e=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),r=i.apply(null,e);r in o?t.apply(null,o[r]):r in a?a[r].push(t):(a[r]=[t],n.apply(null,e.concat([function(){o[r]=arguments;var e=a[r];delete a[r];for(var t=0,n=e.length;t<n;t++)e[t].apply(null,arguments)}])))};return e.memo=o,e.unmemoized=n,e},p.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},p.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return p.map(r,t,n)},p.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return p.mapSeries(r,t,n)},p.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var r=this,e=Array.prototype.slice.call(arguments),n=e.pop();p.reduce(t,e,function(e,t,n){t.apply(r,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);n(e,t)}]))},function(e,t){n.apply(r,[e].concat(t))})}};var g=function(t,i){var e=function(){var n=this,r=Array.prototype.slice.call(arguments),e=r.pop();return t(i,function(e,t){e.apply(n,r.concat([t]))},e)};if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return e.apply(this,n)}return e};p.applyEach=t(g),p.applyEachSeries=r(g),p.forever=function(n,r){!function e(t){if(t){if(r)return r(t);throw t}n(e)}()},void 0!==b&&b.exports?b.exports=p:n.async=p}()},{__browserify_process:4}],14:[function(e,t){t.exports.BinarySearchTree=e("./lib/bst"),t.exports.AVLTree=e("./lib/avltree")},{"./lib/avltree":15,"./lib/bst":16}],15:[function(e,t){function n(e){this.tree=new r(e)}function r(e){e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,e.hasOwnProperty("key")&&(this.key=e.key),this.data=e.hasOwnProperty("value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||o.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||o.defaultCheckValueEquality}var i=e("./bst"),o=e("./customUtils"),a=e("util");e("underscore"),a.inherits(r,i),(n._AVLTree=r).prototype.checkHeightCorrect=function(){var e,t;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(e=this.left?this.left.height:0,t=this.right?this.right.height:0,this.height!==1+Math.max(e,t))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},r.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},r.prototype.checkBalanceFactors=function(){if(1<Math.abs(this.balanceFactor()))throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},r.prototype.checkIsAVLT=function(){r.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},n.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},r.prototype.rightRotation=function(){var e,t,n,r,i=this,o=this.left;return o?(e=o.right,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,(o.right=i).parent=o,(i.left=e)&&(e.parent=i),t=o.left?o.left.height:0,n=e?e.height:0,r=i.right?i.right.height:0,i.height=Math.max(n,r)+1,o.height=Math.max(t,i.height)+1,o):this},r.prototype.leftRotation=function(){var e,t,n,r,i=this,o=this.right;return o?(e=o.left,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,(o.left=i).parent=o,(i.right=e)&&(e.parent=i),t=i.left?i.left.height:0,n=e?e.height:0,r=o.right?o.right.height:0,i.height=Math.max(t,n)+1,o.height=Math.max(r,i.height)+1,o):this},r.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},r.prototype.leftTooSmall=function(){return-1<=this.balanceFactor()?this:(0<this.right.balanceFactor()&&this.right.rightRotation(),this.leftRotation())},r.prototype.rebalanceAlongPath=function(e){var t,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=e.length-1;0<=n;n-=1)e[n].height=1+Math.max(e[n].left?e[n].left.height:0,e[n].right?e[n].right.height:0),1<e[n].balanceFactor()&&(t=e[n].rightTooSmall(),0===n&&(r=t)),e[n].balanceFactor()<-1&&(t=e[n].leftTooSmall(),0===n&&(r=t));return r},r.prototype.insert=function(e,t){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=e,this.data.push(t),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,e)){if(r.unique){var i=new Error("Can't insert key "+e+", it violates the unique constraint");throw i.key=e,i.errorType="uniqueViolated",i}return r.data.push(t),this}if(n.push(r),r.compareKeys(e,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:e,value:t}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:e,value:t}));break}r=r.right}}return this.rebalanceAlongPath(n)},n.prototype.insert=function(e,t){var n=this.tree.insert(e,t);n&&(this.tree=n)},r.prototype.delete=function(e,t){var n,r=[],i=this,o=[];if(!this.hasOwnProperty("key"))return this;for(;0!==i.compareKeys(e,i.key);)if(o.push(i),i.compareKeys(e,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}if(1<i.data.length&&t)return i.data.forEach(function(e){i.checkValueEquality(e,t)||r.push(e)}),i.data=r,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(o));if(!i.left||!i.right)return n=i.left?i.left:i.right,i===this?(n.parent=null,n):(i.parent.left===i?i.parent.left=n:i.parent.right=n,n.parent=i.parent,this.rebalanceAlongPath(o));if(o.push(i),!(n=i.left).right)return i.key=n.key,i.data=n.data,i.left=n.left,n.left&&(n.left.parent=i),this.rebalanceAlongPath(o);for(;n.right;)o.push(n),n=n.right;return i.key=n.key,i.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(o)},n.prototype.delete=function(e,t){var n=this.tree.delete(e,t);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(e){n.prototype[e]=function(){return this.tree[e].apply(this.tree,arguments)}}),t.exports=n},{"./bst":16,"./customUtils":17,underscore:19,util:3}],16:[function(e,t){function n(e){e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,e.hasOwnProperty("key")&&(this.key=e.key),this.data=e.hasOwnProperty("value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||r.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||r.defaultCheckValueEquality}function i(e,t){var n;for(n=0;n<t.length;n+=1)e.push(t[n])}var r=e("./customUtils");n.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},n.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},n.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},n.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},n.prototype.checkAllNodesFullfillCondition=function(e){this.hasOwnProperty("key")&&(e(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(e),this.right&&this.right.checkAllNodesFullfillCondition(e))},n.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(e){if(0<=t.compareKeys(e,t.key))throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)<=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.right.checkNodeOrdering()))},n.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},n.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},n.prototype.getNumberOfKeys=function(){var e;return this.hasOwnProperty("key")?(e=1,this.left&&(e+=this.left.getNumberOfKeys()),this.right&&(e+=this.right.getNumberOfKeys()),e):0},n.prototype.createSimilar=function(e){return(e=e||{}).unique=this.unique,e.compareKeys=this.compareKeys,e.checkValueEquality=this.checkValueEquality,new this.constructor(e)},n.prototype.createLeftChild=function(e){var t=this.createSimilar(e);return(t.parent=this).left=t},n.prototype.createRightChild=function(e){var t=this.createSimilar(e);return(t.parent=this).right=t},n.prototype.insert=function(e,t){if(!this.hasOwnProperty("key"))return this.key=e,void this.data.push(t);if(0!==this.compareKeys(this.key,e))this.compareKeys(e,this.key)<0?this.left?this.left.insert(e,t):this.createLeftChild({key:e,value:t}):this.right?this.right.insert(e,t):this.createRightChild({key:e,value:t});else{if(this.unique){var n=new Error("Can't insert key "+e+", it violates the unique constraint");throw n.key=e,n.errorType="uniqueViolated",n}this.data.push(t)}},n.prototype.search=function(e){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,e)?this.data:this.compareKeys(e,this.key)<0?this.left?this.left.search(e):[]:this.right?this.right.search(e):[]:[]},n.prototype.getLowerBoundMatcher=function(t){var n=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===n.compareKeys(t.$gte,t.$gt)?function(e){return 0<n.compareKeys(e,t.$gt)}:0<n.compareKeys(t.$gte,t.$gt)?function(e){return 0<=n.compareKeys(e,t.$gte)}:function(e){return 0<n.compareKeys(e,t.$gt)}:t.hasOwnProperty("$gt")?function(e){return 0<n.compareKeys(e,t.$gt)}:function(e){return 0<=n.compareKeys(e,t.$gte)}:function(){return!0}},n.prototype.getUpperBoundMatcher=function(t){var n=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===n.compareKeys(t.$lte,t.$lt)?function(e){return n.compareKeys(e,t.$lt)<0}:n.compareKeys(t.$lte,t.$lt)<0?function(e){return n.compareKeys(e,t.$lte)<=0}:function(e){return n.compareKeys(e,t.$lt)<0}:t.hasOwnProperty("$lt")?function(e){return n.compareKeys(e,t.$lt)<0}:function(e){return n.compareKeys(e,t.$lte)<=0}:function(){return!0}},n.prototype.betweenBounds=function(e,t,n){var r=[];return this.hasOwnProperty("key")?(t=t||this.getLowerBoundMatcher(e),n=n||this.getUpperBoundMatcher(e),t(this.key)&&this.left&&i(r,this.left.betweenBounds(e,t,n)),t(this.key)&&n(this.key)&&i(r,this.data),n(this.key)&&this.right&&i(r,this.right.betweenBounds(e,t,n)),r):[]},n.prototype.deleteIfLeaf=function(){return!this.left&&!this.right&&(this.parent?this.parent.left===this?this.parent.left=null:this.parent.right=null:(delete this.key,this.data=[]),!0)},n.prototype.deleteIfOnlyOneChild=function(){var e;return this.left&&!this.right&&(e=this.left),!this.left&&this.right&&(e=this.right),!!e&&(this.parent?(this.parent.left===this?this.parent.left=e:this.parent.right=e,e.parent=this.parent):(this.key=e.key,this.data=e.data,this.left=null,e.left&&(this.left=e.left,e.left.parent=this),this.right=null,e.right&&(this.right=e.right,e.right.parent=this)),!0)},n.prototype.delete=function(e,t){var n,r=[],i=this;if(this.hasOwnProperty("key")){if(this.compareKeys(e,this.key)<0)return void(this.left&&this.left.delete(e,t));if(0<this.compareKeys(e,this.key))return void(this.right&&this.right.delete(e,t));if(0!==!this.compareKeys(e,this.key))return 1<this.data.length&&void 0!==t?(this.data.forEach(function(e){i.checkValueEquality(e,t)||r.push(e)}),void(i.data=r)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(.5<=Math.random()?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?this.left=n.left:n.parent.right=n.left,n.left&&(n.left.parent=n.parent)):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?this.right=n.right:n.parent.left=n.right,n.right&&(n.right.parent=n.parent))))}},n.prototype.executeOnEveryNode=function(e){this.left&&this.left.executeOnEveryNode(e),e(this),this.right&&this.right.executeOnEveryNode(e)},n.prototype.prettyPrint=function(e,t){t=t||"",console.log(t+"* "+this.key),e&&console.log(t+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(e,t+"  "):console.log(t+"  *"),this.right?this.right.prettyPrint(e,t+"  "):console.log(t+"  *"))},t.exports=n},{"./customUtils":17}],17:[function(e,t){t.exports.getRandomArray=function e(t){var n,r;return 0===t?[]:1===t?[0]:(n=e(t-1),r=Math.floor(Math.random()*t),n.splice(r,0,t-1),n)},t.exports.defaultCompareKeysFunction=function(e,t){if(e<t)return-1;if(t<e)return 1;if(e===t)return 0;var n=new Error("Couldn't compare elements");throw n.a=e,n.b=t,n},t.exports.defaultCheckValueEquality=function(e,t){return e===t}},{}],18:[function(e,t,n){var r,i,o,l,f,p,h,d=e("__browserify_process"),v=self;p={},h={},f=l=function(a){function e(e){if("."!==e.charAt(0))return e;for(var t=e.split("/"),n=a.split("/").slice(0,-1),r=0,i=t.length;r<i;r++){var o=t[r];if(".."===o)n.pop();else{if("."===o)continue;n.push(o)}}return n.join("/")}if(f._eak_seen=p,h[a])return h[a];if(h[a]={},!p[a])throw new Error("Could not find module "+a);for(var t,n=p[a],r=n.deps,i=n.callback,o=[],s=0,u=r.length;s<u;s++)"exports"===r[s]?o.push(t={}):o.push(l(e(r[s])));var c=i.apply(this,o);return h[a]=t||c},(o=function(e,t,n){p[e]={deps:t,callback:n}})("promise/all",["./utils","exports"],function(e,t){"use strict";var n=e.isArray,c=e.isFunction;t.all=function(u){if(!n(u))throw new TypeError("You must pass an array to all.");return new this(function(n,e){function t(t){return function(e){r(t,e)}}function r(e,t){o[e]=t,0==--a&&n(o)}var i,o=[],a=u.length;0===a&&n([]);for(var s=0;s<u.length;s++)(i=u[s])&&c(i.then)?i.then(t(s),e):r(s,i)})}}),o("promise/asap",["exports"],function(e){"use strict";function t(){for(var e=0;e<c.length;e++){var t=c[e];(0,t[0])(t[1])}c=[]}var n,r,i,o,a="undefined"!=typeof window?window:{},s=a.MutationObserver||a.WebKitMutationObserver,u=void 0!==v?v:void 0===this?window:this,c=[];n=void 0!==d&&"[object process]"==={}.toString.call(d)?function(){d.nextTick(t)}:s?(r=0,i=new s(t),o=document.createTextNode(""),i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}):function(){u.setTimeout(t,1)},e.asap=function(e,t){1===c.push([e,t])&&n()}}),o("promise/config",["exports"],function(e){"use strict";var n={instrument:!1};e.config=n,e.configure=function(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}}),o("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";var r=e.Promise,i=t.isFunction;n.polyfill=function(){var e,t;"Promise"in(e=void 0!==v?v:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise(function(e){t=e}),i(t))||(e.Promise=r)}}),o("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,o,a,s){"use strict";function u(e){if(!b(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof u))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){d(t,e)}try{e(function(e){p(t,e)},n)}catch(e){n(e)}}(e,this)}function l(e,t,n,r){var i,o,a,s,u=b(n);if(u)try{i=n(r),a=!0}catch(e){s=!0,o=e}else i=r,a=!0;f(t,i)||(u&&a?p(t,i):s?d(t,o):e===D?p(t,i):e===E&&d(t,i))}function c(e,t){for(var n=e._subscribers,r=e._detail,i=0;i<n.length;i+=3)l(t,n[i],n[i+t],r);e._subscribers=null}function f(t,n){var r,e=null;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(g(n)&&(e=n.then,b(e)))return e.call(n,function(e){return!!r||(r=!0,void(n!==e?p(t,e):h(t,e)))},function(e){return!!r||(r=!0,void d(t,e))}),!0}catch(e){return r||d(t,e),!0}return!1}function p(e,t){e===t?h(e,t):f(e,t)||h(e,t)}function h(e,t){e._state===C&&(e._state=A,e._detail=t,m.async(v,e))}function d(e,t){e._state===C&&(e._state=A,e._detail=t,m.async(y,e))}function v(e){c(e,e._state=D)}function y(e){c(e,e._state=E)}var m=e.config;e.configure;var g=t.objectOrFunction,b=t.isFunction;t.now;var w=n.all,x=r.race,_=i.resolve,S=o.reject,k=a.asap;m.async=k;var C=void 0,A=0,D=1,E=2;u.prototype={constructor:u,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n,r,i,o,a,s=this,u=new this.constructor(function(){});if(this._state){var c=arguments;m.async(function(){l(s._state,u,c[s._state-1],s._detail)})}else n=u,r=e,i=t,o=this._subscribers,a=o.length,o[a]=n,o[a+D]=r,o[a+E]=i;return u},catch:function(e){return this.then(null,e)}},u.all=w,u.race=x,u.resolve=_,u.reject=S,s.Promise=u}),o("promise/race",["./utils","exports"],function(e,t){"use strict";var n=e.isArray;t.race=function(i){if(!n(i))throw new TypeError("You must pass an array to race.");return new this(function(e,t){for(var n,r=0;r<i.length;r++)(n=i[r])&&"function"==typeof n.then?n.then(e,t):e(n)})}}),o("promise/reject",["exports"],function(e){"use strict";e.reject=function(n){return new this(function(e,t){t(n)})}}),o("promise/resolve",["exports"],function(e){"use strict";e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})}}),o("promise/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e}var n=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(e){return t(e)||"object"==typeof e&&null!==e},e.isFunction=t,e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.now=n}),l("promise/polyfill").polyfill(),r=this,i=function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,d,v){"use strict";d.__esModule=!0,function(){function n(t,n){t[n]=function(){var e=arguments;return t.ready().then(function(){return t[n].apply(t,e)})}}function r(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=u(t[n])?t[n].slice():t[n])}return arguments[0]}function l(e){for(var t in o)if(o.hasOwnProperty(t)&&o[t]===e)return!0;return!1}var e,t,i,f={},o={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},a=[o.INDEXEDDB,o.WEBSQL,o.LOCALSTORAGE],p=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],s={description:"",driver:a.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},h=(e=this,t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB,(i={})[o.WEBSQL]=!!e.openDatabase,i[o.INDEXEDDB]=!!function(){if(void 0!==e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent))return!1;try{return t&&"function"==typeof t.open&&void 0!==e.IDBKeyRange}catch(e){return!1}}(),i[o.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(e){return!1}}(),i),u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=new(function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.INDEXEDDB=o.INDEXEDDB,this.LOCALSTORAGE=o.LOCALSTORAGE,this.WEBSQL=o.WEBSQL,this._defaultConfig=r({},s),this._config=r({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return t.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},t.prototype.defineDriver=function(c,e,t){var n=new Promise(function(t,n){try{var r=c._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+c._driver);if(!c._driver)return void n(e);if(l(c._driver))return void n(i);for(var o=p.concat("_initStorage"),a=0;a<o.length;a++){var s=o[a];if(!s||!c[s]||"function"!=typeof c[s])return void n(e)}var u=Promise.resolve(!0);"_support"in c&&(u=c._support&&"function"==typeof c._support?c._support():Promise.resolve(!!c._support)),u.then(function(e){h[r]=e,f[r]=c,t()},n)}catch(e){n(e)}});return n.then(e,t),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(e,t,n){var r=this,i=function(){if(l(e))switch(e){case r.INDEXEDDB:return new Promise(function(e){e(v(1))});case r.LOCALSTORAGE:return new Promise(function(e){e(v(2))});case r.WEBSQL:return new Promise(function(e){e(v(4))})}else if(f[e])return Promise.resolve(f[e]);return Promise.reject(new Error("Driver not found."))}();return i.then(t,n),i},t.prototype.getSerializer=function(t){var e=new Promise(function(e){e(v(3))});return t&&"function"==typeof t&&e.then(function(e){t(e)}),e},t.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return n.then(e,e),n},t.prototype.setDriver=function(e,t,n){function o(){a._config.driver=a.driver()}var a=this;u(e)||(e=[e]);var r=this._getSupportedDrivers(e),i=null!==this._driverSet?this._driverSet.catch(function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=i.then(function(){var e=r[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){var i;a._driver=e._driver,o(),a._wrapLibraryMethodsWithReady(),a._initDriver=(i=r,function(){var r=0;return function e(){for(;r<i.length;){var t=i[r];return r++,a._dbInfo=null,a._ready=null,a.getDriver(t).then(function(e){return a._extend(e),o(),a._ready=a._initStorage(a._config),a._ready}).catch(e)}o();var n=new Error("No available storage method found.");return a._driverSet=Promise.reject(n),a._driverSet}()})})}).catch(function(){o();var e=new Error("No available storage method found.");return a._driverSet=Promise.reject(e),a._driverSet}),this._driverSet.then(t,n),this._driverSet},t.prototype.supports=function(e){return!!h[e]},t.prototype._extend=function(e){r(this,e)},t.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},t.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<p.length;e++)n(this,p[e])},t.prototype.createInstance=function(e){return new t(e)},t}());d.default=c}.call("undefined"!=typeof window?window:self),e.exports=d.default},function(e,t){"use strict";t.__esModule=!0,function(){function o(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new(p.BlobBuilder||p.MSBlobBuilder||p.MozBlobBuilder||p.WebKitBlobBuilder),i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(n.type)}}function u(r){return new Promise(function(i,t){var e=o([""],{type:"image/png"}),n=r.transaction([v],"readwrite");n.objectStore(v).put(e,"key"),n.oncomplete=function(){var e=r.transaction([v],"readwrite").objectStore(v).get("key");e.onerror=t,e.onsuccess=function(e){var r,t=e.target.result,n=URL.createObjectURL(t);(r=n,new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r),n.withCredentials=!0,n.responseType="arraybuffer",n.onreadystatechange=function(){return 4===n.readyState?200===n.status?e({response:n.response,type:n.getResponseHeader("Content-Type")}):void t({status:n.status,response:n.response}):void 0},n.send()})).then(function(e){i(!(!e||"image/png"!==e.type))},function(){i(!1)}).then(function(){URL.revokeObjectURL(n)})}}}).catch(function(){return!1})}function s(e){return o([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function c(e){return e&&e.__local_forage_encoded_blob}function l(i,o){return new Promise(function(e,t){if(i.db){if(!o)return e(i.db);i.db.close()}var n=[i.name];o&&n.push(i.version);var r=a.open.apply(a,n);o&&(r.onupgradeneeded=function(t){var e=r.result;try{e.createObjectStore(i.storeName),t.oldVersion<=1&&e.createObjectStore(v)}catch(e){if("ConstraintError"!==e.name)throw e;p.console.warn('The database "'+i.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+i.storeName+'" already exists.')}}),r.onerror=function(){t(r.error)},r.onsuccess=function(){e(r.result)}})}function f(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var p=this,a=a||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(a){var h,d,v="local-forage-detect-blob-support",e={_driver:"asyncStorage",_initStorage:function(e){function t(){return Promise.resolve()}var r=this,i={db:null};if(e)for(var n in e)i[n]=e[n];d||(d={});var o=d[i.name];o||(o={forages:[],db:null},d[i.name]=o),o.forages.push(this);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==this&&a.push(u.ready().catch(t))}var c=o.forages.slice(0);return Promise.all(a).then(function(){return i.db=o.db,l(i,!1)}).then(function(e){return i.db=e,function(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&p.console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}(i,r._defaultConfig.version)?l(i,!0):e}).then(function(e){for(var t in i.db=o.db=e,r._dbInfo=i,c){var n=c[t];n!==r&&(n._dbInfo.db=i.db,n._dbInfo.version=i.version)}})},iterate:function(a,e){var n=this,t=new Promise(function(o,t){n.ready().then(function(){var e=n._dbInfo,r=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).openCursor(),i=1;r.onsuccess=function(){var e=r.result;if(e){var t=e.value;c(t)&&(t=s(t));var n=a(t,e.key,i++);void 0!==n?o(n):e.continue()}else o()},r.onerror=function(){t(r.error)}}).catch(t)});return f(t,e),t},getItem:function(i,e){var o=this;"string"!=typeof i&&(p.console.warn(i+" used as a key, but it is not a string."),i=String(i));var t=new Promise(function(n,r){o.ready().then(function(){var e=o._dbInfo,t=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).get(i);t.onsuccess=function(){var e=t.result;void 0===e&&(e=null),c(e)&&(e=s(e)),n(e)},t.onerror=function(){r(t.error)}}).catch(r)});return f(t,e),t},setItem:function(s,t,e){var n=this;"string"!=typeof s&&(p.console.warn(s+" used as a key, but it is not a string."),s=String(s));var r=new Promise(function(i,o){var a;n.ready().then(function(){return a=n._dbInfo,e=a.db,"boolean"==typeof h?Promise.resolve(h):u(e).then(function(e){return h=e});var e}).then(function(e){return!e&&t instanceof Blob?(r=t,new Promise(function(n,e){var t=new FileReader;t.onerror=e,t.onloadend=function(e){var t=btoa(e.target.result||"");n({__local_forage_encoded_blob:!0,data:t,type:r.type})},t.readAsBinaryString(r)})):t;var r}).then(function(e){var t=a.db.transaction(a.storeName,"readwrite"),n=t.objectStore(a.storeName);null===e&&(e=void 0);var r=n.put(e,s);t.oncomplete=function(){void 0===e&&(e=null),i(e)},t.onabort=t.onerror=function(){var e=r.error?r.error:r.transaction.error;o(e)}}).catch(o)});return f(r,e),r},removeItem:function(o,e){var a=this;"string"!=typeof o&&(p.console.warn(o+" used as a key, but it is not a string."),o=String(o));var t=new Promise(function(r,i){a.ready().then(function(){var e=a._dbInfo,t=e.db.transaction(e.storeName,"readwrite"),n=t.objectStore(e.storeName).delete(o);t.oncomplete=function(){r()},t.onerror=function(){i(n.error)},t.onabort=function(){var e=n.error?n.error:n.transaction.error;i(e)}}).catch(i)});return f(t,e),t},clear:function(e){var o=this,t=new Promise(function(r,i){o.ready().then(function(){var e=o._dbInfo,t=e.db.transaction(e.storeName,"readwrite"),n=t.objectStore(e.storeName).clear();t.oncomplete=function(){r()},t.onabort=t.onerror=function(){var e=n.error?n.error:n.transaction.error;i(e)}}).catch(i)});return f(t,e),t},length:function(e){var i=this,t=new Promise(function(n,r){i.ready().then(function(){var e=i._dbInfo,t=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).count();t.onsuccess=function(){n(t.result)},t.onerror=function(){r(t.error)}}).catch(r)});return f(t,e),t},key:function(a,e){var s=this,t=new Promise(function(i,o){return a<0?void i(null):void s.ready().then(function(){var e=s._dbInfo,t=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),n=!1,r=t.openCursor();r.onsuccess=function(){var e=r.result;return e?void(0===a?i(e.key):n?i(e.key):(n=!0,e.advance(a))):void i(null)},r.onerror=function(){o(r.error)}}).catch(o)});return f(t,e),t},keys:function(e){var o=this,t=new Promise(function(r,i){o.ready().then(function(){var e=o._dbInfo,t=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).openCursor(),n=[];t.onsuccess=function(){var e=t.result;return e?(n.push(e.key),void e.continue()):void r(n)},t.onerror=function(){i(t.error)}}).catch(i)});return f(t,e),t}};t.default=e}}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,function(){function o(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var i=this,l=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;l=this.localStorage}catch(e){return}var e={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=t.name+"/",t.storeName!==this._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),this._dbInfo=t,new Promise(function(e){e(r(3))}).then(function(e){return t.serializer=e,Promise.resolve()})},iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,n=t.length,r=l.length,i=1,o=0;o<r;o++){var a=l.key(o);if(0===a.indexOf(t)){var s=l.getItem(a);if(s&&(s=e.serializer.deserialize(s)),void 0!==(s=u(s,a.substring(n),i++)))return s}}});return o(t,e),t},getItem:function(n,e){var r=this;"string"!=typeof n&&(i.console.warn(n+" used as a key, but it is not a string."),n=String(n));var t=r.ready().then(function(){var e=r._dbInfo,t=l.getItem(e.keyPrefix+n);return t&&(t=e.serializer.deserialize(t)),t});return o(t,e),t},setItem:function(a,e,t){var s=this;"string"!=typeof a&&(i.console.warn(a+" used as a key, but it is not a string."),a=String(a));var n=s.ready().then(function(){void 0===e&&(e=null);var o=e;return new Promise(function(n,r){var i=s._dbInfo;i.serializer.serialize(e,function(e,t){if(t)r(t);else try{l.setItem(i.keyPrefix+a,e),n(o)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&r(e),r(e)}})})});return o(n,t),n},removeItem:function(t,e){var n=this;"string"!=typeof t&&(i.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo;l.removeItem(e.keyPrefix+t)});return o(r,e),r},clear:function(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo.keyPrefix,t=l.length-1;0<=t;t--){var n=l.key(t);0===n.indexOf(e)&&l.removeItem(n)}});return o(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return o(t,e),t},key:function(n,e){var r=this,t=r.ready().then(function(){var t,e=r._dbInfo;try{t=l.key(n)}catch(e){t=null}return t&&(t=t.substring(e.keyPrefix.length)),t});return o(t,e),t},keys:function(e){var i=this,t=i.ready().then(function(){for(var e=i._dbInfo,t=l.length,n=[],r=0;r<t;r++)0===l.key(r).indexOf(e.keyPrefix)&&n.push(l.key(r).substring(e.keyPrefix.length));return n});return o(t,e),t}};t.default=e}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,function(){function a(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=f.indexOf(e[t]),r=f.indexOf(e[t+1]),i=f.indexOf(e[t+2]),o=f.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function s(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=f[n[t]>>2],r+=f[(3&n[t])<<4|n[t+1]>>4],r+=f[(15&n[t+1])<<2|n[t+2]>>6],r+=f[63&n[t+2]];return 2==n.length%3?r=r.substring(0,r.length-1)+"=":1==n.length%3&&(r=r.substring(0,r.length-2)+"=="),r}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/^~~local_forage_type~([^~]+)~/,c="__lfsc__:",l=c.length,p=l+"arbf".length,h=this,e={serialize:function(t,n){var e="";if(t&&(e=t.toString()),t&&("[object ArrayBuffer]"===t.toString()||t.buffer&&"[object ArrayBuffer]"===t.buffer.toString())){var r,i=c;t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===e?i+="si08":"[object Uint8Array]"===e?i+="ui08":"[object Uint8ClampedArray]"===e?i+="uic8":"[object Int16Array]"===e?i+="si16":"[object Uint16Array]"===e?i+="ur16":"[object Int32Array]"===e?i+="si32":"[object Uint32Array]"===e?i+="ui32":"[object Float32Array]"===e?i+="fl32":"[object Float64Array]"===e?i+="fl64":n(new Error("Failed to get type for BinaryArray"))),n(i+s(r))}else if("[object Blob]"===e){var o=new FileReader;o.onload=function(){var e="~~local_forage_type~"+t.type+"~"+s(this.result);n(c+"blob"+e)},o.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),n(null,e)}},deserialize:function(e){if(e.substring(0,l)!==c)return JSON.parse(e);var t,n=e.substring(p),r=e.substring(l,p);if("blob"===r&&u.test(n)){var i=n.match(u);t=i[1],n=n.substring(i[0].length)}var o=a(n);switch(r){case"arbf":return o;case"blob":return function(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new(h.BlobBuilder||h.MSBlobBuilder||h.MozBlobBuilder||h.WebKitBlobBuilder),i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(n.type)}}([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:a,bufferToString:s};t.default=e}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,function(){function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var r=this,a=this.openDatabase;if(a){var e={_driver:"webSQLStorage",_initStorage:function(r){var i=this,o={db:null};if(r)for(var e in r)o[e]="string"!=typeof r[e]?r[e].toString():r[e];var t=new Promise(function(t,n){try{o.db=a(o.name,String(o.version),o.description,o.size)}catch(e){return i.setDriver(i.LOCALSTORAGE).then(function(){return i._initStorage(r)}).then(t).catch(n)}o.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){i._dbInfo=o,t()},function(e,t){n(t)})})});return new Promise(function(e){e(n(3))}).then(function(e){return o.serializer=e,t})},iterate:function(c,e){var t=this,n=new Promise(function(u,n){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){e.executeSql("SELECT * FROM "+s.storeName,[],function(e,t){for(var n=t.rows,r=n.length,i=0;i<r;i++){var o=n.item(i),a=o.value;if(a&&(a=s.serializer.deserialize(a)),void 0!==(a=c(a,o.key,i+1)))return void u(a)}u()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n},getItem:function(t,e){var o=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new Promise(function(i,n){o.ready().then(function(){var r=o._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){var n=t.rows.length?t.rows.item(0).value:null;n&&(n=r.serializer.deserialize(n)),i(n)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n},setItem:function(a,e,t){var s=this;"string"!=typeof a&&(r.console.warn(a+" used as a key, but it is not a string."),a=String(a));var n=new Promise(function(i,o){s.ready().then(function(){void 0===e&&(e=null);var n=e,r=s._dbInfo;r.serializer.serialize(e,function(t,e){e?o(e):r.db.transaction(function(e){e.executeSql("INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[a,t],function(){i(n)},function(e,t){o(t)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})}).catch(o)});return u(n,t),n},removeItem:function(i,e){var o=this;"string"!=typeof i&&(r.console.warn(i+" used as a key, but it is not a string."),i=String(i));var t=new Promise(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){e.executeSql("DELETE FROM "+t.storeName+" WHERE key = ?",[i],function(){n()},function(e,t){r(t)})})}).catch(r)});return u(t,e),t},clear:function(e){var i=this,t=new Promise(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){e.executeSql("DELETE FROM "+t.storeName,[],function(){n()},function(e,t){r(t)})})}).catch(r)});return u(t,e),t},length:function(e){var i=this,t=new Promise(function(r,n){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){var n=t.rows.item(0).c;r(n)},function(e,t){n(t)})})}).catch(n)});return u(t,e),t},key:function(i,e){var o=this,t=new Promise(function(r,n){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){e.executeSql("SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[i+1],function(e,t){var n=t.rows.length?t.rows.item(0).key:null;r(n)},function(e,t){n(t)})})}).catch(n)});return u(t,e),t},keys:function(e){var r=this,t=new Promise(function(i,n){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(e){e.executeSql("SELECT key FROM "+t.storeName,[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).key);i(n)},function(e,t){n(t)})})}).catch(n)});return u(t,e),t}};t.default=e}}.call("undefined"!=typeof window?window:self),e.exports=t.default}])},"object"==typeof n&&"object"==typeof t?t.exports=i():"object"==typeof n?n.localforage=i():r.localforage=i()},{__browserify_process:4}],19:[function(e,L,M){(function(){var e=this,t=e._,a={},i=Array.prototype,n=Object.prototype,r=Function.prototype,o=i.push,s=i.slice,u=i.concat,f=n.toString,c=n.hasOwnProperty,l=i.forEach,p=i.map,h=i.reduce,d=i.reduceRight,v=i.filter,y=i.every,m=i.some,g=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,_=r.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};void 0!==M?(void 0!==L&&L.exports&&(M=L.exports=S),M._=S):e._=S,S.VERSION="1.4.4";var k=S.each=S.forEach=function(e,t,n){if(null!=e)if(l&&e.forEach===l)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===a)return}else for(var o in e)if(S.has(e,o)&&t.call(n,e[o],o,e)===a)return};S.map=S.collect=function(e,r,i){var o=[];return null==e?o:p&&e.map===p?e.map(r,i):(k(e,function(e,t,n){o[o.length]=r.call(i,e,t,n)}),o)};var C="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,r,i,o){var a=2<arguments.length;if(null==e&&(e=[]),h&&e.reduce===h)return o&&(r=S.bind(r,o)),a?e.reduce(r,i):e.reduce(r);if(k(e,function(e,t,n){a?i=r.call(o,i,e,t,n):(i=e,a=!0)}),!a)throw new TypeError(C);return i},S.reduceRight=S.foldr=function(r,i,o,a){var s=2<arguments.length;if(null==r&&(r=[]),d&&r.reduceRight===d)return a&&(i=S.bind(i,a)),s?r.reduceRight(i,o):r.reduceRight(i);var u=r.length;if(u!==+u){var c=S.keys(r);u=c.length}if(k(r,function(e,t,n){t=c?c[--u]:--u,s?o=i.call(a,o,r[t],t,n):(o=r[t],s=!0)}),!s)throw new TypeError(C);return o},S.find=S.detect=function(e,r,i){var o;return A(e,function(e,t,n){return r.call(i,e,t,n)?(o=e,!0):void 0}),o},S.filter=S.select=function(e,r,i){var o=[];return null==e?o:v&&e.filter===v?e.filter(r,i):(k(e,function(e,t,n){r.call(i,e,t,n)&&(o[o.length]=e)}),o)},S.reject=function(e,r,i){return S.filter(e,function(e,t,n){return!r.call(i,e,t,n)},i)},S.every=S.all=function(e,r,i){r||(r=S.identity);var o=!0;return null==e?o:y&&e.every===y?e.every(r,i):(k(e,function(e,t,n){return(o=o&&r.call(i,e,t,n))?void 0:a}),!!o)};var A=S.some=S.any=function(e,r,i){r||(r=S.identity);var o=!1;return null==e?o:m&&e.some===m?e.some(r,i):(k(e,function(e,t,n){return o||(o=r.call(i,e,t,n))?a:void 0}),!!o)};S.contains=S.include=function(e,t){return null!=e&&(g&&e.indexOf===g?-1!=e.indexOf(t):A(e,function(e){return e===t}))},S.invoke=function(e,t){var n=s.call(arguments,2),r=S.isFunction(t);return S.map(e,function(e){return(r?t:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.where=function(e,n,t){return S.isEmpty(n)?t?null:[]:S[t?"find":"filter"](e,function(e){for(var t in n)if(n[t]!==e[t])return!1;return!0})},S.findWhere=function(e,t){return S.where(e,t,!0)},S.max=function(e,i,o){if(!i&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!i&&S.isEmpty(e))return-1/0;var a={computed:-1/0,value:-1/0};return k(e,function(e,t,n){var r=i?i.call(o,e,t,n):e;r>=a.computed&&(a={value:e,computed:r})}),a.value},S.min=function(e,i,o){if(!i&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!i&&S.isEmpty(e))return 1/0;var a={computed:1/0,value:1/0};return k(e,function(e,t,n){var r=i?i.call(o,e,t,n):e;r<a.computed&&(a={value:e,computed:r})}),a.value},S.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=S.random(n++),r[n-1]=r[t],r[t]=e}),r};var D=function(t){return S.isFunction(t)?t:function(e){return e[t]}};S.sortBy=function(e,t,r){var i=D(t);return S.pluck(S.map(e,function(e,t,n){return{value:e,index:t,criteria:i.call(r,e,t,n)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var E=function(r,e,i,o){var a={},s=D(e||S.identity);return k(r,function(e,t){var n=s.call(i,e,t,r);o(a,n,e)}),a};S.groupBy=function(e,t,n){return E(e,t,n,function(e,t,n){(S.has(e,t)?e[t]:e[t]=[]).push(n)})},S.countBy=function(e,t,n){return E(e,t,n,function(e,t){S.has(e,t)||(e[t]=0),e[t]++})},S.sortedIndex=function(e,t,n,r){for(var i=(n=null==n?S.identity:D(n)).call(r,t),o=0,a=e.length;o<a;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},S.toArray=function(e){return e?S.isArray(e)?s.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},S.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var I=function(e,t,n){return k(e,function(e){S.isArray(e)?t?o.apply(n,e):I(e,t,n):n.push(e)}),n};S.flatten=function(e,t){return I(e,t,[])},S.without=function(e){return S.difference(e,s.call(arguments,1))},S.uniq=S.unique=function(n,r,e,t){S.isFunction(r)&&(t=e,e=r,r=!1);var i=e?S.map(n,e,t):n,o=[],a=[];return k(i,function(e,t){(r?t&&a[a.length-1]===e:S.contains(a,e))||(a.push(e),o.push(n[t]))}),o},S.union=function(){return S.uniq(u.apply(i,arguments))},S.intersection=function(e){var n=s.call(arguments,1);return S.filter(S.uniq(e),function(t){return S.every(n,function(e){return 0<=S.indexOf(e,t)})})},S.difference=function(e){var t=u.apply(i,s.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=s.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t),r=0;r<t;r++)n[r]=S.pluck(e,""+r);return n},S.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return e[r=S.sortedIndex(e,t)]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(g&&e.indexOf===g)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},S.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);i<r;)o[i++]=e,e+=n;return o},S.bind=function(e,t){if(e.bind===_&&_)return _.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},S.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},S.bindAll=function(t){var e=s.call(arguments,1);return 0===e.length&&(e=S.functions(t)),k(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,n){var r={};return n||(n=S.identity),function(){var e=n.apply(this,arguments);return S.has(r,e)?r[e]:r[e]=t.apply(this,arguments)}},S.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(s.call(arguments,1)))},S.throttle=function(n,r){var i,o,a,s,u=0,c=function(){u=new Date,a=null,s=n.apply(i,o)};return function(){var e=new Date,t=r-(e-u);return i=this,o=arguments,t<=0?(clearTimeout(a),a=null,u=e,s=n.apply(i,o)):a||(a=setTimeout(c,t)),s}},S.debounce=function(r,i,o){var a,s;return function(){var e=this,t=arguments,n=o&&!a;return clearTimeout(a),a=setTimeout(function(){a=null,o||(s=r.apply(e,t))},i),n&&(s=r.apply(e,t)),s}},S.once=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}},S.wrap=function(t,n){return function(){var e=[t];return o.apply(e,arguments),n.apply(this,e)}},S.compose=function(){var n=arguments;return function(){for(var e=arguments,t=n.length-1;0<=t;t--)e=[n[t].apply(this,e)];return e[0]}},S.after=function(e,t){return e<=0?t():function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t},S.values=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push(e[n]);return t},S.pairs=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push([n,e[n]]);return t},S.invert=function(e){var t={};for(var n in e)S.has(e,n)&&(t[e[n]]=n);return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(n){return k(s.call(arguments,1),function(e){if(e)for(var t in e)n[t]=e[t]}),n},S.pick=function(t){var n={},e=u.apply(i,s.call(arguments,1));return k(e,function(e){e in t&&(n[e]=t[e])}),n},S.omit=function(e){var t={},n=u.apply(i,s.call(arguments,1));for(var r in e)S.contains(n,r)||(t[r]=e[r]);return t},S.defaults=function(n){return k(s.call(arguments,1),function(e){if(e)for(var t in e)null==n[t]&&(n[t]=e[t])}),n},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var T=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==i){if(s=(a=e.length)==t.length)for(;a--&&(s=T(e[a],t[a],n,r)););}else{var u=e.constructor,c=t.constructor;if(u!==c&&!(S.isFunction(u)&&u instanceof u&&S.isFunction(c)&&c instanceof c))return!1;for(var l in e)if(S.has(e,l)&&(a++,!(s=S.has(t,l)&&T(e[l],t[l],n,r))))break;if(s){for(l in t)if(S.has(t,l)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};S.isEqual=function(e,t){return T(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=w||function(e){return"[object Array]"==f.call(e)},S.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(e){return"function"==typeof e}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==f.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return c.call(e,t)},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=Array(e),i=0;i<e;i++)r[i]=t.call(n,i);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=S.invert(N.escape);var R={escape:new RegExp("["+S.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(N.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(e){return null==e?"":(""+e).replace(R[t],function(e){return N[t][e]})}}),S.result=function(e,t){if(null==e)return null;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(n){k(S.functions(n),function(e){var t=S[e]=n[e];S.prototype[e]=function(){var e=[this._wrapped];return o.apply(e,arguments),P.call(this,t.apply(S,e))}})};var j=0;S.uniqueId=function(e){var t=++j+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(o,e,t){var n;t=S.defaults({},t,S.templateSettings);var r=new RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),a=0,s="__p+='";o.replace(r,function(e,t,n,r,i){return s+=o.slice(a,i).replace(B,function(e){return"\\"+q[e]}),t&&(s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),a=i+e.length,e}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}if(e)return n(e,S);var i=function(e){return n.call(this,e,S)};return i.source="function("+(t.variable||"obj")+"){\n"+s+"}",i},S.chain=function(e){return S(e).chain()};var P=function(e){return this._chain?S(e).chain():e};S.mixin(S),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=i[t];S.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],P.call(this,e)}}),k(["concat","join","slice"],function(e){var t=i[e];S.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}]},{},[7])(7)}),function(t,n){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(exports=module.exports=n(t,exports)):"function"==typeof define&&define.amd?define(["exports"],function(e){t.Lockr=n(t,e)}):t.Lockr=n(t,{})}(this,function(e,s){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),s.prefix="",s._getPrefixedKey=function(e,t){return(t=t||{}).noPrefix?e:this.prefix+e},s.set=function(t,n,e){var r=this._getPrefixedKey(t,e);try{localStorage.setItem(r,JSON.stringify({data:n}))}catch(e){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+n+"}' pair, because the localStorage is full.")}},s.get=function(t,e,n){var r,i=this._getPrefixedKey(t,n);try{r=JSON.parse(localStorage.getItem(i))}catch(e){try{r=localStorage[i]?JSON.parse('{"data":"'+localStorage.getItem(i)+'"}'):null}catch(e){console&&console.warn("Lockr could not load the item with key "+t)}}return null===r?e:void 0!==r.data?r.data:e},s.sadd=function(t,n,e){var r,i=this._getPrefixedKey(t,e),o=s.smembers(t);if(-1<o.indexOf(n))return null;try{o.push(n),r=JSON.stringify({data:o}),localStorage.setItem(i,r)}catch(e){console.log(e),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},s.smembers=function(e,t){var n,r=this._getPrefixedKey(e,t);try{n=JSON.parse(localStorage.getItem(r))}catch(e){n=null}return null===n?[]:n.data||[]},s.sismember=function(e,t,n){return this._getPrefixedKey(e,n),-1<s.smembers(e).indexOf(t)},s.getAll=function(){return Object.keys(localStorage).map(function(e){return s.get(e)})},s.srem=function(t,n,e){var r,i,o=this._getPrefixedKey(t,e),a=s.smembers(t,n);-1<(i=a.indexOf(n))&&a.splice(i,1),r=JSON.stringify({data:a});try{localStorage.setItem(o,r)}catch(e){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},s.rm=function(e){localStorage.removeItem(e)},s.flush=function(){localStorage.clear()},s});var LZString=function(){var m=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(e){return o(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return m(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var t=new Array(e.length/2),n=0,r=t.length;n<r;n++)t[n]=256*e[2*n]+e[2*n+1];var i=[];return t.forEach(function(e){i.push(m(e))}),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(e){return o(r,t.charAt(e))}))},compress:function(e){return a._compress(e,16,function(e){return m(e)})},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",c="",l="",f=2,p=3,h=2,d=[],v=0,y=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=p++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,y==t-1?(y=0,d.push(n(v)),v=0):y++;for(i=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1}else{for(i=1,r=0;r<h;r++)v=v<<1|i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1;0==--f&&(f=Math.pow(2,h),h++),a[c]=p++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,y==t-1?(y=0,d.push(n(v)),v=0):y++;for(i=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1}else{for(i=1,r=0;r<h;r++)v=v<<1|i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(i=2,r=0;r<h;r++)v=v<<1|1&i,y==t-1?(y=0,d.push(n(v)),v=0):y++,i>>=1;for(;;){if(v<<=1,y==t-1){d.push(n(v));break}y++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){var r,i,o,a,s,u,c,l=[],f=4,p=4,h=3,d="",v=[],y={val:n(0),position:t,index:1};for(r=0;r<3;r+=1)l[r]=r;for(o=0,s=Math.pow(2,2),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;switch(o){case 0:for(o=0,s=Math.pow(2,8),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;c=m(o);break;case 1:for(o=0,s=Math.pow(2,16),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;c=m(o);break;case 2:return""}for(i=l[3]=c,v.push(c);;){if(y.index>e)return"";for(o=0,s=Math.pow(2,h),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;switch(c=o){case 0:for(o=0,s=Math.pow(2,8),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;l[p++]=m(o),c=p-1,f--;break;case 1:for(o=0,s=Math.pow(2,16),u=1;u!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=t,y.val=n(y.index++)),o|=(0<a?1:0)*u,u<<=1;l[p++]=m(o),c=p-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,h),h++),l[c])d=l[c];else{if(c!==p)return null;d=i+i.charAt(0)}v.push(d),l[p++]=i+d.charAt(0),i=d,0==--f&&(f=Math.pow(2,h),h++)}}};return a}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(){"use strict";var d={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function v(e){return function(e,t){var n,r,i,o,a,s,u,c,l,f=1,p=e.length,h="";for(r=0;r<p;r++)if("string"==typeof e[r])h+=e[r];else if(Array.isArray(e[r])){if((o=e[r])[2])for(n=t[f],i=0;i<o[2].length;i++){if(!n.hasOwnProperty(o[2][i]))throw new Error(v('[sprintf] property "%s" does not exist',o[2][i]));n=n[o[2][i]]}else n=o[1]?t[o[1]]:t[f++];if(d.not_type.test(o[8])&&d.not_primitive.test(o[8])&&n instanceof Function&&(n=n()),d.numeric_arg.test(o[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(v("[sprintf] expecting number but found %T",n));switch(d.number.test(o[8])&&(c=0<=n),o[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?parseFloat(n).toExponential(o[7]):parseFloat(n).toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?String(Number(n.toPrecision(o[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o[7]?n.substring(0,o[7]):n;break;case"t":n=String(!!n),n=o[7]?n.substring(0,o[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o[7]?n.substring(0,o[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o[7]?n.substring(0,o[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}d.json.test(o[8])?h+=n:(!d.number.test(o[8])||c&&!o[3]?l="":(l=c?"+":"-",n=n.toString().replace(d.sign,"")),s=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",u=o[6]-(l+n).length,a=o[6]&&0<u?s.repeat(u):"",h+=o[5]?l+n+a:"0"===s?l+a+n:a+l+n)}return h}(function(e){if(u[e])return u[e];var t,n=e,r=[],i=0;for(;n;){if(null!==(t=d.text.exec(n)))r.push(t[0]);else if(null!==(t=d.modulo.exec(n)))r.push("%");else{if(null===(t=d.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var o=[],a=t[2],s=[];if(null===(s=d.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=d.key_access.exec(a)))o.push(s[1]);else{if(null===(s=d.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}t[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(t)}n=n.substring(t[0].length)}return u[e]=r}(e),arguments)}function e(e,t){return v.apply(null,[e].concat(t||[]))}var u=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=v,exports.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=v,window.vsprintf=e,"function"==typeof define&&define.amd&&define(function(){return{sprintf:v,vsprintf:e}}))}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PointerEventsPolyfill=t()}(this,function(){"use strict";function i(e,t){t=t||Object.create(null);var n=document.createEvent("Event");n.initEvent(e,t.bubbles||!1,t.cancelable||!1);for(var r,i=2;i<c.length;i++)n[r=c[i]]=t[r]||l[i];n.buttons=t.buttons||0;var o;return o=t.pressure&&n.buttons?t.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=t.pointerId||0,n.width=t.width||0,n.height=t.height||0,n.pressure=o,n.tiltX=t.tiltX||0,n.tiltY=t.tiltY||0,n.twist=t.twist||0,n.tangentialPressure=t.tangentialPressure||0,n.pointerType=t.pointerType||"",n.hwTimestamp=t.hwTimestamp||0,n.isPrimary=t.isPrimary||!1,n}function e(){this.array=[],this.size=0}function t(e,t,n,r){this.addCallback=e.bind(r),this.removeCallback=t.bind(r),this.changedCallback=n.bind(r),_&&(this.observer=new _(this.mutationWatcher.bind(this)))}function n(e){return"body /shadow-deep/ "+r(e)}function r(e){return'[touch-action="'+e+'"]'}function o(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}function a(e){if(!y.pointermap.has(e)){var t=new Error("InvalidPointerId");throw t.name="InvalidPointerId",t}}function s(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function u(e){return 0!==y.pointermap.get(e).buttons}var c=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],l=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],f=window.Map&&window.Map.prototype.forEach?Map:e,p=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],h=[!(e.prototype={set:function(e,t){return void 0===t?this.delete(e):(this.has(e)||this.size++,void(this.array[e]=t))},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(n,r){return this.array.forEach(function(e,t){n.call(r,e,t,this)},this)}}),!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],d={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},v="undefined"!=typeof SVGElementInstance,y={pointermap:new f,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,r=n.events;r&&(r.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var n=new i(e,t);return t.preventDefault&&(n.preventDefault=t.preventDefault),n._target=n._target||t.target,n},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),r=0;r<p.length;r++)n[t=p[r]]=e[t]||h[r],!v||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in d?void 0:t:e._target},propagate:function(t,n,e){for(var r=t.target,i=[];r!==document&&!r.contains(t.relatedTarget);)if(i.push(r),!(r=r.parentNode))return;e&&i.reverse(),i.forEach(function(e){t.target=e,n.call(this,t)},this)},setCapture:function(e,t,n){this.captureInfo[e]&&this.releaseCapture(e,n),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,n),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var r=new i("gotpointercapture");r.pointerId=e,r._target=t,n||this.asyncDispatchEvent(r)},releaseCapture:function(e,t){var n=this.captureInfo[e];if(n){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var r=new i("lostpointercapture");r.pointerId=e,r._target=n,t||this.asyncDispatchEvent(r)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};y.boundHandler=y.eventHandler.bind(y);var m={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var r,i,o=e.elementFromPoint(t,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(t,n)){var a=this.targetingShadow(r);return this.searchRoot(a,t,n)||r}i=this.olderShadow(i)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,r=this.owner(e.target);return r.elementFromPoint(t,n)||(r=document),this.searchRoot(r,t,n)}},g=Array.prototype.forEach.call.bind(Array.prototype.forEach),b=Array.prototype.map.call.bind(Array.prototype.map),w=Array.prototype.slice.call.bind(Array.prototype.slice),x=Array.prototype.filter.call.bind(Array.prototype.filter),_=window.MutationObserver||window.WebKitMutationObserver,S={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};t.prototype={watchSubtree:function(e){this.observer&&m.canTarget(e)&&this.observer.observe(e,S)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){g(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(w(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=b(e,this.findElements,this);return t.push(x(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var k=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],C="",A=window.PointerEvent||window.MSPointerEvent,D=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=y.pointermap,I=[1,4,2,8,16],T=!1;try{T=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var N,R={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){y.listen(e,this.events)},unregister:function(e){y.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,r=e.clientX,i=e.clientY,o=0,a=n.length;o<a&&(t=n[o]);o++){var s=Math.abs(r-t.x),u=Math.abs(i-t.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(e){var t=y.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=E.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),n=this.prepareEvent(e);T||(n.buttons=I[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),E.set(this.POINTER_ID,e),t&&0!==t.buttons?y.move(n):y.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);T||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),y.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),n=this.prepareEvent(e);if(!T){var r=I[n.button];n.buttons=t?t.buttons&~r:0,e.buttons=n.buttons}E.set(this.POINTER_ID,e),n.buttons&=~I[n.button],0===n.buttons?y.up(n):y.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);T||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),y.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);T||this.prepareButtonsForMove(t,e),t.button=-1,y.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);y.cancel(t),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},j=y.captureInfo,O=m.findTarget.bind(m),q=m.allShadows.bind(m),B=y.pointermap,P="touch-action",L={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){N.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute(P),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,y.listen(e,this.events),q(e).forEach(function(e){e._scrollType=n,y.listen(e,this.events)},this))},elementRemoved:function(e){e._scrollType=void 0,y.unlisten(e,this.events),q(e).forEach(function(e){e._scrollType=void 0,y.unlisten(e,this.events)},this)},elementChanged:function(e,t){var n=e.getAttribute(P),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(t);r&&i?(e._scrollType=r,q(e).forEach(function(e){e._scrollType=r},this)):i?this.elementRemoved(e):r&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===B.size||1===B.size&&B.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=y.cloneEvent(e),r=n.pointerId=e.identifier+2;n.target=j[r]||O(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=2*(e.radiusX||e.webkitRadiusX||0),n.height=2*(e.radiusY||e.webkitRadiusY||0),n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var r,i=0;i<n.length;i++)r=n[i],t.call(this,this.touchToPointer(r))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var r=e.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]);t=Math.abs(r["client"+o]-this.firstXY[o])<=a}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,r=0,i=e.length;r<i&&(n=e[r]);r++)if(n.identifier===t)return!0},vacuumTouches:function(e){var r=e.touches;if(B.size>=r.length){var i=[];B.forEach(function(e,t){if(1!==t&&!this.findTouch(r,t-2)){var n=e.out;i.push(n)}},this),i.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){B.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),y.enterOver(e),y.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=B.get(t.pointerId);if(n){var r=n.out,i=n.outTarget;y.move(t),r&&i!==t.target&&(r.relatedTarget=t.target,t.relatedTarget=i,r.target=i,t.target?(y.leaveOut(r),y.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(y.up(e),y.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){y.cancel(e),y.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){B.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=R.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};t.push(r);var i=function(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}.bind(null,t,r);setTimeout(i,2500)}}};N=new t(L.elementAdded,L.elementRemoved,L.elementChanged,L);var M,F,$,H=y.pointermap,z=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,K={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){y.listen(e,this.events)},unregister:function(e){y.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return z&&((t=y.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){H.delete(e)},MSPointerDown:function(e){H.set(e.pointerId,e);var t=this.prepareEvent(e);y.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);y.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);y.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);y.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);y.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);y.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=y.makeEvent("lostpointercapture",e);y.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=y.makeEvent("gotpointercapture",e);y.dispatchEvent(t)}};return window.navigator.msPointerEnabled?(M=function(e){a(e),s(this),u(e)&&(y.setCapture(e,this,!0),this.msSetPointerCapture(e))},F=function(e){a(e),y.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(M=function(e){a(e),s(this),u(e)&&y.setCapture(e,this)},F=function(e){a(e),y.releaseCapture(e)}),$=function(e){return!!y.captureInfo[e]},function(){if(A){k.forEach(function(e){String(e)===e?(C+=r(e)+o(e)+"\n",D&&(C+=n(e)+o(e)+"\n")):(C+=e.selectors.map(r)+o(e.rule)+"\n",D&&(C+=e.selectors.map(n)+o(e.rule)+"\n"))});var e=document.createElement("style");e.textContent=C,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=i,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),y.registerSource("ms",K)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),y.registerSource("mouse",R),void 0!==window.ontouchstart&&y.registerSource("touch",L);y.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:M},releasePointerCapture:{value:F},hasPointerCapture:{value:$}}),{dispatcher:y,Installer:t,PointerEvent:i,PointerMap:f,targetFinding:m}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";function a(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(n.type)}}function f(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function o(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function r(e){return"boolean"==typeof R?T.resolve(R):(r=e,new T(function(n){var e=r.transaction(N,B),t=a([""]);e.objectStore(N).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1})).then(function(e){return R=e});var r}function s(e){var t=j[e.name],n={};n.promise=new T(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function c(e){var t=j[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function l(e,t){var n=j[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function i(i,o){return new T(function(e,t){if(j[i.name]=j[i.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},i.db){if(!o)return e(i.db);s(i),i.db.close()}var n=[i.name];o&&n.push(i.version);var r=I.open.apply(I,n);o&&(r.onupgradeneeded=function(e){var t=r.result;try{t.createObjectStore(i.storeName),e.oldVersion<=1&&t.createObjectStore(N)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+i.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+i.storeName+'" already exists.')}}),r.onerror=function(e){e.preventDefault(),t(r.error)},r.onsuccess=function(){e(r.result),c(i)}})}function h(e){return i(e,!1)}function d(e){return i(e,!0)}function v(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function y(e){return a([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function m(e){return e&&e.__local_forage_encoded_blob}function g(e){var t=this,n=t._initReady().then(function(){var e=j[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function b(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(0<r&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return T.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),d(e)}).then(function(){return function(n){s(n);for(var r=j[n.name],i=r.forages,e=0;e<i.length;e++){var t=i[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return n.db=null,h(n).then(function(e){return n.db=e,v(n)?d(n):e}).then(function(e){n.db=r.db=e;for(var t=0;t<i.length;t++)i[t]._dbInfo.db=e}).catch(function(e){throw l(n,e),e})}(e).then(function(){b(e,t,n,r-1)})}).catch(n);n(i)}}function w(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=L.indexOf(e[t]),r=L.indexOf(e[t+1]),i=L.indexOf(e[t+2]),o=L.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function x(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=L[n[t]>>2],r+=L[(3&n[t])<<4|n[t+1]>>4],r+=L[(15&n[t+1])<<2|n[t+2]>>6],r+=L[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function _(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function S(e,r,i,o,a,s){e.executeSql(i,o,a,function(e,n){n.code===n.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(e,t){t.rows.length?s(e,n):_(e,r,function(){e.executeSql(i,o,a,s)},s)},s):s(e,n)},s)}function k(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function C(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||0<localStorage.length}function A(t,n){t[n]=function(){var e=arguments;return t.ready().then(function(){return t[n].apply(t,e)})}}function D(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Y(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e("lie/polyfill");var T=Promise,N="local-forage-detect-blob-support",R=void 0,j={},O=Object.prototype.toString,q="readonly",B="readwrite",P={_driver:"asyncStorage",_initStorage:function(e){function t(){return T.resolve()}var r=this,i={db:null};if(e)for(var n in e)i[n]=e[n];var o=j[i.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},j[i.name]=o),o.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=g);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==r&&a.push(u._initReady().catch(t))}var c=o.forages.slice(0);return T.all(a).then(function(){return i.db=o.db,h(i)}).then(function(e){return i.db=e,v(i,r._defaultConfig.version)?d(i):e}).then(function(e){i.db=o.db=e,r._dbInfo=i;for(var t=0;t<c.length;t++){var n=c[t];n!==r&&(n._dbInfo.db=i.db,n._dbInfo.version=i.version)}})},_support:function(){try{if(!I)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(a,e){var s=this,t=new T(function(o,n){s.ready().then(function(){b(s._dbInfo,q,function(e,t){if(e)return n(e);try{var r=t.objectStore(s._dbInfo.storeName).openCursor(),i=1;r.onsuccess=function(){var e=r.result;if(e){var t=e.value;m(t)&&(t=y(t));var n=a(t,e.key,i++);void 0!==n?o(n):e.continue()}else o()},r.onerror=function(){n(r.error)}}catch(e){n(e)}})}).catch(n)});return f(t,e),t},getItem:function(o,e){var a=this;o=p(o);var t=new T(function(r,i){a.ready().then(function(){b(a._dbInfo,q,function(e,t){if(e)return i(e);try{var n=t.objectStore(a._dbInfo.storeName).get(o);n.onsuccess=function(){var e=n.result;void 0===e&&(e=null),m(e)&&(e=y(e)),r(e)},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},setItem:function(s,t,e){var u=this;s=p(s);var n=new T(function(o,a){var e;u.ready().then(function(){return e=u._dbInfo,"[object Blob]"===O.call(t)?r(e.db).then(function(e){return e?t:(r=t,new T(function(n,e){var t=new FileReader;t.onerror=e,t.onloadend=function(e){var t=btoa(e.target.result||"");n({__local_forage_encoded_blob:!0,data:t,type:r.type})},t.readAsBinaryString(r)}));var r}):t}).then(function(i){b(u._dbInfo,B,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName);null===i&&(i=void 0);var r=n.put(i,s);t.oncomplete=function(){void 0===i&&(i=null),o(i)},t.onabort=t.onerror=function(){var e=r.error?r.error:r.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)});return f(n,e),n},removeItem:function(o,e){var a=this;o=p(o);var t=new T(function(r,i){a.ready().then(function(){b(a._dbInfo,B,function(e,t){if(e)return i(e);try{var n=t.objectStore(a._dbInfo.storeName).delete(o);t.oncomplete=function(){r()},t.onerror=function(){i(n.error)},t.onabort=function(){var e=n.error?n.error:n.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},clear:function(e){var o=this,t=new T(function(r,i){o.ready().then(function(){b(o._dbInfo,B,function(e,t){if(e)return i(e);try{var n=t.objectStore(o._dbInfo.storeName).clear();t.oncomplete=function(){r()},t.onabort=t.onerror=function(){var e=n.error?n.error:n.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},length:function(e){var o=this,t=new T(function(r,i){o.ready().then(function(){b(o._dbInfo,q,function(e,t){if(e)return i(e);try{var n=t.objectStore(o._dbInfo.storeName).count();n.onsuccess=function(){r(n.result)},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},key:function(s,e){var u=this,t=new T(function(o,a){s<0?o(null):u.ready().then(function(){b(u._dbInfo,q,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName),r=!1,i=n.openCursor();i.onsuccess=function(){var e=i.result;e?0===s?o(e.key):r?o(e.key):(r=!0,e.advance(s)):o(null)},i.onerror=function(){a(i.error)}}catch(e){a(e)}})}).catch(a)});return f(t,e),t},keys:function(e){var a=this,t=new T(function(i,o){a.ready().then(function(){b(a._dbInfo,q,function(e,t){if(e)return o(e);try{var n=t.objectStore(a._dbInfo.storeName).openCursor(),r=[];n.onsuccess=function(){var e=n.result;e?(r.push(e.key),e.continue()):i(r)},n.onerror=function(){o(n.error)}}catch(e){o(e)}})}).catch(o)});return f(t,e),t},dropInstance:function(a,e){e=o.apply(this,arguments);var t,n=this.config();if((a="function"!=typeof a&&a||{}).name||(a.name=a.name||n.name,a.storeName=a.storeName||n.storeName),a.name){var r=a.name===n.name&&this._dbInfo.db?T.resolve(this._dbInfo.db):h(a).then(function(e){var t=j[a.name],n=t.forages;t.db=e;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=e;return e});t=a.storeName?r.then(function(e){if(e.objectStoreNames.contains(a.storeName)){var i=e.version+1;s(a);var r=j[a.name],o=r.forages;e.close();for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=null,n._dbInfo.version=i}return new T(function(t,n){var r=I.open(a.name,i);r.onerror=function(e){r.result.close(),n(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(a.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,c(n._dbInfo)}}).catch(function(e){throw(l(a,e)||T.resolve()).catch(function(){}),e})}}):r.then(function(e){s(a);var n=j[a.name],r=n.forages;e.close();for(var t=0;t<r.length;t++)r[t]._dbInfo.db=null;return new T(function(t,n){var r=I.deleteDatabase(a.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)c(r[t]._dbInfo)}).catch(function(e){throw(l(a,e)||T.resolve()).catch(function(){}),e})})}else t=T.reject("Invalid arguments");return f(t,e),t}},L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=/^~~local_forage_type~([^~]+)~/,F="__lfsc__:",$=F.length,H=$+"arbf".length,z=Object.prototype.toString,K={serialize:function(t,n){var e="";if(t&&(e=z.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===z.call(t.buffer))){var r,i=F;t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===e?i+="si08":"[object Uint8Array]"===e?i+="ui08":"[object Uint8ClampedArray]"===e?i+="uic8":"[object Int16Array]"===e?i+="si16":"[object Uint16Array]"===e?i+="ur16":"[object Int32Array]"===e?i+="si32":"[object Uint32Array]"===e?i+="ui32":"[object Float32Array]"===e?i+="fl32":"[object Float64Array]"===e?i+="fl64":n(new Error("Failed to get type for BinaryArray"))),n(i+x(r))}else if("[object Blob]"===e){var o=new FileReader;o.onload=function(){var e="~~local_forage_type~"+t.type+"~"+x(this.result);n(F+"blob"+e)},o.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),n(null,e)}},deserialize:function(e){if(e.substring(0,$)!==F)return JSON.parse(e);var t,n=e.substring(H),r=e.substring($,H);if("blob"===r&&M.test(n)){var i=n.match(M);t=i[1],n=n.substring(i[0].length)}var o=w(n);switch(r){case"arbf":return o;case"blob":return a([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:w,bufferToString:x},U={_driver:"webSQLStorage",_initStorage:function(e){var r=this,i={db:null};if(e)for(var t in e)i[t]="string"!=typeof e[t]?e[t].toString():e[t];var n=new T(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(t){return n(t)}i.db.transaction(function(e){_(e,i,function(){r._dbInfo=i,t()},function(e,t){n(t)})},n)});return i.serializer=K,n},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,n=new T(function(u,n){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){S(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var n=t.rows,r=n.length,i=0;i<r;i++){var o=n.item(i),a=o.value;if(a&&(a=s.serializer.deserialize(a)),void 0!==(a=c(a,o.key,i+1)))return void u(a)}u()},function(e,t){n(t)})})}).catch(n)});return f(n,e),n},getItem:function(t,e){var o=this;t=p(t);var n=new T(function(i,n){o.ready().then(function(){var r=o._dbInfo;r.db.transaction(function(e){S(e,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){var n=t.rows.length?t.rows.item(0).value:null;n&&(n=r.serializer.deserialize(n)),i(n)},function(e,t){n(t)})})}).catch(n)});return f(n,e),n},setItem:function(e,t,n){return function a(s,e,u,c){var l=this;s=p(s);var t=new T(function(i,o){l.ready().then(function(){void 0===e&&(e=null);var n=e,r=l._dbInfo;r.serializer.serialize(e,function(t,e){e?o(e):r.db.transaction(function(e){S(e,r,"INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[s,t],function(){i(n)},function(e,t){o(t)})},function(e){if(e.code===e.QUOTA_ERR){if(0<c)return void i(a.apply(l,[s,n,u,c-1]));o(e)}})})}).catch(o)});return f(t,u),t}.apply(this,[e,t,n,1])},removeItem:function(i,e){var o=this;i=p(i);var t=new T(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){S(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[i],function(){n()},function(e,t){r(t)})})}).catch(r)});return f(t,e),t},clear:function(e){var i=this,t=new T(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){S(e,t,"DELETE FROM "+t.storeName,[],function(){n()},function(e,t){r(t)})})}).catch(r)});return f(t,e),t},length:function(e){var i=this,t=new T(function(r,n){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){S(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){var n=t.rows.item(0).c;r(n)},function(e,t){n(t)})})}).catch(n)});return f(t,e),t},key:function(i,e){var o=this,t=new T(function(r,n){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){S(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[i+1],function(e,t){var n=t.rows.length?t.rows.item(0).key:null;r(n)},function(e,t){n(t)})})}).catch(n)});return f(t,e),t},keys:function(e){var r=this,t=new T(function(i,n){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(e){S(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).key);i(n)},function(e,t){n(t)})})}).catch(n)});return f(t,e),t},dropInstance:function(n,e){e=o.apply(this,arguments);var r=this.config();(n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName);var t,i=this;return f(t=n.name?new T(function(e){var t,o;t=n.name===r.name?i._dbInfo.db:openDatabase(n.name,"","",0),e(n.storeName?{db:t,storeNames:[n.storeName]}:(o=t,new T(function(i,n){o.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).name);i({db:o,storeNames:n})},function(e,t){n(t)})},function(e){n(e)})})))}).then(function(s){return new T(function(o,a){s.db.transaction(function(r){function e(t){return new T(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){n(t)})})}for(var t=[],n=0,i=s.storeNames.length;n<i;n++)t.push(e(s.storeNames[n]));T.all(t).then(function(){o()}).catch(function(e){a(e)})},function(e){a(e)})})}):T.reject("Invalid arguments"),e),t}},W={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=k(e,this._defaultConfig),C()?((this._dbInfo=t).serializer=K,T.resolve()):T.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,n=t.length,r=localStorage.length,i=1,o=0;o<r;o++){var a=localStorage.key(o);if(0===a.indexOf(t)){var s=localStorage.getItem(a);if(s&&(s=e.serializer.deserialize(s)),void 0!==(s=u(s,a.substring(n),i++)))return s}}});return f(t,e),t},getItem:function(n,e){var r=this;n=p(n);var t=r.ready().then(function(){var e=r._dbInfo,t=localStorage.getItem(e.keyPrefix+n);return t&&(t=e.serializer.deserialize(t)),t});return f(t,e),t},setItem:function(a,e,t){var s=this;a=p(a);var n=s.ready().then(function(){void 0===e&&(e=null);var o=e;return new T(function(n,r){var i=s._dbInfo;i.serializer.serialize(e,function(e,t){if(t)r(t);else try{localStorage.setItem(i.keyPrefix+a,e),n(o)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})});return f(n,t),n},removeItem:function(t,e){var n=this;t=p(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return f(r,e),r},clear:function(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}});return f(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return f(t,e),t},key:function(n,e){var r=this,t=r.ready().then(function(){var t,e=r._dbInfo;try{t=localStorage.key(n)}catch(e){t=null}return t&&(t=t.substring(e.keyPrefix.length)),t});return f(t,e),t},keys:function(e){var o=this,t=o.ready().then(function(){for(var e=o._dbInfo,t=localStorage.length,n=[],r=0;r<t;r++){var i=localStorage.key(r);0===i.indexOf(e.keyPrefix)&&n.push(i.substring(e.keyPrefix.length))}return n});return f(t,e),t},dropInstance:function(t,e){if(e=o.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return f(r=t.name?new T(function(e){e(t.storeName?k(t,i._defaultConfig):t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):T.reject("Invalid arguments"),e),r}},V=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},Y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},G={},X={},J={INDEXEDDB:P,WEBSQL:U,LOCALSTORAGE:W},Q=[J.INDEXEDDB._driver,J.WEBSQL._driver,J.LOCALSTORAGE._driver],Z=["dropInstance"],ee=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Z),te={description:"",driver:Q.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ne=new(function(){function i(e){for(var t in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),J)if(J.hasOwnProperty(t)){var n=J[t],r=n._driver;this[t]=r,G[r]||this.defineDriver(n)}this._defaultConfig=D({},te),this._config=D({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i.prototype.config=function(e){if("object"===(void 0===e?"undefined":E(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},i.prototype.defineDriver=function(c,e,t){var n=new T(function(t,n){try{var r=c._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver)return void n(e);for(var i=ee.concat("_initStorage"),o=0,a=i.length;o<a;o++){var s=i[o];if((!V(Z,s)||c[s])&&"function"!=typeof c[s])return void n(e)}!function(){for(var e=function(n){return function(){var e=new Error("Method "+n+" is not implemented by the current driver"),t=T.reject(e);return f(t,arguments[arguments.length-1]),t}},t=0,n=Z.length;t<n;t++){var r=Z[t];c[r]||(c[r]=e(r))}}();var u=function(e){G[r]&&console.info("Redefining LocalForage driver: "+r),G[r]=c,X[r]=e,t()};"_support"in c?c._support&&"function"==typeof c._support?c._support().then(u,n):u(!!c._support):u(!0)}catch(e){n(e)}});return u(n,e,t),n},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(e,t,n){var r=G[e]?T.resolve(G[e]):T.reject(new Error("Driver not found."));return u(r,t,n),r},i.prototype.getSerializer=function(e){var t=T.resolve(K);return u(t,e),t},i.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},i.prototype.setDriver=function(e,t,n){function o(){s._config.driver=s.driver()}function a(e){return s._extend(e),o(),s._ready=s._initStorage(s._config),s._ready}var s=this;Y(e)||(e=[e]);var r=this._getSupportedDrivers(e),i=null!==this._driverSet?this._driverSet.catch(function(){return T.resolve()}):T.resolve();return this._driverSet=i.then(function(){var e=r[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){var i;s._driver=e._driver,o(),s._wrapLibraryMethodsWithReady(),s._initDriver=(i=r,function(){var r=0;return function e(){for(;r<i.length;){var t=i[r];return r++,s._dbInfo=null,s._ready=null,s.getDriver(t).then(a).catch(e)}o();var n=new Error("No available storage method found.");return s._driverSet=T.reject(n),s._driverSet}()})})}).catch(function(){o();var e=new Error("No available storage method found.");return s._driverSet=T.reject(e),s._driverSet}),u(this._driverSet,t,n),this._driverSet},i.prototype.supports=function(e){return!!X[e]},i.prototype._extend=function(e){D(this,e)},i.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},i.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ee.length;e<t;e++)A(this,ee[e])},i.prototype.createInstance=function(e){return new i(e)},i}());t.exports=ne},{undefined:void 0}]},{},[1])(1)}),function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t,n){"use strict";var r=[275,276],i=[541,573],o=[].concat(r,i),a=[209,210,211,212],s=[149,591,150,151,152],u=[].concat(a,s),c=[82,88],l=[553,554],f=c.concat(l),p=[411,412],h=c.concat(p),d=[277],v=[594,599],y=[].concat(d,v),m=[380,529,381,536],g=[526,534,544,396,560].concat(m),b=[216,217],w=[547,146],x=b.concat(w),_=[207,208,390,391,230,231,232,233],S=[195,407],k=_.concat(S),C=[234,235,236,237],A=[437,147],D=C.concat(A),E=[238,239,240,241],I=[326,419],T=E.concat(I),N=[225,226,227,362,300,228,316,322,317,556,320,557,312,558,313,559,329,354,355,294,301],R=[566,567,568],j=N.concat(R),O=[542,563,564,543],q=[229],B=O.concat(q),P=[571,576,439,364],L=[].concat(P,[515,393,519,394]),M=[601,1496,440,360],F=[544,396,549,397,433,438,545,550],$=[561,681,596,692,562,689],H=[].concat(M,F,$),z=[516,395,147],K=[].concat(z);e.exports={BB_NagatoClassRemodel:r,BB_NagatoClass2ndRemodel:i,BB_NagatoClassRemodelAll:o,BB_KongouClassRemodel:a,BB_KongouClass2ndRemodel:s,BB_KongouClassRemodelAll:u,BB_IseClassRemodel:c,BB_IseClass2ndRemodel:l,BB_IseClassRemodelAll:f,BB_FusouClass2ndRemodel:p,BB_IseClassRemodel_PLUS_FusouClass2ndRemodel:h,BB_NelsonClassRemodel:[576],CV_AkagiClassRemodel:d,CV_AkagiClass2ndRemodel:v,CV_AkagiClassRemodelAll:y,CV_KagaClassRemodel:[278],CVE:g,CVE_TaiyouClassRemodelAll:m,CL_KumaClassRemodel:b,CL_KumaClass2ndRemodel:w,CL_KumaClassRemodelAll:x,CL_NagaraClass2ndRemodel:[488,487],Yuubari:[115,293],Yahagi:[139,307],Ooyodo:[183,321],Kashima:[465,356],DD_FubukiClass2ndRemodel:[426,420],DD_AyanamiClassRemodel:_,DD_AyanamiClass2ndRemodel:S,DD_AyanamiClassRemodelAll:k,DD_AkatsukiClassRemodel:C,DD_AkatsukiClass2ndRemodel:A,DD_AkatsukiClassRemodelAll:D,DD_HatsuharuClassRemodel:E,DD_HatsuharuClass2ndRemodel:I,DD_HatsuharuClassRemodelAll:T,DD_ShiratsuyuClass2ndRemodel:[497,145,498,144,469],DD_AsashioClass2ndRemodel:[463,468,199,489,490,198,464,470],DD_KagerouClassRemodel:N,DD_KagerouClassRemodelB:[557,558],DD_KagerouClass2ndRemodel:R,DD_KagerouClassRemodelAll:j,DD_YuugumoClass2ndRemodel:O,DD_YuugumoClass2ndRemodel_PLUS_ShimakazeRemodel:B,DD_ShimakazeRemodel:q,Kamikaze:[471,476],Harukaze:[473,363],Ushio:[16,233,407],Hibiki:[35,235,147],Ikazuchi:[36,236],Hatsushimo:[41,241,419],Shigure:[43,243,145],Yamakaze:[457,369],Yamagumo:[414,328],Kasumi:[49,253,464,470],Yukikaze:[20,228],Isokaze:[167,320,557],Hamakaze:[170,312,558],Maikaze:[122,294],Kishinami:[527,686],Asashimo:[425,344],Suzutsuki:[532,537],rn:L,rn_BB:P,usn:H,usn_BB:M,usn_CV:F,usn_DD:$,vmf:K,vmf_DD:z}},function(e,t,n){"use strict";var r=[80],i=[91],o=[112,117];e.exports={BB_Ise:2,BBV_Ise:6,BBVR_Ise:113,group_BB_Ise:[2,6,113],BB_Fusou:4,BBV_Fusou:11,group_BB_Fusou:[4,11],BB_Colorado:122,BB_Iowa:82,BB_QueenElizabeth:85,BB_Nelson:115,CV_Lexington:87,CVB_Lexington:105,CV_Essex:110,CV_ArkRoyal:101,CV_GrafZeppelin:80,CV_Aquila:91,group_CV_Navy_KM:r,group_CV_Navy_RM:i,CA_Furutaka:39,CA_Aoba:40,CL_Kuma:48,CL_Nagara:49,CL_Sendai:50,CL_Yuubari:51,CL_Agano:52,CL_Gotland:114,CL_Abruzzi:120,CLT_Kuma:54,CLV_Gotland:116,CT_Katori:55,DD_Kamikaze:84,DD_Special:[15,16,17],DD_Tokugata:[15,16,17],DD_Fubuki:15,DD_Ayanami:16,DD_Akatsuki:17,DD_Hatsuharu:18,DD_Shiratsuyu:19,DD_Shimakaze:24,DD_Akizuki:23,DD_J:107,DD_JohnCButler:112,DD_Fletcher:117,group_DD_Tokugata:[15,16,17],group_DD_Navy_USN:o,AV_Nisshin:118,group_Navy_USN:[].concat([122,82],[87,105,110],o),group_Navy_KM:[].concat(r),group_Navy_RN:[85,115,101,107],group_Navy_RM:[].concat(i,[120])}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.exports=r({},n(32),n(33),n(34))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ships[parseInt(e)]}},function(e,t,n){"use strict";var r={SmallCaliber:1,SmallCaliberHigh:2,SmallCaliberHA:2,SmallCaliberAA:3,SmallCaliberAAFD:3,MediumCaliber:4,LargeCaliber:5,SuperCaliber:6,SecondaryGun:7,SecondaryGunHigh:8,SecondaryGunHA:8,SecondaryGunAA:9,SecondaryGunAAFD:9,Type3Shell:10,APShell:11,Torpedo:12,SubmarineTorpedo:13,MidgetSubmarine:14,ReconSeaplane:15,ReconSeaplaneNight:16,SeaplaneBomber:17,CarrierFighter:18,TorpedoBomber:19,DiveBomber:20,CarrierRecon:21,Autogyro:22,AntiSubPatrol:23,SmallRadar:24,LargeRadar:25,DepthCharge:26,Sonar:27,LargeSonar:28,AAGun:29,AAGunConcentrated:30,AAGunCD:30,CDMG:30,AAFireDirector:31,AAFD:31,AviationPersonnel:36,SurfaceShipPersonnel:37,LandingCraft:38,Searchlight:39,SupplyContainer:41,CommandFacility:45,LargeFlyingBoat:45,SearchlightLarge:46,SuparRadar:47,CombatRation:48,CarrierRecon2:50,SeaplaneFighter:51,AmphibiousCraft:52,LandBasedAttacker:53,Interceptor:54,JetBomberFighter:55,JetBomberFighter2:56,TransportMaterial:57,SubmarineEquipment:58,LandBasedFighter:59,CarrierFighterNight:60,TorpedoBomberNight:61,LandBasedAntiSubPatrol:62,LandBasedRecon:63};r.MainGuns=[r.SmallCaliber,r.SmallCaliberHigh,r.SmallCaliberAA,r.MediumCaliber,r.LargeCaliber,r.SuperCaliber],r.MainCalibers=r.MainGuns,r.SmallCalibers=[r.SmallCaliber,r.SmallCaliberHigh,r.SmallCaliberAA],r.MediumCalibers=[r.MediumCaliber],r.LargeCalibers=[r.LargeCaliber,r.SuperCaliber],r.SecondaryGuns=[r.SecondaryGun,r.SecondaryGunHigh,r.SecondaryGunAA],r.HAMounts=[r.SmallCaliberHigh,r.SmallCaliberAA,r.SecondaryGunHigh,r.SecondaryGunAA],r.HAMountsAAFD=[r.SmallCaliberAA,r.SecondaryGunAA],r.AAShells=[r.Type3Shell],r.APShells=[r.APShell],r.Torpedos=[r.Torpedo,r.SubmarineTorpedo],r.Seaplanes=[r.ReconSeaplane,r.ReconSeaplaneNight,r.SeaplaneBomber,r.SeaplaneFighter],r.Fighters=[r.SeaplaneBomber,r.CarrierFighter,r.CarrierFighterNight,r.TorpedoBomber,r.TorpedoBomberNight,r.DiveBomber,r.SeaplaneFighter,r.LandBasedAttacker,r.Interceptor,r.JetBomberFighter,r.JetBomberFighter2,r.LandBasedFighter],r.Interceptors=[r.Interceptor,r.LandBasedFighter],r.Recons=[r.ReconSeaplane,r.ReconSeaplaneNight,r.CarrierRecon,r.CarrierRecon2,r.LargeFlyingBoat,r.LandBasedRecon],r.SeaplaneRecons=[r.ReconSeaplane,r.ReconSeaplaneNight],r.SeaplaneReconsAll=[r.ReconSeaplane,r.ReconSeaplaneNight,r.LargeFlyingBoat],r.SeaplaneBombers=[r.SeaplaneBomber,r.SeaplaneFighter],r.SeaplaneFighters=[r.SeaplaneFighter],r.CarrierFighters=[r.CarrierFighter,r.CarrierFighterNight],r.CarrierRecons=[r.CarrierRecon,r.CarrierRecon2],r.CarrierBased=[r.CarrierFighter,r.CarrierFighterNight,r.TorpedoBomber,r.TorpedoBomberNight,r.DiveBomber,r.CarrierRecon,r.CarrierRecon2,r.JetBomberFighter,r.JetBomberFighter2],r.LandBased=[r.LandBasedAttacker,r.Interceptor,r.JetBomberFighter,r.JetBomberFighter2,r.LandBasedFighter,r.LandBasedAntiSubPatrol,r.LandBasedRecon],r.TorpedoBombers=[r.TorpedoBomber,r.TorpedoBomberNight],r.DiveBombers=[r.DiveBomber],r.JetBomberFighters=[r.JetBomberFighter,r.JetBomberFighter2],r.Jets=[r.JetBomberFighter,r.JetBomberFighter2],r.Autogyros=[r.Autogyro],r.AntiSubPatrols=[r.AntiSubPatrol,r.LandBasedAntiSubPatrol],r.Aircrafts=[],[].concat(r.Seaplanes).concat(r.Recons).concat(r.CarrierBased).concat(r.Autogyros).concat(r.AntiSubPatrols).concat(r.LandBased).forEach(function(e){r.Aircrafts.indexOf(e)<0&&r.Aircrafts.push(e)}),r.Radars=[r.SmallRadar,r.LargeRadar,r.SuparRadar],r.SmallRadars=[r.SmallRadar],r.LargeRadars=[r.LargeRadar,r.SuparRadar],r.AntiSubmarines=[r.DepthCharge,r.Sonar,r.LargeSonar],r.DepthCharges=[r.DepthCharge],r.Sonars=[r.Sonar,r.LargeSonar],r.AAGuns=[r.AAGun,r.AAGunConcentrated],r.AAFireDirectors=[r.AAFireDirector],r.AAFDs=r.AAFireDirectors,r.Searchlights=[r.Searchlight,r.SearchlightLarge],r.AviationPersonnels=[r.AviationPersonnel],r.SurfaceShipPersonnels=[r.SurfaceShipPersonnel],r.LandingCrafts=[r.LandingCraft,r.AmphibiousCraft],r.AmphibiousCrafts=[r.AmphibiousCraft],r.SupplyContainers=[r.SupplyContainer],r.CombatRations=[r.CombatRation],e.exports=r},function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:(KC.db.equipments||KC.db.items||{})[parseInt(e)]}},function(e,t,n){"use strict";var r=n(3),i=n(8),o=i.ArrayOrItem,a=i.ArrayOrItemAll;e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===(e=r(e)))return!1;for(var n in t)if(void 0!==t[n]&&!s[n.toLowerCase()](e,t[n]))return!1;return!0};var s={isid:function(t,e){return o(e,function(e){return!isNaN(e)&&parseInt(e)===t.id})},isnotid:function(t,e){return a(e,function(e){return!isNaN(e)&&parseInt(e)!==t.id})},isname:function(t,e){return o(e,function(e){return t.isName(e)})},isnotname:function(t,e){return a(e,function(e){return!t.isName(e)})},istype:function(t,e){return o(e,function(e){return!isNaN(e)&&parseInt(e)===t.type})},isnottype:function(t,e){return a(e,function(e){return!isNaN(e)&&parseInt(e)!==t.type})},isbattleship:function(e,t){return this.istype(e,[8,6,20,7,18])===t},isbb:function(e,t){return this.isbattleship(e,t)},iscarrier:function(e,t){return this.istype(e,[11,10,9,30,32])===t},iscv:function(e,t){return this.iscarrier(e,t)},issubmarine:function(e,t){return this.istype(e,[14,13])===t},isss:function(e,t){return this.issubmarine(e,t)},isclass:function(t,e){return o(e,function(e){return!isNaN(e)&&parseInt(e)===t.class})},isnotclass:function(t,e){return a(e,function(e){return!isNaN(e)&&parseInt(e)!==t.class})},hasslot:function(e,t){return!!Array.isArray(e.slot)&&(Array.isArray(t)?isNaN(t[0])&&!isNaN(t[1])?e.slot.length<=parseInt(t[1]):!isNaN(t[0])&&isNaN(t[1])?e.slot.length>=parseInt(t[0]):!isNaN(t[0])&&!isNaN(t[1])&&e.slot.length>=parseInt(t[0])&&e.slot.length<=parseInt(t[1]):!isNaN(t)&&parseInt(t)===e.slot.length)},hasslotmin:function(e,t){return this.hasslot(e,[t,void 0])},hasslotmax:function(e,t){return this.hasslot(e,[void 0,t])},minlevel:function(e,t){return void 0===e.level||e.level>=t},canequip:function(e,t){return e.canEquip(t)}}},function(e,t,n){"use strict";var r=n(95),i=n(96);e.exports={ArrayOrItem:r,ArrayOrItemAll:i}},function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(6),p=n(4),r=n(8),o=r.ArrayOrItem,i=r.ArrayOrItemAll,h={isid:function(t,e){return o(e,function(e){return!isNaN(e)&&parseInt(e)===t.id})},isnotid:function(t,e){return i(e,function(e){return!isNaN(e)&&parseInt(e)!==t.id})},isname:function(t,e){return o(e,function(e){return t.isName(e)})},isnotname:function(t,e){return i(e,function(e){return!t.isName(e)})},isnameof:function(t,e){return o(e,function(e){return t.hasName(e)})},isnotnameof:function(t,e){return i(e,function(e){return!t.hasName(e)})},istype:function(r,e,i){return o(e,function(e){if(isNaN(e))return!1;if(parseInt(e)!==r.type)return!1;if("object"===(void 0===i?"undefined":l(i))&&i.hasStat){var t=!0;for(var n in i.hasStat)Array.isArray(i.hasStat[n])?(r.stat[n]<i.hasStat[n][0]&&(t=!1),r.stat[n]>i.hasStat[n][1]&&(t=!1)):r.stat[n]<i.hasStat[n]&&(t=!1);if(!t)return!1}return!0})},isnottype:function(t,e){return i(e,function(e){return!isNaN(e)&&parseInt(e)!==t.type})},isaaradar:function(e,t){return(this.istype(e,p.Radars)&&!isNaN(e.stat.aa)&&1<=e.stat.aa)===t},issurfaceradar:function(e,t){return(this.istype(e,p.Radars)&&!isNaN(e.stat.hit)&&3<=e.stat.hit)===t}};e.exports=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if("object"===(void 0===n?"undefined":l(n)))return e(t,0,0,n);if("object"===(void 0===r?"undefined":l(r)))return e(t,n,0,r);if(void 0===(t=f(t)))return!1;for(var o in i)if(void 0!==i[o]){var a=o.toLowerCase();if(["improve","improvement","star"].includes(a))return(parseInt(n||0)||0)>=parseInt(i[o]);if(h[a]){if(!h[a](t,i[o]))return!1}else if("is"===o.substr(0,2)){var s=o.substr(2);if("HAMountAAFD"===s)s="HAMountsAAFD";else if(s+"s"in p)s+="s";else if(!(s in p))return!1;var u="object"===l(i[o])&&!Array.isArray(i[o]),c=i[o]&&u?i[o]:void 0;if(!h[!0===i[o]||u?"istype":"isnottype"](t,p[s],c))return!1}}return!0}},function(e,t,b){"use strict";var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.KC=function(){var r=b(5),h=b(93),n=b(7),a=b(9),t=b(3),s=b(98),u=b(99),i=b(4),p={lang:"zh_cn",joint:"",maxShipLv:175,maxHqLv:120,db:{},path:{db:"/kcdb/",pics:{ships:"/kcpic/ships/"}},statSpeed:{5:"",10:"",15:"+",20:""},getStatSpeed:function(e){return this.statSpeed[parseInt(e)]},statRange:{1:"",2:"",3:"",4:""},getStatRange:function(e){return this.statRange[parseInt(e)]},getFolderGroup:function(e,t){if("undefined"!=typeof node&&node&&node.path){e="/"==e.substr(e.length-1)?e.substr(0,e-1):e,t=parseInt(t);for(var n=1;50*n<t;)n++;return e+"-"+n+"/"}return e},textRank:{1:"|",2:"||",3:"|||",4:"\\",5:"\\\\",6:"\\\\\\",7:""},check:{ship:n,equipment:a},planesPerSlotLBAS:{recon:4,attacker:18}},o=function(){function n(e){for(var t in k(this,n),e)this[t]=e[t]}return x(n,[{key:"getName",value:function(e){return e=e||p.lang,this.name?this.name[e]||this.name:null}},{key:"isName",value:function(e,t){if(!0===t&&(t=p.lang),t)return this.name[t]===e;for(var n in this.name)if("suffix"!==n&&this.name[n]===e)return!0;return!1}},{key:"hasName",value:function(e,t){if(!0===t&&(t=p.lang),t)return!!this.name[t].includes(e);for(var n in this.name)if("suffix"!==n&&this.name[n].includes(e))return!0;return!1}},{key:"isNameOf",value:function(){return this.hasName.apply(this,arguments)}},{key:"_name",get:function(){return this.getName()}}]),n}(),c=function(e){function t(e){return k(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return S(t,o),t}(),d=function(e){function n(e){k(this,n);var t=_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Object.defineProperty(t,"rankupgradable",{value:t.isRankUpgradable()}),t}return S(n,o),x(n,[{key:"getName",value:function(e,t){t=t||p.lang;var n=o.prototype.getName.call(this,t),r=e&&1==!e?e:"small";return e?n.replace(/([^^]+)/g,"<"+r+">($1)</"+r+">"):n}},{key:"getType",value:function(e){return e=e||p.lang,this.type?p.db.item_types[this.type].name[e]:null}},{key:"getIconId",value:function(){return Array.isArray(this.type_ingame)&&3<this.type_ingame.length?this.type_ingame[3]:p.db.item_types[this.type].icon}},{key:"getCaliber",value:function(){var e=this.getName(!1,"ja_jp");return parseFloat(e)}},{key:"getPower",value:function(){return this.stat[p.db.item_types[this.type].main_attribute||"fire"]}},{key:"isEquipableExSlot",value:function(){return this.equipable_exslot?this.equipable_exslot||!1:this.type&&p.db.item_types[this.type].equipable_exslot||!1}},{key:"isRankUpgradable",value:function(){return m.equipmentType.Aircrafts.includes(this.type)&&this.type!==m.equipmentType.Autogyro&&this.type!==m.equipmentType.AntiSubPatrol}},{key:"getStat",value:function(e,r){e=e.toLowerCase();var t=this.stat[e];if(!r||void 0===t||!Array.isArray(this.stat_bonus))return t;if(r&&Array.isArray(this.stat_bonus)){"object"!==(void 0===r?"undefined":w(r))&&(r=p.db.ships[r]);var i=r.id,o=void 0;if(this.stat_bonus.forEach(function(n){Array.isArray(n.ships)&&n.ships.some(function(e){if(e==i){for(var t in n.bonus)o||(o={}),o[t]=Math.max(n.bonus[t],o[t]||0);return!0}return!1}),Array.isArray(n.ship_classes)&&n.ship_classes.some(function(e){if(e==r.class){for(var t in n.bonus)o||(o={}),o[t]=Math.max(n.bonus[t],o[t]||0);return!0}return!1})}),o)return t+(o[e]||0)}return t}},{key:"getBonuses",value:function(){var o=this;return r.filter(function(i){if(i.equipment==o.id)return!0;if(void 0!==i.equipments&&"object"===w(i.ship)){if(Array.isArray(i.ship.isID)&&!i.ship.isID.every(function(e){return t(e).canEquip(o,!0)}))return!1;if("number"==typeof i.ship.isID&&!t(i.ship.isID).canEquip(o,!0))return!1;if(Array.isArray(i.ship.isType)&&!i.ship.isType.every(function(e){return u(e).equipable.includes(o.type)}))return!1;if("number"==typeof i.ship.isType&&!u(i.ship.isType).equipable.includes(o.type))return!1;if(Array.isArray(i.ship.isClass)&&!i.ship.isClass.every(function(e){return u(s(e).ship_type_id).equipable.includes(o.type)}))return!1;if("number"==typeof i.ship.isClass&&!u(s(i.ship.isClass).ship_type_id).equipable.includes(o.type))return!1}return Array.isArray(i.equipments)?i.equipments.some(function(e){return a(o,10,7,e)}):"object"===w(i.equipments)&&Object.keys(i.equipments).filter(function(e){return/^has/.test(e)}).some(function(e){return a(o,(t={},n=e.replace(/^has/,"is"),r=i.equipments[e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));var t,n,r})})}},{key:"_icon",get:function(){return"assets/images/itemicon/"+this.getIconId()+".png"}}]),n}(),v=function(e){function a(e){return k(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return S(a,o),x(a,[{key:"getName",value:function(e,t){e=e||"",t=t||p.lang;var n=this.getSuffix(t);return(this.name[t]||this.name.ja_jp)+(n?(!0===e?p.joint:e)+n:"")}},{key:"getNameNoSuffix",value:function(e){return e=e||p.lang,this.name[e]||this.name.ja_jp}},{key:"getSuffix",value:function(e){return e=e||p.lang,this.name.suffix&&(p.db.ship_namesuffix[this.name.suffix][e]||p.db.ship_namesuffix[this.name.suffix].ja_jp)||""}},{key:"getType",value:function(e){return e=e||p.lang,this.type?p.db.ship_types[this.type].name[e]||p.db.ship_types[this.type].name.ja_jp||"":null}},{key:"getSeriesData",value:function(){return this.series?p.db.ship_series[this.series].ships:[{id:this.id}]}},{key:"getPic",value:function(e,n){e=parseInt(e||0);for(var t=this.getSeriesData(),r=this.illust_version?"?version="+this.illust_version:"",i=function(e,t){return"undefined"!=typeof node&&node&&node.path&&p.path.pics.ships?node.path.join(p.getFolderGroup(p.path.pics.ships,e),e+"/"+t+"."+(n||"webp")):p.path.pics.ships?p.path.pics.ships+e+"/"+t+"."+(n||"png")+r:"/"+e+"/"+t+"."+(n||"png")+r},o=0;o<t.length;o++)if(t[o].id==this.id)switch(e){case 0:case 1:case 2:case 3:case 12:case 13:case 14:return i(this.id,e);default:return t[o].illust_delete?i(t[o-1].id,e):i(this.id,e)}}},{key:"getSpeed",value:function(){return p.statSpeed[parseInt(this.stat.speed)]}},{key:"getSpeedRule",value:function(){return this.speed_rule?this.speed_rule:this.class?p.db.ship_classes[this.class].speed_rule:null}},{key:"getRange",value:function(){return p.statRange[parseInt(this.stat.range)]}},{key:"getEquipmentTypes",value:function(e){var t=this.additional_disable_item_types||[],n=p.db.ship_types[this.type],r=(n.equipable||[]).concat(this.additional_item_types||[]);return Array.isArray(n.additional_item_types_by_slot)&&("number"==typeof e?Array.isArray(n.additional_item_types_by_slot[e])&&n.additional_item_types_by_slot[e].forEach(function(e){return r.push(e)}):!0===e&&n.additional_item_types_by_slot.forEach(function(e){e.forEach(function(e){return r.push(e)})})),r.filter(function(e){return t.indexOf(e)<0}).sort(function(e,t){return e-t})}},{key:"getAttribute",value:function(e,t){(t=t||1)>a.lvlMax&&(t=a.lvlMax);var n,r,i,o=void 0;switch(e){case"hp":return o=this.stat.hp,99<t&&(o=90<=this.stat.hp?this.stat.hp+9:70<=this.stat.hp?this.stat.hp+8:50<=this.stat.hp?this.stat.hp+7:40<=this.stat.hp?this.stat.hp+6:30<=this.stat.hp?this.stat.hp+5:this.stat.hp+4)>this.stat.hp_max&&(o=this.stat.hp_max),o;case"speed":return p.getStatSpeed(this.stat.speed);case"range":return p.getStatRange(this.stat.range);case"luck":return 99<t?this.stat.luck+3:this.stat.luck;case"fuel":case"ammo":return 99<t?Math.floor(.85*this.consum[e]):this.consum[e];case"aa":case"armor":case"fire":case"torpedo":return this.stat[e+"_max"]||this.stat[e];default:return n=t,r=this.stat[e],i=this.stat[e+"_max"],n=n||1,r=parseFloat(r),i=parseFloat(i)||r,r<0||i<0?-1:r==i?i:Math.floor(r+(i-r)*n/99)}}},{key:"getRel",value:function(e){if(e){if(!this.rels[e]&&this.remodel&&this.remodel.prev)for(var t=p.db.ships[this.remodel.prev];t;){if(t.rels&&t.rels[e])return t.rels[e];t=t.remodel&&t.remodel.prev?p.db.ships[t.remodel.prev]:null}return this.rels[e]}return this.rels}},{key:"getCV",value:function(e){var t=this.getRel("cv");if(t)return p.db.entities[t].getName(e||p.lang)}},{key:"getIllustrator",value:function(e){var t=this.getRel("illustrator");if(t)return p.db.entities[t].getName(e||p.lang)}},{key:"getMinLv",value:function(){var n=this,r=this._series,i=void 0;return r.some(function(e,t){return n.id==e.id&&(i=t?r[t-1].next_lvl:1),i}),i}},{key:"getNavy",value:function(){return this.navy?this.navy:this.class&&p.db.ship_classes[this.class].navy||"ijn"}},{key:"getCapability",value:function(e){return e?this.capabilities?this.capabilities[e]:void 0:this.capabilities||{}}},{key:"getStatExtraMax",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase()){case"hp":var n=this.getAttribute(e,t),r=this.stat.hp_max;return Math.max(0,Math.min(2,r-n));case"asw":return this.stat.asw?9:!!m.shipType.LightCruisers.concat(m.shipType.Destroyers).includes(this.type)&&9;default:return!1}}},{key:"canEquip",value:function(e,t){var n=this;if(Array.isArray(e))return e.every(function(e){return n.canEquip(e,t)});if("string"==typeof e){if(Array.isArray(i[e]))return i[e].some(function(e){return n.canEquip(e,t)});if("number"==typeof i[e])return this.canEquip(i[e],t);if(Array.isArray(i[e+"s"]))return i[e+"s"].some(function(e){return n.canEquip(e,t)})}return"object"===(void 0===e?"undefined":w(e))&&void 0!==e.type&&(e=e.type),!isNaN(e)&&this.getEquipmentTypes(t).includes(parseInt(e))}},{key:"getBonuses",value:function(){var t=this;return r.filter(function(e){return n(t,e.ship)})}},{key:"_type",get:function(){return this.getType()}},{key:"_series",get:function(){return this.getSeriesData()}},{key:"_pics",get:function(){for(var e=[],t=0;t<15;t++)e.push(this.getPic(t));return e}},{key:"_speed",get:function(){return this.getSpeed()}},{key:"_speedRule",get:function(){return this.getSpeedRule()}},{key:"_range",get:function(){return this.getRange()}},{key:"_cv",get:function(){return this.getCV()}},{key:"_illustrator",get:function(){return this.getIllustrator()}},{key:"_minLv",get:function(){return this.getMinLv()}},{key:"_navy",get:function(){return this.getNavy()}}]),a}();v.lvlMax=p.maxShipLv;var e=function(e){function t(e){return k(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return S(t,o),t}();p.dbLoad=function(n){return"string"==typeof n?p.dbLoad({type:n}):n.type||n.url?$.ajax({url:n.url||p.path.db+"/"+n.type+".json",dataType:"text",success:function(e){var t=[];n.beforeProcess&&(t=n.beforeProcess(e)),void 0===p.db[n.type]&&(p.db[n.type]={}),t.forEach(function(e){if(e){var t=JSON.parse(e);switch(n.type){case"ships":p.db[n.type][t.id]=new v(t);break;case"items":p.db[n.type][t.id]=new d(t);break;case"entities":p.db[n.type][t.id]=new c(t);break;default:p.db[n.type][t.id]=t}}}),n.success&&n.success(e)},complete:function(e,t){n.complete&&n.complete(e,t)}}):null};var l=function(e){return e instanceof v?e:p.db.ships?p.db.ships[e]:{}},f=function(e){return e instanceof d?e:p.db.equipments?p.db.equipments[e]:p.db.items[e]},y=function(e){var n=[];return e.forEach(function(e,t){n[4<=t?t+1:t]=e}),n[4]=0,n},m={equipmentType:i,shipType:{Carriers:[9,10,11,30,32],LightCruisers:[2,3,21,28],Destroyers:[1,19],Submarines:[13,14]},calcByShip:{},calcByFleet:{},calcByField:{},calc:{}},g=m.equipmentType;return g.isInterceptor=function(e){return(!(e=f(e)).type_ingame||47!=e.type_ingame[2])&&-1<g.Interceptors.indexOf(e.type)},m.starMultiper={SmallCalibers:{shelling:1,night:1},MediumCalibers:{shelling:1,night:1},LargeCalibers:{shelling:1.5,night:1},SecondaryGuns:{shelling:1,night:1,hit:1},APShells:{shelling:1,night:1},AAShells:{shelling:1,night:1},AAFireDirectors:{shelling:1,night:1},Searchlights:{shelling:1,night:1},AAGuns:{shelling:1,torpedo:1.2},Torpedos:{torpedo:1.2,night:1},DepthCharges:{shelling:.75,antisub:1},Sonars:{shelling:.75,antisub:1},SmallRadars:{los:1.25},LargeRadars:{los:1.4},Seaplanes:{},SeaplaneRecons:{los:1.2},SeaplaneFighters:{fighter:.2},SeaplaneBomber:{los:1.15},CarrierFighters:{fighter:.2},DiveBombers:{fighter:.25,night:1},CarrierRecons:{los:1.2},LandingCrafts:{shelling:1,night:1},Interceptors:{fighter:.2},_10:{shelling:["multiplication",.2],night:1},_66:{shelling:["multiplication",.2],night:1},_220:{shelling:["multiplication",.2],night:1},_275:{shelling:["multiplication",.2],night:1},_12:{shelling:["multiplication",.3],night:["multiplication",.3]},_234:{shelling:["multiplication",.3],night:["multiplication",.3]}},m.getStarMultiplier=function(e,t){if(!m.starMultiper._init){var n=function(t){g[t]&&g[t].forEach?g[t].forEach(function(e){m.starMultiper[e]=m.starMultiper[t]}):"number"==typeof g[t]&&(m.starMultiper[g[t]]=m.starMultiper[t])};for(var r in m.starMultiper)n(r);m.starMultiper._init=!0}var i=m.starMultiper[e]||{};return t?i[t]||0:i},m.getStarBonus=function(e,t,n){e=f(e);var r=Object.assign({},m.getStarMultiplier(e.type),m.starMultiper["_"+e.id])[t],i=void 0===r?0:r,o="sqrt";switch(Array.isArray(i)&&(o=i[0],i=i[1]),o){case"sqrt":return i*Math.sqrt(n);case"multiplication":case"multiple":return i*n}},m.getFighterPowerRankMultiper=function(e,t){e=f(e);var n=[],r={};n[0]=[0,9],n[1]=[10,24],n[2]=[25,39],n[3]=[40,54],n[4]=[55,69],n[5]=[70,84],n[6]=[85,99],n[7]=[100,120],r.CarrierFighter=[0,0,2,5,9,14,14,22],r.SeaplaneBomber=[0,0,1,1,1,3,3,6];var i=n[t],o=0;switch(e.type){case g.CarrierFighter:case g.CarrierFighterNight:case g.Interceptor:case g.SeaplaneFighter:case g.LandBasedFighter:o=r.CarrierFighter[t];break;case g.SeaplaneBomber:o=r.SeaplaneBomber[t]}return{min:Math.sqrt(i[0]/10)+o,max:Math.sqrt(i[1]/10)+o}},m.calculate=function(e,r,i,t,o,n){if(!e||!r)return 0;r instanceof v||(r=p.db.ships[r]);var a=0,s={main:0,secondary:0,torpedo:0,torpedoLateModel:0,seaplane:0,apshell:0,radar:0,radarAA:0,radarSurface:0,submarineEquipment:0,carrierFighterNight:0,torpedoBomberNight:0,aviationPersonnelNight:0,surfaceShipPersonnel:0},u=y(r.slot),c=0;i=i.map(function(e){return e?e instanceof d?e:p.db.equipments?p.db.equipments[e]:p.db.items[e]:null})||[],t=t||[],o=o||[],n=n||{},i.forEach(function(e){e&&(-1<g.MainGuns.indexOf(e.type)?s.main+=1:-1<g.SecondaryGuns.indexOf(e.type)?s.secondary+=1:-1<g.Torpedos.indexOf(e.type)?(s.torpedo+=1,-1<e.name.ja_jp.indexOf("")&&(s.torpedoLateModel+=1)):-1<g.Seaplanes.indexOf(e.type)?s.seaplane+=1:-1<g.APShells.indexOf(e.type)?s.apshell+=1:-1<g.Radars.indexOf(e.type)?(s.radar+=1,e.stat.aa&&(s.radarAA+=1),e.stat.hit&&3<=e.stat.hit&&(s.radarSurface+=1)):g.SubmarineEquipment==e.type?s.submarineEquipment+=1:-1<g.AviationPersonnels.indexOf(e.type)?-1<e.name.ja_jp.indexOf("")&&(s.aviationPersonnelNight+=1):-1<g.SurfaceShipPersonnels.indexOf(e.type)&&(s.surfaceShipPersonnel+=1),e.type_ingame&&(45===e.type_ingame[3]?s.carrierFighterNight+=1:46===e.type_ingame[3]&&(s.torpedoBomberNight+=1)))});var l=h(r,i,t,o);switch(e){case"fighterPower":return c=0,u.map(function(e,t){if(i[t]&&-1<g.Fighters.indexOf(i[t].type)&&e){if(c=Math.sqrt(e)*(i[t].getStat("aa",r)||0),g.CarrierFighters.includes(i[t].type))switch(o[t]){case 1:case"1":c+=1;break;case 2:case"2":c+=4;break;case 3:case"3":c+=6;break;case 4:case"4":c+=11;break;case 5:case"5":c+=16;break;case 6:case"6":c+=17;break;case 7:case"7":c+=25}else if(-1==g.Recons.indexOf(i[t].type)){var n=i[t].type==g.SeaplaneBomber?9:3;c+=1==o[t]?1:n/6*(o[t]-1)}a+=Math.floor(c)}}),a;case"fighterPower_v2":return m.calcByShip.fighterPower_v2(r,i,t,o);case"shelling":case"shellingDamage":return-1<m.shipType.Submarines.indexOf(r.type)?"-":(a=m.calcByShip.shellingPower(r,i,t,o,{},l))&&-1<a?Math.floor(a):"-";case"torpedo":case"torpedoDamage":return(a=m.calcByShip.torpedoPower(r,i,t,o,void 0,l))&&-1<a?Math.floor(a):"-";case"nightBattle":var f=m.calcByShip.nightPower(r,i,t,o,{},s,l);return f.damage<=0?"-":f.value;case"addHit":return u.map(function(e,t){i[t]&&(a+=i[t].getStat("hit",r)||0)}),0<=(a+=l.hit||0)?"+"+a:a;case"addArmor":return u.map(function(e,t){i[t]&&(a+=i[t].getStat("armor",r)||0)}),a+(l.armor||0);case"addEvasion":return u.map(function(e,t){i[t]&&(a+=i[t].getStat("evasion",r)||0)}),a+(l.evasion||0);case"losPower":return m.calcByShip.losPower(r,i,t,o,n);default:return m.calcByShip[e](r,i,t,o,n,l)}},m.shellingDamage=function(e,t,n,r){return this.calculate("shellingDamage",e,t,n,r)},m.torpedoDamage=function(e,t,n,r){return this.calculate("torpedoDamage",e,t,n,r)},m.fighterPower=function(e,t,n,r){return this.calculate("fighterPower",e,t,n,r)},m.fighterPower_v2=function(e,t,n,r){return this.calculate("fighterPower_v2",e,t,n,r)},m.nightBattle=function(e,t,n,r){return this.calculate("nightBattle",e,t,n,r)},m.addHit=function(e,t,n,r){return this.calculate("addHit",e,t,n,r)},m.addArmor=function(e,t,n,r){return this.calculate("addArmor",e,t,n,r)},m.addEvasion=function(e,t,n,r){return this.calculate("addEvasion",e,t,n,r)},m.losPower=function(e,t,n,r,i){return this.calculate("losPower",e,t,n,r,i)},m.calc.losPower=function(e){var s=["(Intercept)","DiveBombers","TorpedoBombers","CarrierRecons","SeaplaneRecons","SeaplaneBombers","SmallRadars","LargeRadars","Searchlights","statLos","hqLv"],u={"(Intercept)":0,DiveBombers:1.03745043134563,TorpedoBombers:1.3679056374142,CarrierRecons:1.65940512636315,SeaplaneRecons:2,SeaplaneBombers:1.77886368594467,SmallRadars:1.0045778494921,LargeRadars:.990738063979571,Searchlights:.906965144360512,statLos:1.6841895400986,hqLv:-.614246711531445},c={"(Intercept)":4.66445565766347,DiveBombers:.0965028505325845,TorpedoBombers:.108636184978525,CarrierRecons:.0976055279516298,SeaplaneRecons:.0866229392463539,SeaplaneBombers:.0917722496848294,SmallRadars:.0492773648320346,LargeRadars:.0491221486053861,Searchlights:.0658283797225724,statLos:.0781594211213618,hqLv:.0369222352426548},l={"(Intercept)":{"(Intercept)":1,DiveBombers:-.147020064768061,TorpedoBombers:-.379236131621529,CarrierRecons:-.572858669501918,SeaplaneRecons:-.733913857017495,SeaplaneBombers:-.642621825152428,SmallRadars:-.674829588068364,LargeRadars:-.707418111752863,Searchlights:-.502304601556193,statLos:-.737374218573832,hqLv:-.05071933950163},DiveBombers:{"(Intercept)":-.147020064768061,DiveBombers:1,TorpedoBombers:.288506347076736,CarrierRecons:.365820372770994,SeaplaneRecons:.425744409856409,SeaplaneBombers:.417783698791503,SmallRadars:.409046013184429,LargeRadars:.413855653833994,Searchlights:.308730607324667,statLos:.317984916914851,hqLv:-.386740224500626},TorpedoBombers:{"(Intercept)":-.379236131621529,DiveBombers:.288506347076736,TorpedoBombers:1,CarrierRecons:.482215071254241,SeaplaneRecons:.584455876852325,SeaplaneBombers:.558515133495825,SmallRadars:.547260012897553,LargeRadars:.560437619378443,Searchlights:.437934879351188,statLos:.533934507932748,hqLv:-.405349979885748},CarrierRecons:{"(Intercept)":-.572858669501918,DiveBombers:.365820372770994,TorpedoBombers:.482215071254241,CarrierRecons:1,SeaplaneRecons:.804494553748065,SeaplaneBombers:.75671307047535,SmallRadars:.748420581669228,LargeRadars:.767980338133817,Searchlights:.589651513349878,statLos:.743851348255527,hqLv:-.503544281376776},SeaplaneRecons:{"(Intercept)":-.733913857017495,DiveBombers:.425744409856409,TorpedoBombers:.584455876852325,CarrierRecons:.804494553748065,SeaplaneRecons:1,SeaplaneBombers:.932444440578382,SmallRadars:.923988080549326,LargeRadars:.94904944359066,Searchlights:.727912987329348,statLos:.944434077970518,hqLv:-.614921413821462},SeaplaneBombers:{"(Intercept)":-.642621825152428,DiveBombers:.417783698791503,TorpedoBombers:.558515133495825,CarrierRecons:.75671307047535,SeaplaneRecons:.932444440578382,SeaplaneBombers:1,SmallRadars:.864289865445084,LargeRadars:.886872388674911,Searchlights:.68310647756898,statLos:.88122333327317,hqLv:-.624797255805045},SmallRadars:{"(Intercept)":-.674829588068364,DiveBombers:.409046013184429,TorpedoBombers:.547260012897553,CarrierRecons:.748420581669228,SeaplaneRecons:.923988080549326,SeaplaneBombers:.864289865445084,SmallRadars:1,LargeRadars:.872011318623459,Searchlights:.671926570242336,statLos:.857213501657084,hqLv:-.560018086758868},LargeRadars:{"(Intercept)":-.707418111752863,DiveBombers:.413855653833994,TorpedoBombers:.560437619378443,CarrierRecons:.767980338133817,SeaplaneRecons:.94904944359066,SeaplaneBombers:.886872388674911,SmallRadars:.872011318623459,LargeRadars:1,Searchlights:.690102027588321,statLos:.883771367337743,hqLv:-.561336967269448},Searchlights:{"(Intercept)":-.502304601556193,DiveBombers:.308730607324667,TorpedoBombers:.437934879351188,CarrierRecons:.589651513349878,SeaplaneRecons:.727912987329348,SeaplaneBombers:.68310647756898,SmallRadars:.671926570242336,LargeRadars:.690102027588321,Searchlights:1,statLos:.723228553177704,hqLv:-.518427865593732},statLos:{"(Intercept)":-.737374218573832,DiveBombers:.317984916914851,TorpedoBombers:.533934507932748,CarrierRecons:.743851348255527,SeaplaneRecons:.944434077970518,SeaplaneBombers:.88122333327317,SmallRadars:.857213501657084,LargeRadars:.883771367337743,Searchlights:.723228553177704,statLos:1,hqLv:-.620804120587684},hqLv:{"(Intercept)":-.05071933950163,DiveBombers:-.386740224500626,TorpedoBombers:-.405349979885748,CarrierRecons:-.503544281376776,SeaplaneRecons:-.614921413821462,SeaplaneBombers:-.624797255805045,SmallRadars:-.560018086758868,LargeRadars:-.561336967269448,Searchlights:-.518427865593732,statLos:-.620804120587684,hqLv:1}},t={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:1,hqLv:1};for(var n in e)t[n]=e[n];return function(n){void 0===n["(Intercept)"]&&(n["(Intercept)"]=1),n.hqLv=5*Math.ceil(n.hqLv/5);var r={},i=0,o={},a=0;return s.forEach(function(e){var t=n[e]*u[e];r[e]=t,i+=t,o[e]=n[e]*c[e]}),s.forEach(function(t){s.forEach(function(e){a+=o[t]*o[e]*l[t][e]})}),{x_estimate:r,y_estimate:i,x_std_error:o,y_std_error:a}}(t)},m.calc.los33=function(e){if(e){var o=0,r=0,a={TorpedoBombers:.8,CarrierRecons:1,ReconSeaplane:1.2,ReconSeaplaneNight:1.2,SeaplaneBomber:1.1};return Object.defineProperty(a,"default",{value:.6,enumerable:!1,configurable:!1,writable:!1}),e.equipments.forEach(function(e){if(e.id){var t=f(e.id);if(t.stat.los){var n=a.default,r=e.star||0;for(var i in a)-1<(Array.isArray(g[i])?g[i]:[g[i]]).indexOf(t.type)&&(n=a[i]);o+=n*(t.stat.los+m.getStarBonus(t,"los",r))}}}),e.ships.forEach(function(e){var t=l(e.id),n=t.getAttribute("los",Math.max(e.lv||1,t.getMinLv()));r+=Math.sqrt(Math.max(n,1))}),o+r-Math.ceil(.4*e.hq)+2*(6-e.ships.length)}},m.calc.TP=function(e){var t=0,n=(e=e||{}).ship||{},r=e.equipment||{};for(var i in n){var o=0;switch(i){case 1:case"1":case 19:case"19":case"dd":o=5;break;case 2:case"2":case 28:case"28":case"cl":o=2;break;case 21:case"21":case"ct":o=6;break;case 5:case"5":case"cav":o=4;break;case 8:case"8":case 33:case"33":case"bbv":o=7;break;case 12:case"12":case 24:case"24":case"av":o=9.5;break;case 14:case"14":case"ssv":o=1;break;case 15:case"15":case"lha":o=12;break;case 29:case"29":case"ao":o=15;break;case 17:case"17":case"as":o=7}t+=o*(parseInt(n[i])||0)}for(var a in r){var s=0,u=parseInt(a),c=void 0;switch(u){case 145:case 150:s=1;break;case 75:s=5;break;case 68:case 193:case 166:s=8;break;case 167:s=2;break;default:switch((c=f(u)).type){case m.equipmentType.LandingCraft:-1<c.name.ja_jp.indexOf("")&&(s=8)}}t+=s*(parseInt(r[a])||0)}return t},m.calc.fighterPower=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};if(!e)return[0,0];e=e instanceof d?e:p.db.equipments?p.db.equipments[e]:p.db.items[e],t=t||0,n=n||0,r=r||0;var o=i.isFromField,a=[0,0];if(t&&(void 0!==o&&o||-1<g.Fighters.indexOf(e.type))){var s=((e.stat.aa||0)+(g.isInterceptor(e)?1.5*e.stat.evasion:0)+r*m.getStarMultiplier(e.type,"fighter"))*Math.sqrt(t),u=m.getFighterPowerRankMultiper(e,n),c=u.min,l=u.max;a[0]+=Math.floor(s+c),a[1]+=Math.floor(s+l)}return a},m.calc.fighterPowerAA=function(e,t,n,r){if(!e)return[0,0];e=f(e),n=n||0,r=r||0;var i=[0,0];if(t=t||0){var o=((e.stat.aa||0)+(g.isInterceptor(e)?e.stat.evasion:0)+(g.isInterceptor(e)?2*e.stat.hit:0)+r*m.getStarMultiplier(e.type,"fighter"))*Math.sqrt(t),a=m.getFighterPowerRankMultiper(e,n,{isAA:!0});i[0]+=Math.floor(o+a.min),i[1]+=Math.floor(o+a.max)}return i},m.calcByShip.shellingPower=function(r,i,o,e,a,t){a=a||{},t=t||h(r,i,o,e);var s=0,n=!1,u=y(r.slot);if(-1<m.shipType.Carriers.indexOf(r.type)?n=!0:[33].includes(r.type)||i.some(function(e){if(e&&!n&&-1<g.CarrierBased.indexOf(e.type))return n=!0}),n&&!a.isNight){var c=0,l=0;return u.map(function(e,t){if(i[t]){var n=i[t];s+=1.5*n.getStat("fire",r)||0,-1<g.TorpedoBombers.indexOf(n.type)&&(c+=n.getStat("torpedo",r)||0),l+=n.getStat("bomb",r)||0,-1<g.SecondaryGuns.indexOf(n.type)&&(s+=Math.sqrt(1.5*(o[t]||0)))}}),c||l?s+=Math.floor(1.5*(Math.floor(1.3*l)+c+r.stat.fire_max+(t.fire||0)))+50:-1}s=r.stat.fire_max||0;var f={CLMainGunNaval:0,CLMainGunTwin:0,ItalianCAMainGun:0};u.map(function(e,t){if(i[t]){var n=i[t];s+=n.getStat("fire",r)||0,-1<m.shipType.LightCruisers.indexOf(r.type)&&!n.name.ja_jp.includes("Bofors")&&(["14cm","15.2cm"].forEach(function(e){n.name.ja_jp.includes(e)&&(f.CLMainGunNaval+=1)}),["14cm","15.2cm"].forEach(function(e){n.name.ja_jp.includes(e)&&(f.CLMainGunTwin+=1)})),"rm"===r._navy&&n.name.ja_jp.includes("203mm/53")&&(f.ItalianCAMainGun+=1),o[t]&&!a.isNight&&(s+=m.getStarBonus(n,"shelling",o[t]))}});var p=0+2*Math.sqrt(f.CLMainGunTwin)+Math.sqrt(f.CLMainGunNaval)+Math.sqrt(f.ItalianCAMainGun)+(t.fire||0);return s+p},m.calcByShip.torpedoPower=function(r,i,o,e,a,t){a=a||{},t=t||h(r,i,o,e);var s=0,n=y(r.slot);return-1<m.shipType.Carriers.indexOf(r.type)&&!a.isNight?a.returnZero?0:-1:(s=(r.stat.torpedo_max||0)+(t.torpedo||0),n.map(function(e,t){if(i[t]){var n=i[t];s+=-1<g.TorpedoBombers.indexOf(n.type)&&!a.isNight?0:n.getStat("torpedo",r)||0,o[t]&&!a.isNight&&(s+=m.getStarBonus(n,"torpedo",o[t]))}}),s)},m.calcByShip.nightPower=function(r,i,o,e,t,n,a){t=t||{},a=a||h(r,i,o,e);var s={damage:0},u=0,c=y(r.slot);if((n.aviationPersonnelNight||r.getCapability("count_as_night_operation_aviation_personnel"))&&(1<=n.carrierFighterNight||1<=n.torpedoBomberNight))Object.assign(s,b(100)({ship:r,equipments:i,equipmentStars:o,equipmentRanks:e,bonus:a,count:n}));else if(r.getCapability("participate_night_battle_when_equip_swordfish"))s.damage+=r.stat.fire_max+(a.fire||0)+r.stat.torpedo_max+(a.torpedo||0),c.forEach(function(e,t){var n=i[t];i[t]&&-1<g.TorpedoBombers.indexOf(n.type)&&-1<n.name.ja_jp.indexOf("Swordfish")&&(s.damage+=n.getStat("fire",r)+n.getStat("torpedo",r))}),s.type="",s.damage=Math.floor(s.damage),s.hit=1;else{if(r.stat.fire+r.stat.torpedo<=0)return{damage:0};var l={};c.forEach(function(e,t){if(i[t]&&(o[t]&&(u+=m.getStarBonus(i[t],"night",o[t])),i[t])){var n=i[t];l[n.id]?l[n.id]++:l[n.id]=1}}),s.damage=m.calcByShip.shellingPower(r,i,o,e,{isNight:!0},a)+m.calcByShip.torpedoPower(r,i,o,e,{isNight:!0,returnZero:!0},a)+u+(a.nightExtra||0),-1<m.shipType.Submarines.indexOf(r.type)&&1<=n.torpedoLateModel&&1<=n.submarineEquipment?(s.type="CI",s.damage=Math.floor(1.75*s.damage),s.hit=2):-1<m.shipType.Submarines.indexOf(r.type)&&2<=n.torpedoLateModel?(s.type="CI",s.damage=Math.floor(1.6*s.damage),s.hit=2):2<=n.torpedo?(s.type="CI",s.damage=Math.floor(1.5*s.damage),s.hit=2):3<=n.main?(s.type="CI",s.damage=Math.floor(2*s.damage),s.hit=1):2==n.main&&1<=n.secondary?(s.type="CI",s.damage=Math.floor(1.75*s.damage),s.hit=1):-1<m.shipType.Destroyers.indexOf(r.type)&&1<=n.torpedo&&1<=n.radarSurface&&1<=n.surfaceShipPersonnel?(s.type="CI",s.damage=Math.floor(1.25*s.damage),s.hit=1):-1<m.shipType.Destroyers.indexOf(r.type)&&1<=n.torpedo&&1<=n.radarSurface&&1<=n.main?(s.type="CI",s.damage=l[267]?Math.floor(1.625*s.damage):Math.floor(1.3*s.damage),s.hit=1):1<=n.main&&1==n.torpedo?(s.type="CI",s.damage=Math.floor(1.3*s.damage),s.hit=2):2==n.main&&n.secondary<=0&&n.torpedo<=0||1==n.main&&1<=n.secondary&&n.torpedo<=0||0==n.main&&2<=n.secondary&&0<=n.torpedo?(s.type="",s.damage=Math.floor(1.2*s.damage),s.hit=2):(s.type="",s.damage=Math.floor(s.damage),s.hit=1)}var f=" ";if(s.isMax&&(f="  "),s.isMin&&(f="  "),s.value=""+s.type+f+s.damage,s.hit&&1<s.hit&&(s.value+=" x "+s.hit),Array.isArray(s.cis)&&s.cis.length)s.value+=" (CI"+f+s.cis.sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[0]+(e[1]&&1<e[1]?" x "+e[1]:"")}).join("  ")+")";else if(s.damage_ci){var p=s.hit_ci||s.hit||1;s.value+=" (CI"+f+s.damage_ci+")",p&&1<p&&(s.value+=" x "+p)}return s},m.calcByShip.fighterPower_v2=function(e,r,i,o){var a=[0,0];return y(e.slot).map(function(e,t){var n=m.calc.fighterPower(r[t],e,o[t]||0,i[t]||0);a[0]+=n[0],a[1]+=n[1]}),a},m.calcByShip.losPower=function(e,t,n,r,i){(i=i||{}).shipLv=i.shipLv||1,i.hqLv=i.hqLv||1,i.shipLv<0&&(i.shipLv=1),i.hqLv<0&&(i.hqLv=1);var o={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:Math.sqrt(e.getAttribute("los",i.shipLv)),hqLv:i.hqLv};return t.forEach(function(e){if(e)for(var t in o)g[t]&&g[t].push&&-1<g[t].indexOf(e.type)&&(o[t]+=e.stat.los)}),m.calc.losPower(o)},m.calcByShip.TP=function(e,t){if(!e||!t||!t.push)return 0;e=l(e);var n={ship:{},equipment:{}};return n.ship[e.type]=1,t.forEach(function(e){if(e){var t="number"==typeof e?e:f(e).id;n.equipment[t]||(n.equipment[t]=0),n.equipment[t]++}}),e.getCapability("count_as_landing_craft")&&(n.equipment[68]||(n.equipment[68]=0),n.equipment[68]++),m.calc.TP(n)},m.calcByShip.speed=function(e,t,n,r,i){if(!e)return"";if("object"===(void 0===n?"undefined":w(n))&&n.push)return m.calcByShip.speed(e,t,[],[],n);if("object"===(void 0===r?"undefined":w(r))&&r.push)return m.calcByShip.speed(e,t,n,[],r);e=l(e),t=t||[],i=i||{};var o=parseInt(e.stat.speed),a=function(e){return e=Math.min(20,e||o),i.returnNumber?e:p.statSpeed[e]},s={33:0,34:0,87:0},u=e._speedRule||"low-2",c=0;if(t.forEach(function(e){if(e){var t="number"==typeof e?e:f(e).id;void 0!==s[""+t]&&s[""+t]++}}),!s[33])return a();switch(u){case"low-1":c=s[34]&&!s[87]?.5:2<=s[34]&&s[87]?1.5:.3*Math.min(s[34],1)+.7*s[87];break;case"low-2":case"high-3":(s[34]||s[87])&&(c=Math.min(1,s[34]/3+.5*s[87]));break;case"low-3":case"high-4":(s[34]||s[87])&&(o+=5);break;case"high-1":c=.5*s[34]+1*s[87];break;case"high-2":c=.5*s[34]+.5*s[87];break;case"low-4":c=.5}return 0<c&&c<1?o+=5:1<=c&&c<1.5?o+=10:1.5<=c&&(o+=15),a()},m.calcByShip.fireRange=function(e,t,n,r,i,o){if(!e)return"-";t=t||[],i=i||{},o=o||h(e,t,n,r);var a=parseInt(e.stat.range);return t.forEach(function(e){e&&(a=Math.max(a,f(e).stat.range||0))}),isNaN(o.range)||(a+=parseInt(o.range)),p.statRange[Math.min(4,a)]},m.calcByFleet.los33=function(e,t){var o=[],a=[];return e.forEach(function(e){if(Array.isArray(e)){var t=e[0];if(t){var n=e[2],r=e[3],i=e[4];a.push({id:t,lv:e[1][0]}),n.forEach(function(e,t){o.push({id:e,star:r[t],rank:i[t]})})}}}),m.calc.los33({hq:t,equipments:o,ships:a})},m.calcByField.fighterPower=function(e){var a=[0,0],t=1,s=function(e){return t=Math.max(e,t)};return e.forEach(function(e){var t=f(e[0]||e.equipment||e.equipmentId),n=e[1]||e.star||0,r=e[2]||e.rank||0,i=e[3]||e.carry||0;i||(i=-1<m.equipmentType.Recons.indexOf(t.type)?p.planesPerSlotLBAS.recon:p.planesPerSlotLBAS.attacker);var o=m.calc.fighterPower(t,i,r,n,{isFromField:!0});if(a[0]+=o[0],a[1]+=o[1],312==t.id)s(1.18);else switch(t.type){case g.LandBasedRecon:s(1.15)}}),a[0]=a[0]*t,a[1]=a[1]*t,a},m.calcByField.fighterPowerAA=function(e){var a=[0,0],t=1;function s(e){return t=Math.max(e,t)}return e.forEach(function(e){var t=f(e[0]||e.equipment||e.equipmentId),n=e[1]||e.star||0,r=e[2]||e.rank||0,i=e[3]||e.carry||0;i||(i=-1<m.equipmentType.Recons.indexOf(t.type)?p.planesPerSlotLBAS.recon:p.planesPerSlotLBAS.attacker);var o=m.calc.fighterPowerAA(t,i,r,n,{isFromField:!0});switch(a[0]+=o[0],a[1]+=o[1],t.type){case g.CarrierRecon:case g.CarrierRecon2:t.stat.los<=7?s(1.2):9<=t.stat.los?s(1.3):s(1.25);break;case g.ReconSeaplane:case g.ReconSeaplaneNight:case g.LargeFlyingBoat:t.stat.los<=7?s(1.1):9<=t.stat.los?s(1.16):s(1.13);break;case g.LandBasedRecon:s(1.18)}}),a[0]=a[0]*t,a[1]=a[1]*t,a},m.getBonus=function(e,t,n,r,i){return h(e,t,n,r,i)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),i<=o)return-1;for(n=Math.max(0<=o?o:i-Math.abs(o),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1}),p.Entity=c,p.Equipment=d,p.Ship=v,p.Consumable=e,p.formula=m,p}()},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(12),a=[].concat(r(n(13)),r(n(14)),r(n(15)),r(n(16)),r(n(17)),r(n(18)),r(n(19)),r(n(20)),r(n(21)),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(35)),r(n(36)),r(n(37)),r(n(38)),r(n(39)),r(n(40)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50)),r(n(51)),r(n(52)),r(n(53)),r(n(54)),r(n(55)),r(n(56)),r(n(57)),r(n(58)),r(n(59)),r(n(60)),r(n(61)),r(n(62)),r(n(63)),r(n(64)),r(n(65)),r(n(66)),r(n(67)),r(n(68)),r(n(69)),r(n(70)),r(n(71)),r(n(72)),r(n(73)),r(n(74)),r(n(75)),r(n(76)),r(n(77)),r(n(79)),r(n(80)),r(n(81)),r(n(82)),r(n(83)),r(n(84)),r(n(85)),r(n(86)),r(n(87)),r(n(88)),r(n(89)),r(n(90)),r(n(91)),r(n(92))),s=a.filter(o);s.forEach(function(n,r){n.list.every(function(e){return!isNaN(e)})&&s.forEach(function(t,e){r===e||n.list.length>=t.list.length||!n.list.every(function(e){return t.list.includes(e)})||(t.bonusAccumulate||(t.bonusAccumulate=i({},t.bonus||{})),Object.keys(n.bonus).forEach(function(e){void 0===t.bonusAccumulate[e]&&(t.bonusAccumulate[e]=0),t.bonusAccumulate[e]+=n.bonus[e]}))})}),e.exports=a},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&("object"===r(e.equipments)||"object"===r(e.list))}},function(e,t,n){"use strict";e.exports=[{equipment:293,ship:{isClass:[92,94]},bonus:{fire:1,aa:1,evasion:2}},{equipment:293,ship:{isClass:[84,12]},bonus:{fire:2,aa:1,evasion:3}},{list:[293,"SurfaceRadar"],equipments:{hasID:[293],hasSurfaceRadar:!0},ship:{isClass:[92,94]},bonus:{fire:2,evasion:3,asw:1}},{list:[293,"SurfaceRadar"],equipments:{hasID:[293],hasSurfaceRadar:!0},ship:{isClass:[84,12]},bonus:{fire:2,torpedo:1,evasion:3}},{list:[293,174],equipments:[{isID:293},{isID:174}],ship:{isClass:[84,12]},bonus:{fire:2,torpedo:4}},{list:[293,174,174],equipments:[{isID:293},{isID:174},{isID:174}],ship:{isClass:[84,12]},bonus:{fire:1,torpedo:3}}]},function(e,t,n){"use strict";var r=n(0).CL_NagaraClass2ndRemodel;e.exports=[{equipment:229,ship:{isType:[31]},bonusImprove:{7:{fire:1,aa:1}}},{equipment:229,ship:{isClass:[84,12]},bonusImprove:{7:{fire:1,aa:1}}},{equipment:229,ship:{isID:[487]},bonusImprove:{7:{fire:2,aa:2}}},{equipment:229,ship:{isID:[488]},bonusImprove:{7:{fire:2,aa:3}}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isType:[31]},bonus:{fire:1,evasion:4}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isClass:[84,12]},bonus:{fire:2,evasion:3}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isID:r},bonus:{fire:3,evasion:2}}]},function(e,t,n){"use strict";var r=n(1),i=r.DD_Fubuki,o=r.DD_Ayanami,a=r.DD_Akatsuki;e.exports=[{equipment:297,ship:{isClass:[o,a]},bonus:{evasion:1}},{equipment:297,ship:{isClass:[i]},bonus:{evasion:2}}]},function(e,t,n){"use strict";var r=n(1).group_DD_Tokugata;e.exports=[{equipment:294,ship:{isClass:r},bonus:{fire:1}},{list:[294,"SurfaceRadar"],equipments:{hasID:[294],hasSurfaceRadar:!0},ship:{isClass:r},bonus:{fire:3,torpedo:1,evasion:2}},{list:[294,125],equipments:[{isID:294},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:3}},{list:[294,125,125],equipments:[{isID:294},{isID:125},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:2}},{list:[294,285],equipments:[{isID:294},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:4}},{list:[294,285,285],equipments:[{isID:294},{isID:285},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:2}}]},function(e,t,n){"use strict";var r=n(1).group_DD_Tokugata;e.exports=[{equipment:295,ship:{isClass:r},bonus:{fire:2,aa:2}},{list:[295,"SurfaceRadar"],equipments:{hasID:[295],hasSurfaceRadar:!0},ship:{isClass:r},bonus:{fire:3,torpedo:1,evasion:2}},{list:[295,"AARadar"],equipments:{hasID:[295],hasAARadar:!0},ship:{isClass:r},bonus:{aa:6}},{list:[295,125],equipments:[{isID:295},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:3}},{list:[295,125,125],equipments:[{isID:295},{isID:125},{isID:125}],ship:{isClass:r},bonus:{torpedo:2}},{list:[295,285],equipments:[{isID:295},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:4}},{list:[295,285,285],equipments:[{isID:295},{isID:285},{isID:285}],ship:{isClass:r},bonus:{torpedo:2}},{list:[295,125,285],equipments:[{isID:295},{isID:125},{isID:285}],ship:{isClass:r},bonus:{torpedo:-1}}]},function(e,t,n){"use strict";var r=n(0),i=r.DD_AyanamiClassRemodelAll,o=r.DD_AkatsukiClassRemodelAll,a=r.DD_HatsuharuClassRemodelAll;e.exports=[{equipment:63,ship:{isID:i.concat(o).concat(a)},bonus:{aa:1}},{equipment:63,ship:{isID:[242,497,498]},bonus:{evasion:1}},{equipment:63,ship:{isID:[145]},bonus:{fire:1}},{equipment:63,ship:{isID:[469]},bonus:{evasion:2}},{equipment:63,ship:{isID:[144]},bonus:{fire:1,torpedo:1,aa:1,evasion:2}}]},function(e,t,n){"use strict";var r=n(0).DD_ShiratsuyuClass2ndRemodel,i=n(1),o=i.DD_Ayanami,a=i.DD_Akatsuki,s=i.DD_Hatsuharu,u=i.DD_Shiratsuyu,c=[o,a,u],l=[o,a,s];e.exports=[{equipment:296,ship:{isClass:c,isNotID:r},bonus:{fire:1}},{equipment:296,ship:{isClass:[s]},bonus:{fire:1,evasion:1}},{equipment:296,ship:{isID:[497]},bonus:{fire:2,evasion:2}},{equipment:296,ship:{isID:[145]},bonus:{fire:2,aa:1,evasion:1}},{equipment:296,ship:{isID:[498]},bonus:{fire:1,aa:1,evasion:2}},{equipment:296,ship:{isID:[144]},bonus:{fire:2,torpedo:1,evasion:1}},{equipment:296,ship:{isID:[469]},bonus:{fire:1,evasion:2}},{list:[296,"SurfaceRadar"],equipments:{hasID:[296],hasSurfaceRadar:!0},ship:{isClass:l},bonus:{fire:1,torpedo:2,evasion:2}},{list:[296,"SurfaceRadar"],equipments:{hasID:[296],hasSurfaceRadar:!0},ship:{isClass:[u]},bonus:{fire:1,torpedo:3,evasion:2}},{list:[296,"AARadar"],equipments:{hasID:[296],hasAARadar:!0},ship:{isClass:l},bonus:{aa:5}},{list:[296,"AARadar"],equipments:{hasID:[296],hasAARadar:!0},ship:{isClass:[u]},bonus:{aa:6}},{list:[296,285],equipments:[{isID:296},{isID:285}],ship:{isClass:l},bonus:{fire:1,torpedo:3}},{list:[296,286],equipments:[{isID:296},{isID:286}],ship:{isClass:[u]},bonus:{fire:1,torpedo:3}}]},function(e,t,n){"use strict";var r=n(0).DD_KagerouClass2ndRemodel,i=[145,228,557],o=r.concat(i);e.exports=[{equipment:266,ship:{isClass:[19,20,21],isNotID:o},bonus:{fire:1}},{equipment:266,ship:{isID:i},bonus:{fire:1,evasion:1}},{equipment:266,ship:{isID:r},bonusCount:{1:{fire:2},2:{fire:5},3:{fire:6}}},{list:[266,"SurfaceRadar"],equipments:{hasID:[266],hasSurfaceRadar:!0},ship:{isClass:[19,20]},bonus:{fire:1,torpedo:3,evasion:1}},{list:[266,"SurfaceRadar"],equipments:{hasID:[266],hasSurfaceRadar:!0},ship:{isClass:[21]},bonus:{fire:2,torpedo:3,evasion:1}}]},function(e,t,n){"use strict";var r=n(0),i=r.DD_KagerouClass2ndRemodel,o=r.DD_YuugumoClass2ndRemodel,a=r.DD_ShimakazeRemodel;e.exports=[{equipment:267,ship:{isClass:[21],isNotID:i},bonus:{fire:1,evasion:1}},{equipment:267,ship:{isClass:[22,24],isNotID:o},bonus:{fire:2,evasion:1}},{equipment:267,ship:{isID:i},bonusCount:{1:{fire:2,evasion:1},2:{fire:3,evasion:2},3:{fire:4,evasion:3}}},{equipment:267,ship:{isID:o},bonus:{fire:3,evasion:1}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isID:a},bonus:{fire:1,torpedo:3,evasion:2}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isClass:[22],isNotID:o},bonus:{fire:2,torpedo:3,evasion:1}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isID:o},bonus:{fire:3,torpedo:4,evasion:3}}]},function(e,t,n){"use strict";var r=n(1).group_DD_Navy_USN;e.exports=[{equipment:313,ship:{isClass:r},bonus:{fire:2,aa:2,evasion:1,armor:1}}]},function(e,t,n){"use strict";var r=n(1).group_DD_Navy_USN;e.exports=[{equipment:308,ship:{isType:[1,19],isNotClass:r},bonus:{fire:1}},{equipment:308,ship:{isClass:r},bonus:{fire:2,aa:1,evasion:1}}]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=i.vmf_DD,a=i.Yuubari;e.exports=[{equipment:282,ship:{isID:[].concat(r(o),r(a))},bonus:{fire:2,armor:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.CL_Yuubari,o=r.CT_Katori,a=r.AV_Nisshin;e.exports=[{equipment:119,ship:{isClass:[i,o]},bonus:{fire:1}},{equipment:119,ship:{isClass:[a]},bonus:{fire:2,torpedo:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.CL_Yuubari,o=r.CT_Katori,a=r.AV_Nisshin;e.exports=[{equipment:310,ship:{isClass:[i]},bonus:{fire:2,aa:1,evasion:1}},{equipment:310,ship:{isClass:[o]},bonus:{fire:2,evasion:1}},{equipment:310,ship:{isClass:[a]},bonus:{fire:3,torpedo:2,aa:1,evasion:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.CL_Kuma,o=r.CL_Nagara,a=r.CL_Sendai,s=r.CL_Agano,u=r.CLT_Kuma,c=r.CL_Gotland,l=r.CLV_Gotland;e.exports=[{equipment:303,ship:{isClass:[i,o,a,s,u]},bonus:{fire:1,aa:1}},{equipment:303,ship:{isClass:[c,l]},bonus:{fire:1,aa:2,evasion:1}}]},function(e,t,n){"use strict";var r=n(1).CL_Abruzzi;e.exports=[{equipment:340,ship:{isClass:[r]},bonus:{fire:1,aa:1,evasion:1}},{equipment:341,ship:{isClass:[r]},bonus:{fire:2,aa:1,evasion:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.CA_Furutaka,o=r.CA_Aoba;e.exports=[{equipment:90,ship:{isID:[416,417,295]},bonus:{fire:1}},{equipment:90,ship:{isID:[264]},bonus:{fire:1,aa:1}},{equipment:90,ship:{isID:[142]},bonus:{fire:2,evasion:1}},{list:[90,"SurfaceRadar"],equipments:{hasID:[90],hasSurfaceRadar:!0},ship:{isClass:[i,o]},bonus:{fire:3,torpedo:2,evasion:2}},{list:[90,"AARadar"],equipments:{hasID:[90],hasAARadar:!0},ship:{isID:[264]},bonus:{aa:5,evasion:2}}]},function(e,t,n){"use strict";e.exports=[{equipment:104,ship:{isID:[149]},bonus:{fire:2}},{equipment:104,ship:{isID:[150,152]},bonus:{fire:1}},{equipment:104,ship:{isID:[151]},bonus:{fire:2,aa:1,evasion:2}}]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),o=i.Kongou,a=i.Hiei,s=i.Haruna,u=i.Kirishima,c=i.Ise,l=i.Hyuuga,f=i.Fusou,p=i.Yamashiro,h=n(0).BB_KongouClassRemodelAll;e.exports=[{equipment:328,ship:{isID:[].concat(r(o),r(a),r(s),r(u),r(c),r(l),r(f),r(p)).filter(function(e){return!h.includes(e)})},bonus:{fire:1}},{equipment:328,ship:{isID:h.filter(function(e){return 591!==e})},bonus:{fire:2,evasion:1}},{equipment:328,ship:{isID:[591]},bonus:{fire:3,torpedo:1,evasion:1}}]},function(e,t,n){"use strict";e.exports={Kongou:[78,209,149,591],Hiei:[86,210,150],Haruna:[79,211,151],Kirishima:[85,212,152],Ise:[77,82,553],Hyuuga:[87,88,554],Fusou:[26,286,411],Yamashiro:[27,287,412]}},function(e,t,n){"use strict";e.exports={Akagi:[83,277,594,599],Kaga:[84,278],Souryuu:[90,279,197],Hiryuu:[91,280,196],Shoukaku:[110,288,461,466],Zuikaku:[111,112,462,467]}},function(e,t,n){"use strict";e.exports={Yuubari:[115,293],Katori:[154,343],Kashima:[465,356]}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),o=i.Kongou,a=i.Hiei,s=i.Haruna,u=i.Kirishima,c=i.Ise,l=i.Hyuuga,f=i.Fusou,p=i.Yamashiro,h=n(0),d=h.BB_KongouClassRemodel,v=h.BB_KongouClass2ndRemodel,y=h.BB_KongouClassRemodelAll;e.exports=[{equipment:329,ship:{isID:[].concat(r(o),r(a),r(s),r(u),r(c),r(l),r(f),r(p)).filter(function(e){return!y.includes(e)})},bonus:{fire:1}},{equipment:329,ship:{isID:d},bonus:{fire:2,evasion:1}},{equipment:329,ship:{isID:v.filter(function(e){return 591!==e})},bonus:{fire:3,aa:1,evasion:1}},{equipment:329,ship:{isID:[591]},bonus:{fire:4,torpedo:2,aa:1,evasion:1}}]},function(e,t,n){"use strict";e.exports=[{equipment:289,ship:{isID:[149]},bonus:{fire:2,aa:1}},{equipment:289,ship:{isID:[150,152]},bonus:{fire:1}},{equipment:289,ship:{isID:[151]},bonus:{fire:2,aa:2,evasion:2}},{list:[289,"SurfaceRadar"],equipments:{hasID:[289],hasSurfaceRadar:!0},ship:{isID:[149,151]},bonus:{fire:2,evasion:2}}]},function(e,t,n){"use strict";var r=n(0),i=r.BB_NagatoClass2ndRemodel,o=r.BB_IseClassRemodelAll,a=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:318,ship:{isID:a},bonus:{fire:1}},{equipment:318,ship:{isID:o},bonus:{fire:2,aa:2,evasion:2}},{equipment:318,ship:{isID:i},bonus:{fire:3,aa:2,evasion:1}},{list:[318,290],equipments:{hasID:[318,290]},ship:{isID:o},bonus:{evasion:2,armor:1}},{list:[318,290],equipments:{hasID:[318,290]},ship:{isID:i},bonus:{fire:2,evasion:2,armor:1}},{list:[318,"AARadar"],equipments:{hasID:[318],hasAARadar:!0},ship:{isID:o},bonus:{aa:2,evasion:3}}]},function(e,t,n){"use strict";var r=n(0),i=r.BB_IseClassRemodel,o=r.BB_IseClass2ndRemodel,a=r.BB_IseClassRemodelAll,s=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:290,ship:{isID:s},bonus:{fire:1}},{equipment:290,ship:{isID:i},bonus:{fire:2,aa:2,evasion:1}},{equipment:290,ship:{isID:o},bonus:{fire:3,aa:2,evasion:1}},{list:[290,"AARadar"],equipments:{hasID:[290],hasAARadar:!0},ship:{isID:a},bonus:{aa:2,evasion:3}}]},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(0),a=o.BB_NagatoClassRemodel,s=o.BB_NagatoClass2ndRemodel,u=o.BB_NelsonClassRemodel,c=[{ship:{isID:a},bonus:{fire:1}},{ship:{isID:[].concat(i(s),i(u))},bonus:{fire:2}}],l=[];[330,331,332].forEach(function(t){c.forEach(function(e){l.push(r({equipment:t},e))})}),e.exports=l},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=i.BB_QueenElizabeth,a={ship:{isClass:[i.BB_Nelson]},bonus:{fire:2,armor:1}},s={ship:{isClass:[o]},bonus:{fire:2,armor:1,evasion:-2}},u={ship:{isID:n(0).BB_KongouClass2ndRemodel.filter(function(e){return 591!==e})},bonus:{fire:1,armor:1,evasion:-3}},c=[];[298,299,300].forEach(function(e){c.push(r({equipment:e},u)),c.push(r({equipment:e},s)),c.push(r({equipment:e},a))}),e.exports=c},function(e,t,n){"use strict";var r=n(1).DD_Kamikaze;e.exports=[{equipment:174,ship:{isClass:[r]},bonus:{torpedo:1,evasion:2}},{equipment:174,ship:{isID:[591]},bonus:{torpedo:6,evasion:3}}]},function(e,t,n){"use strict";e.exports=[{equipment:67,ship:{canEquip:[12],isNotType:[13,14]},bonus:{torpedo:-5}}]},function(e,t,n){"use strict";var r=n(0).vmf_DD;e.exports=[{equipment:283,ship:{isID:r},bonus:{fire:1,torpedo:3,armor:1}}]},function(e,t,n){"use strict";var r=n(1).group_DD_Navy_USN;e.exports=[{equipment:314,ship:{isClass:r},bonus:{fire:1,torpedo:3}}]},function(e,t,n){"use strict";var r=n(0),i=r.DD_FubukiClass2ndRemodel,o=r.DD_AyanamiClass2ndRemodel,a=r.DD_AkatsukiClass2ndRemodel,s=r.DD_HatsuharuClass2ndRemodel,u=i.concat(o,a,s);e.exports=[{equipment:285,ship:{isID:u},bonusImprove:{0:{torpedo:2,evasion:1},10:{fire:1,torpedo:2,evasion:1}}}]},function(e,t,n){"use strict";var r=n(0).DD_KagerouClass2ndRemodel;e.exports=[{equipment:15,ship:{isID:r},bonusCount:{1:{torpedo:2},2:{torpedo:4}}}]},function(e,t,n){"use strict";var r=n(0),i=r.DD_ShiratsuyuClass2ndRemodel,o=r.DD_AsashioClass2ndRemodel,a=r.DD_KagerouClass2ndRemodel,s=r.DD_YuugumoClass2ndRemodel,u=i.concat(o,s);e.exports=[{equipment:286,ship:{isID:u},bonusImprove:{0:{torpedo:2,evasion:1},10:{fire:1,torpedo:2,evasion:1}}},{equipment:286,ship:{isID:a},bonusImprove:{0:{torpedo:2,evasion:1},5:{torpedo:3,evasion:1},10:{fire:1,torpedo:3,evasion:1}}}]},function(e,t,n){"use strict";var r=n(1),i=r.CLT_Kuma,o=r.DD_Shimakaze,a=r.DD_Akizuki;e.exports=[{equipment:58,ship:{isClass:[i,o,a]},bonus:{torpedo:1}}]},function(e,t,n){"use strict";var r=n(1).DD_Akizuki;e.exports=[{equipment:179,ship:{isClass:r},bonus:{torpedo:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.CL_Kuma,o=r.CL_Nagara,a=r.CL_Sendai,s=r.CL_Agano,u=r.CLT_Kuma,c=r.CL_Gotland,l=r.CLV_Gotland;e.exports=[{equipment:304,ship:{isClass:[i,o,a,s,u]},bonus:{fire:1,evasion:1,asw:1}},{equipment:304,ship:{isClass:[c,l]},bonus:{fire:1,evasion:2,asw:2}}]},function(e,t,n){"use strict";var r=n(0),i=r.BB_IseClass2ndRemodel,o=r.BB_IseClassRemodel_PLUS_FusouClass2ndRemodel;e.exports=[{equipment:79,ship:{isID:o},bonus:{fire:2}},{equipment:79,ship:{isID:i},bonus:{fire:3}}]},function(e,t,n){"use strict";var r=n(0),i=r.BB_IseClass2ndRemodel,o=r.BB_IseClassRemodel_PLUS_FusouClass2ndRemodel;e.exports=[{equipment:81,ship:{isID:o},bonus:{fire:2}},{equipment:81,ship:{isID:i},bonus:{fire:3}}]},function(e,t,n){"use strict";var r=n(0),i=r.BB_IseClassRemodel,o=r.BB_IseClass2ndRemodel,a=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:237,ship:{isID:a},bonus:{fire:2}},{equipment:237,ship:{isID:i},bonus:{fire:3,evasion:1}},{equipment:237,ship:{isID:o},bonus:{fire:4,evasion:2}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:322,ship:{isID:r},bonus:{fire:5,aa:2,asw:1,evasion:2}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:323,ship:{isID:r},bonus:{fire:6,aa:3,asw:2,evasion:3}}]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=i.CV_AkagiClass2ndRemodel,a=i.CV_KagaClassRemodel;e.exports=[{equipment:335,ship:{isID:[].concat(r(a))},bonus:{aa:1,evasion:1}},{equipment:335,ship:{isID:[].concat(r(o))},bonus:{aa:2,evasion:1}},{equipment:336,ship:{isID:[].concat(r(a))},bonus:{fire:1,aa:1,evasion:1}},{equipment:336,ship:{isID:[].concat(r(o))},bonus:{fire:1,aa:2,evasion:1}}]},function(e,t,n){"use strict";var r=n(1).group_CV_Navy_RM;e.exports=[{equipment:184,ship:{isClass:r},bonus:{fire:1,aa:2,evasion:3}}]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(1),o=i.group_CV_Navy_RM,a=i.group_CV_Navy_KM;e.exports=[{equipment:189,ship:{isClass:[].concat(r(o),r(a))},bonus:{aa:1,evasion:2}}]},function(e,t,n){"use strict";var r=n(2),i=r.Souryuu,o=r.Hiryuu;e.exports=[{equipment:99,ship:{isID:i},bonusCount:{1:{fire:4}}},{equipment:99,ship:{isID:o},bonusCount:{1:{fire:1}}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:24,ship:{isID:r},bonus:{fire:2}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:111,ship:{isID:r},bonus:{fire:2}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:57,ship:{isID:r},bonus:{fire:2}}]},function(e,t,n){"use strict";var r=n(2),i=r.Souryuu,o=r.Hiryuu,a=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:100,ship:{isID:a},bonus:{fire:4}},{equipment:100,ship:{isID:i},bonusCount:{1:{fire:6}}},{equipment:100,ship:{isID:o},bonusCount:{1:{fire:3}}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:291,ship:{isID:r},bonus:{fire:6,evasion:1}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:292,ship:{isID:r},bonus:{fire:8,aa:1,evasion:2}}]},function(e,t,n){"use strict";var r=n(0).BB_IseClass2ndRemodel;e.exports=[{equipment:319,ship:{isID:r},bonus:{fire:7,aa:3,evasion:2}}]},function(e,t,n){"use strict";e.exports=[{equipment:320,ship:{isID:[553]},bonus:{fire:2}},{equipment:320,ship:{isID:[554]},bonus:{fire:4}},{equipment:320,ship:{isID:[197,196]},bonus:{fire:3}},{equipment:320,ship:{isID:[508,509]},bonus:{fire:4}}]},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={ship:{isID:[353,365]},bonus:{fire:1,evasion:1}},o={ship:{isID:[380,529]},bonus:{asw:1,evasion:1}},a={ship:{isID:[381,536]},bonus:{asw:3,evasion:2}};e.exports=[r({equipment:305},i),r({equipment:305},o),r({equipment:305},a),r({equipment:306},i),r({equipment:306},o),r({equipment:306},a)]},function(e,t,n){"use strict";var r=n(1).group_CV_Navy_RM;e.exports=[{equipment:316,ship:{isClass:r},bonus:{fire:4,aa:1,evasion:1}}]},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={ship:{isID:[380,529,381,536]},bonus:{asw:1,evasion:1}};e.exports=[r({equipment:82},i),r({equipment:302},i)]},function(e,t,n){"use strict";var r=n(2),i=r.Souryuu,o=r.Hiryuu;e.exports=[{equipment:93,ship:{isID:i},bonusCount:{1:{fire:1}}},{equipment:93,ship:{isID:o},bonusCount:{1:{fire:3}}}]},function(e,t,n){"use strict";var r=n(2),i=r.Shoukaku,o=r.Zuikaku,a=n(0).CV_AkagiClassRemodelAll;e.exports=[{equipment:143,ship:{isID:[157]},bonusCount:{1:{fire:1}}},{equipment:143,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))},bonusCount:{1:{fire:3}}},{equipment:143,ship:{isID:[278]},bonusCount:{1:{fire:2}}},{equipment:143,ship:{isID:i},bonusCount:{1:{fire:2}}},{equipment:143,ship:{isID:o},bonusCount:{1:{fire:1}}}]},function(e,t,n){"use strict";var r=[];[18,52].forEach(function(e){r.push({equipment:e,ship:{isID:[277,278,156]},bonus:{fire:1}}),r.push({equipment:e,ship:{isID:[594]},bonus:{fire:1,evasion:1}}),r.push({equipment:e,ship:{isID:[599]},bonus:{fire:2,evasion:1}})}),e.exports=r},function(e,t,n){"use strict";var r=n(2),i=r.Souryuu,o=r.Hiryuu;e.exports=[{equipment:94,ship:{isID:i},bonusCount:{1:{fire:3}}},{equipment:94,ship:{isID:o},bonusCount:{1:{fire:7}}}]},function(e,t,n){"use strict";var r=n(0).CV_AkagiClassRemodelAll;e.exports=[{equipment:144,ship:{isID:[157]},bonusCount:{1:{fire:1}}},{equipment:144,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},bonusCount:{1:{fire:3}}},{equipment:144,ship:{isID:[278]},bonusCount:{1:{fire:2}}},{equipment:144,ship:{isID:[110,288]},bonusCount:{1:{fire:2}}},{equipment:144,ship:{isID:[461,466]},bonusCount:{1:{fire:4}}},{equipment:144,ship:{isID:[111,112]},bonusCount:{1:{fire:1}}},{equipment:144,ship:{isID:[462,467]},bonusCount:{1:{fire:2}}}]},function(e,t,n){"use strict";var r=n(1).group_CV_Navy_RM;e.exports=[{equipment:188,ship:{isClass:r},bonus:{fire:3,aa:1,evasion:1}}]},function(e,t,n){"use strict";var r=n(78).Carriers;e.exports=[{equipment:61,ship:{isID:[553]},bonusImprove:{0:{fire:3,evasion:2,armor:1,range:"1"},2:{fire:3,evasion:2,armor:1,los:1,range:"1"},4:{fire:4,evasion:2,armor:1,los:1,range:"1"},6:{fire:4,evasion:2,armor:1,los:2,range:"1"},10:{fire:5,evasion:2,armor:1,los:3,range:"1"}}},{equipment:61,ship:{isID:[554]},bonusImprove:{0:{fire:3,evasion:3,armor:3,range:"1"},2:{fire:3,evasion:3,armor:3,los:1,range:"1"},4:{fire:4,evasion:3,armor:3,los:1,range:"1"},6:{fire:4,evasion:3,armor:3,los:2,range:"1"},10:{fire:5,evasion:3,armor:3,los:3,range:"1"}}},{equipment:61,ship:{isType:r,isNotID:[560,508,509,197,196]},bonusImprove:{2:{los:1},4:{fire:1,los:1},6:{fire:1,los:2},10:{fire:2,los:3}}},{equipment:61,ship:{isID:[560,508,509]},bonusImprove:{1:{fire:1,los:1},2:{fire:1,los:2},4:{fire:2,los:2},6:{fire:2,los:3},10:{fire:3,los:4}}},{equipment:61,ship:{isID:[197]},bonusImprove:{0:{range:"1"},1:{fire:3,los:3,range:"1"},2:{fire:3,los:4,range:"1"},4:{fire:4,los:4,range:"1"},6:{fire:4,los:5,range:"1"},8:{fire:5,los:6,range:"1"},10:{fire:6,los:7,range:"1"}}},{equipment:61,ship:{isID:[196]},bonusImprove:{0:{range:"1"},1:{fire:2,los:2,range:"1"},2:{fire:2,los:3,range:"1"},4:{fire:3,los:3,range:"1"},6:{fire:3,los:4,range:"1"},10:{fire:4,los:5,range:"1"}}}]},function(e,t,n){"use strict";e.exports={Battleships:[8,6,20,7,18,33],Carriers:[9,10,11,30,32],HeavyCruisers:[4],LightCruisers:[2,3,21,28],Destroyers:[1,19],Submarines:[13,14],SeaplaneTenders:[12,24]}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=i.Yahagi,a=i.Ooyodo,s=i.Kashima,u=i.Hibiki,c=i.Kasumi,l=i.Yukikaze,f=i.Isokaze,p=i.Hamakaze,h=i.Asashimo,d=i.Suzutsuki;e.exports=[{equipment:106,ship:{isID:[].concat(r(a),r(s),r(u))},bonus:{aa:1,evasion:3,armor:1}},{equipment:106,ship:{isID:[].concat(r(o),r(c),r(l),r(f),r(p),r(h),r(d))},bonus:{aa:2,evasion:2,armor:1}},{equipment:106,ship:{isID:[151,541,407,145,419]},bonus:{fire:1,aa:2,evasion:3,armor:1}}]},function(e,t,n){"use strict";var r=n(1).group_Navy_USN;e.exports=[{equipment:307,ship:{isClass:r},bonus:{fire:1,aa:1,evasion:1}}]},function(e,t,n){"use strict";var r=n(1),i=r.group_Navy_USN,o=r.DD_JohnCButler,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i));a.splice(a.indexOf(o),1),e.exports=[{equipment:315,ship:{isClass:a},bonus:{fire:2,evasion:3,los:4}},{equipment:315,ship:{isClass:o},bonus:{fire:3,evasion:3,los:4,range:"1"}}]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=i.Kamikaze,a=i.Harukaze,s=i.Ushio,u=i.Ikazuchi,c=i.Shigure,l=i.Yamakaze,f=i.Yamagumo,p=i.Isokaze,h=i.Hamakaze,d=i.Maikaze,v=i.Kishinami,y=i.Asashimo;e.exports=[{equipment:47,ship:{isID:[].concat(r(s),r(u),r(f),r(p),r(h),r(v))},bonus:{evasion:2,asw:2}},{equipment:47,ship:{isID:[].concat(r(o),r(a),r(c),r(l),r(d),r(y))},bonus:{fire:1,evasion:2,asw:3}}]},function(e,t,n){"use strict";var r=n(1).group_Navy_RN;e.exports=[{equipment:301,ship:{isClass:r},bonus:{aa:2,evasion:1,armor:1}}]},function(e,t,n){"use strict";var r=n(0).CL_KumaClassRemodelAll;e.exports=[{equipment:268,ship:{canEquip:[33]},bonusArea:{North:{armor:3}}},{equipment:268,ship:{isID:r},bonusCount:{1:{armor:2,evasion:7}}}]},function(e,t,n){"use strict";e.exports=[{equipment:35,ship:{isID:[149,591]},bonusCount:{1:{fire:1,aa:1}}},{equipment:35,ship:{isID:[150]},bonusCount:{1:{aa:1}}},{equipment:35,ship:{isID:[151]},bonusCount:{1:{aa:1,evasion:1}}},{equipment:35,ship:{isID:[152]},bonusCount:{1:{fire:1}}}]},function(e,t,n){"use strict";e.exports=[{equipment:317,ship:{isID:[78,209,86,210,79,211,85,212]},bonusCount:{1:{fire:1,aa:1}}},{equipment:317,ship:{isID:[149,591]},bonusCount:{1:{fire:3,aa:3}}},{equipment:317,ship:{isID:[150]},bonusCount:{1:{fire:2,aa:2}}},{equipment:317,ship:{isID:[151]},bonusCount:{1:{fire:2,aa:2,evasion:1}}},{equipment:317,ship:{isID:[152]},bonusCount:{1:{fire:3,aa:2}}},{equipment:317,ship:{isID:[541]},bonusCount:{1:{fire:1,aa:2}}},{equipment:317,ship:{isID:[573]},bonusCount:{1:{fire:2,aa:2,evasion:1}}}]},function(e,t,n){"use strict";e.exports=[{equipment:324,ship:{isID:553},bonus:{asw:1,evasion:1}},{equipment:324,ship:{isID:554},bonus:{asw:2,evasion:1}}]},function(e,t,n){"use strict";e.exports=[{equipment:325,ship:{isID:553},bonus:{asw:1,evasion:1}},{equipment:325,ship:{isID:554},bonus:{asw:2,evasion:1}}]},function(e,t,n){"use strict";e.exports=[{equipment:326,ship:{isID:553},bonus:{fire:2,asw:1,evasion:2}},{equipment:326,ship:{isID:554},bonus:{fire:3,asw:2,evasion:3}}]},function(e,t,n){"use strict";e.exports=[{equipment:327,ship:{isID:553},bonus:{fire:1,asw:3,evasion:1}},{equipment:327,ship:{isID:554},bonus:{fire:2,asw:4,evasion:2}}]},function(e,t,n){"use strict";e.exports=[{equipment:74,ship:{isID:[132,301]},bonus:{fire:1}},{equipment:74,ship:{isID:[20,228]},bonus:{aa:1}},{equipment:74,ship:{isID:[86,210,150,85,212,152,69,272,427,34,234,437]},bonusCount:{1:{fire:2,evasion:-1}}},{equipment:74,ship:{isID:[55,223,159]},bonusCount:{1:{fire:2,torpedo:2,evasion:-1}}}]},function(e,t,n){"use strict";e.exports=[{equipment:140,ship:{isID:[86,210,150,85,212,152]},bonusCount:{1:{fire:3,evasion:-2}}}]},function(e,t,n){"use strict";var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(94),h=n(7),d=n(97),v=n(5);e.exports=function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=arguments[4];if("string"==typeof a)return e(t,o,void 0,void 0,a);if("string"==typeof n)return e(t,o,a,void 0,n);var i=p(t,o,a,n);t=i.ship,o=i.equipments,a=i.equipmentStars,n=i.equipmentRanks;var s={},u=v.filter(function(e){return h(t,e.ship)}),c=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)void 0===s[t]?s[t]=e[t]:"number"==typeof s[t]?s[t]+=e[t]:s[t]=e[t]};return u.filter(function(t){return"number"==typeof t.equipment&&o.some(function(e){return e&&e.id&&e.id==t.equipment})}).forEach(function(r){var i={};if("object"===f(r.bonusImprove)){var t=Object.keys(r.bonusImprove).sort(function(e,t){return parseInt(t)-parseInt(e)});o.forEach(function(e,n){e&&e.id&&e.id==r.equipment&&t.some(function(e){if(a[n]>=e){for(var t in r.bonusImprove[e])void 0===i[t]?i[t]=r.bonusImprove[e][t]:"number"==typeof i[t]?i[t]+=r.bonusImprove[e][t]:i[t]=r.bonusImprove[e][t];return!0}return!1})})}else{var n=0;if(o.forEach(function(e){e&&e.id&&e.id==r.equipment&&n++}),"object"===f(r.bonusCount))Object.keys(r.bonusCount).sort(function(e,t){return parseInt(t)-parseInt(e)}).some(function(e){return e<=n&&(i=l({},r.bonusCount[e]),!0)});else if("object"===f(r.bonus))for(var e in i=l({},r.bonus))i[e]="number"==typeof i[e]?i[e]*n:parseInt(i[e])}c(i)}),u.filter(function(e){return"object"===f(e.equipments)&&d(o,a,n,e.equipments)}).forEach(function(e){c(e.bonus)}),"string"==typeof r?s[r]||0:s}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(3),u=n(6);e.exports=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];return"number"!=typeof r&&"string"!=typeof r||(r=[r]),"number"!=typeof i&&"string"!=typeof i||(i=[i]),"number"!=typeof o&&"string"!=typeof o||(o=[o]),n=s(n),r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(Math.max(5,n.slot.length+1)))).map(function(e,t){if(n&&!(n.slot.length<=t&&t<4))return u(r[t])||void 0}),{ship:n,equipments:r,equipmentStars:r.map(function(e,t){return"object"===a(r[t])?Math.min(10,parseInt(i[t])||0):void 0}),equipmentRanks:r.map(function(e,t){return"object"===a(r[t])?Math.min(7,parseInt(o[t])||0):void 0})}}},function(e,t,n){"use strict";e.exports=function(e,t){return Array.isArray(e)?e.some(t):t(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return Array.isArray(e)?e.every(t):t(e)}},function(e,t,n){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(9),p=["id","name","nameof","type"];e.exports=function e(i,o,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if("object"===(void 0===o?"undefined":c(o))&&!Array.isArray(o))return e(i,[],[],o);if("object"===(void 0===a?"undefined":c(a))&&!Array.isArray(a))return e(i,o,[],a);if(!Array.isArray(i))return e([i],o,a,s);if(Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]),Array.isArray(s)){var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i));return s.every(function(n){return r.some(function(e,t){return!!f(e,o[t],a[t],n)&&(r.splice(t,1),!0)})})}var t=function(r){if(void 0===s[r])return"continue";if(!1===s[r]){if(!i.every(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),s[r]))}))return{v:!1}}else if(!0===s[r]){if(!i.some(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),s[r]))}))return{v:!1}}else if("has"===r.substr(0,3)&&p.includes(r.substr(3).toLowerCase())){if(Array.isArray(s[r])){if(!s[r].every(function(n){return i.some(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),n))})}))return{v:!1}}else if(!i.some(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),s[r]))}))return{v:!1}}else if("has"!==r.substr(0,3)||"object"!==c(s[r])||Array.isArray(s[r])){if("has"!==r.substr(0,3)||isNaN(s[r])){if("has"===r.substr(0,3)&&Array.isArray(s[r])){var e=i.filter(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),!0))});if(e.length<s[r][0]||e.length>s[r][1])return{v:!1}}}else if(i.filter(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),!0))}).length<s[r])return{v:!1}}else{var n=Object.assign({},s[r]),t=void 0===n.count?1:n.count;if(delete n.count,i.filter(function(e,t){return f(e,o[t],a[t],l({},r.replace(/^has/,"is"),n))}).length<t)return{v:!1}}};for(var n in s){var u=t(n);switch(u){case"continue":continue;default:if("object"===(void 0===u?"undefined":c(u)))return u.v}}return!0}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ship_classes[parseInt(e)]}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ship_types[parseInt(e)]}},function(e,t,n){"use strict";var y=n(3),m=n(101),g=n(4);e.exports=function(e){var t=e.ship,n=e.equipments,s=void 0===n?[]:n,r=e.equipmentStars,u=void 0===r?[]:r,i=e.bonus,o=void 0===i?{}:i,a=e.count,c=void 0===a?{}:a,l=y(t),f=m(l),p=l.stat.fire_max+(o.fire||0),h=0,d=[];f.forEach(function(e,t){if(s[t]){var n=s[t],r=!1,i=!1;if(!Array.isArray(n.type_ingame)||45!==n.type_ingame[3]&&46!==n.type_ingame[3]?g.TorpedoBombers.includes(n.type)?n.hasName("Swordfish","ja_jp")&&(i=!0,h++):g.DiveBombers.includes(n.type)&&(n.hasName("","ja_jp")&&(i=!0,h++),n.hasName("","ja_jp")&&(i=!0,h++)):i=r=!0,i){var o=r?3:0,a=r?.45:.3;p+=n.getStat("fire",l)+n.getStat("torpedo",l)+o*e+a*Math.sqrt(e)*(n.getStat("fire",l)+n.getStat("torpedo",l)+n.getStat("bomb",l)+n.getStat("asw",l))+(u[t]?KC.formula.getStarBonus(s[t],"night",u[t]):0)}}}),2<=c.carrierFighterNight&&1<=c.torpedoBomberNight&&d.push(1.25),1<=c.carrierFighterNight&&1<=c.torpedoBomberNight&&d.push(1.2),(3<=c.carrierFighterNight||2<=c.carrierFighterNight&&1<=h||1<=c.carrierFighterNight&&1<=c.torpedoBomberNight&&1<=h||1<=c.carrierFighterNight&&2<=c.torpedoBomberNight||1<=c.carrierFighterNight&&2<=h)&&d.push(1.18);var v={type:"",hit:1,damage:Math.floor(p),isMax:!0};return d.length&&(v.cis=d.map(function(e){return[Math.floor(v.damage*e),1]})),v}},function(e,t,o){"use strict";e.exports=function(e){for(var t=o(3)(e).slot,n=void 0===t?[]:t,r=[],i=0;i<5;i++)r[i]=n[i]||0;return r}}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=n,r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,n){var r,i,o;i=[e,n(7)],void 0!==(o="function"==typeof(r=function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),t}();e.exports=a})?r.apply(t,i):r)&&(e.exports=o)},function(e,t,n){var p=n(6),h=n(5);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!p.string(t))throw new TypeError("Second argument must be a String");if(!p.fn(n))throw new TypeError("Third argument must be a Function");if(p.node(e))return i=t,o=n,(r=e).addEventListener(i,o),{destroy:function(){r.removeEventListener(i,o)}};var r,i,o,a,s,u,c,l,f;if(p.nodeList(e))return a=e,s=t,u=n,Array.prototype.forEach.call(a,function(e){e.addEventListener(s,u)}),{destroy:function(){Array.prototype.forEach.call(a,function(e){e.removeEventListener(s,u)})}};if(p.string(e))return c=e,l=t,f=n,h(document.body,c,l,f);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r,i,o;i=[e,n(0),n(2),n(1)],void 0!==(o="function"==typeof(r=function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var a=i(t),s=i(n),u=i(r),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),l(r,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,u.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return o("action",e)}},{key:"defaultTarget",value:function(e){var t=o("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return o("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),r}(s.default);e.exports=f})?r.apply(t,i):r)&&(e.exports=o)},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){function o(e,t,n,r,i){var o=function(t,n,e,r){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&r.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}var a=n(4);e.exports=function(e,t,n,r,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,r,i)}))}},function(e,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}}])});